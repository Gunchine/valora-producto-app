(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function um(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pd={exports:{}},xi={},md={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jo=Symbol.for("react.element"),cm=Symbol.for("react.portal"),dm=Symbol.for("react.fragment"),fm=Symbol.for("react.strict_mode"),pm=Symbol.for("react.profiler"),mm=Symbol.for("react.provider"),hm=Symbol.for("react.context"),gm=Symbol.for("react.forward_ref"),ym=Symbol.for("react.suspense"),vm=Symbol.for("react.memo"),Cm=Symbol.for("react.lazy"),Ua=Symbol.iterator;function _m(t){return t===null||typeof t!="object"?null:(t=Ua&&t[Ua]||t["@@iterator"],typeof t=="function"?t:null)}var hd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gd=Object.assign,yd={};function no(t,e,n){this.props=t,this.context=e,this.refs=yd,this.updater=n||hd}no.prototype.isReactComponent={};no.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};no.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vd(){}vd.prototype=no.prototype;function Ul(t,e,n){this.props=t,this.context=e,this.refs=yd,this.updater=n||hd}var Ol=Ul.prototype=new vd;Ol.constructor=Ul;gd(Ol,no.prototype);Ol.isPureReactComponent=!0;var Oa=Array.isArray,Cd=Object.prototype.hasOwnProperty,$l={current:null},_d={key:!0,ref:!0,__self:!0,__source:!0};function Td(t,e,n){var o,r={},i=null,s=null;if(e!=null)for(o in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)Cd.call(e,o)&&!_d.hasOwnProperty(o)&&(r[o]=e[o]);var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){for(var d=Array(u),c=0;c<u;c++)d[c]=arguments[c+2];r.children=d}if(t&&t.defaultProps)for(o in u=t.defaultProps,u)r[o]===void 0&&(r[o]=u[o]);return{$$typeof:jo,type:t,key:i,ref:s,props:r,_owner:$l.current}}function Tm(t,e){return{$$typeof:jo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Bl(t){return typeof t=="object"&&t!==null&&t.$$typeof===jo}function xm(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var $a=/\/+/g;function zi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xm(""+t.key):e.toString(36)}function wr(t,e,n,o,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case jo:case cm:s=!0}}if(s)return s=t,r=r(s),t=o===""?"."+zi(s,0):o,Oa(r)?(n="",t!=null&&(n=t.replace($a,"$&/")+"/"),wr(r,e,n,"",function(c){return c})):r!=null&&(Bl(r)&&(r=Tm(r,n+(!r.key||s&&s.key===r.key?"":(""+r.key).replace($a,"$&/")+"/")+t)),e.push(r)),1;if(s=0,o=o===""?".":o+":",Oa(t))for(var u=0;u<t.length;u++){i=t[u];var d=o+zi(i,u);s+=wr(i,e,n,d,r)}else if(d=_m(t),typeof d=="function")for(t=d.call(t),u=0;!(i=t.next()).done;)i=i.value,d=o+zi(i,u++),s+=wr(i,e,n,d,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function sr(t,e,n){if(t==null)return t;var o=[],r=0;return wr(t,o,"","",function(i){return e.call(n,i,r++)}),o}function Em(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ke={current:null},kr={transition:null},Sm={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:kr,ReactCurrentOwner:$l};function xd(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:sr,forEach:function(t,e,n){sr(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return sr(t,function(){e++}),e},toArray:function(t){return sr(t,function(e){return e})||[]},only:function(t){if(!Bl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};H.Component=no;H.Fragment=dm;H.Profiler=pm;H.PureComponent=Ul;H.StrictMode=fm;H.Suspense=ym;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sm;H.act=xd;H.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var o=gd({},t.props),r=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=$l.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(d in e)Cd.call(e,d)&&!_d.hasOwnProperty(d)&&(o[d]=e[d]===void 0&&u!==void 0?u[d]:e[d])}var d=arguments.length-2;if(d===1)o.children=n;else if(1<d){u=Array(d);for(var c=0;c<d;c++)u[c]=arguments[c+2];o.children=u}return{$$typeof:jo,type:t.type,key:r,ref:i,props:o,_owner:s}};H.createContext=function(t){return t={$$typeof:hm,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:mm,_context:t},t.Consumer=t};H.createElement=Td;H.createFactory=function(t){var e=Td.bind(null,t);return e.type=t,e};H.createRef=function(){return{current:null}};H.forwardRef=function(t){return{$$typeof:gm,render:t}};H.isValidElement=Bl;H.lazy=function(t){return{$$typeof:Cm,_payload:{_status:-1,_result:t},_init:Em}};H.memo=function(t,e){return{$$typeof:vm,type:t,compare:e===void 0?null:e}};H.startTransition=function(t){var e=kr.transition;kr.transition={};try{t()}finally{kr.transition=e}};H.unstable_act=xd;H.useCallback=function(t,e){return ke.current.useCallback(t,e)};H.useContext=function(t){return ke.current.useContext(t)};H.useDebugValue=function(){};H.useDeferredValue=function(t){return ke.current.useDeferredValue(t)};H.useEffect=function(t,e){return ke.current.useEffect(t,e)};H.useId=function(){return ke.current.useId()};H.useImperativeHandle=function(t,e,n){return ke.current.useImperativeHandle(t,e,n)};H.useInsertionEffect=function(t,e){return ke.current.useInsertionEffect(t,e)};H.useLayoutEffect=function(t,e){return ke.current.useLayoutEffect(t,e)};H.useMemo=function(t,e){return ke.current.useMemo(t,e)};H.useReducer=function(t,e,n){return ke.current.useReducer(t,e,n)};H.useRef=function(t){return ke.current.useRef(t)};H.useState=function(t){return ke.current.useState(t)};H.useSyncExternalStore=function(t,e,n){return ke.current.useSyncExternalStore(t,e,n)};H.useTransition=function(){return ke.current.useTransition()};H.version="18.3.1";md.exports=H;var Z=md.exports;const wm=um(Z);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km=Z,Im=Symbol.for("react.element"),Nm=Symbol.for("react.fragment"),Am=Object.prototype.hasOwnProperty,Pm=km.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Mm={key:!0,ref:!0,__self:!0,__source:!0};function Ed(t,e,n){var o,r={},i=null,s=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(o in e)Am.call(e,o)&&!Mm.hasOwnProperty(o)&&(r[o]=e[o]);if(t&&t.defaultProps)for(o in e=t.defaultProps,e)r[o]===void 0&&(r[o]=e[o]);return{$$typeof:Im,type:t,key:i,ref:s,props:r,_owner:Pm.current}}xi.Fragment=Nm;xi.jsx=Ed;xi.jsxs=Ed;pd.exports=xi;var T=pd.exports,gs={},Sd={exports:{}},Ge={},wd={exports:{}},kd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,$){var G=D.length;D.push($);e:for(;0<G;){var ee=G-1>>>1,ae=D[ee];if(0<r(ae,$))D[ee]=$,D[G]=ae,G=ee;else break e}}function n(D){return D.length===0?null:D[0]}function o(D){if(D.length===0)return null;var $=D[0],G=D.pop();if(G!==$){D[0]=G;e:for(var ee=0,ae=D.length,bt=ae>>>1;ee<bt;){var Ne=2*(ee+1)-1,so=D[Ne],jt=Ne+1,ir=D[jt];if(0>r(so,G))jt<ae&&0>r(ir,so)?(D[ee]=ir,D[jt]=G,ee=jt):(D[ee]=so,D[Ne]=G,ee=Ne);else if(jt<ae&&0>r(ir,G))D[ee]=ir,D[jt]=G,ee=jt;else break e}}return $}function r(D,$){var G=D.sortIndex-$.sortIndex;return G!==0?G:D.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var d=[],c=[],f=1,p=null,m=3,h=!1,v=!1,_=!1,k=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(D){for(var $=n(c);$!==null;){if($.callback===null)o(c);else if($.startTime<=D)o(c),$.sortIndex=$.expirationTime,e(d,$);else break;$=n(c)}}function x(D){if(_=!1,C(D),!v)if(n(d)!==null)v=!0,Cn(S);else{var $=n(c);$!==null&&_n(x,$.startTime-D)}}function S(D,$){v=!1,_&&(_=!1,y(A),A=-1),h=!0;var G=m;try{for(C($),p=n(d);p!==null&&(!(p.expirationTime>$)||D&&!K());){var ee=p.callback;if(typeof ee=="function"){p.callback=null,m=p.priorityLevel;var ae=ee(p.expirationTime<=$);$=t.unstable_now(),typeof ae=="function"?p.callback=ae:p===n(d)&&o(d),C($)}else o(d);p=n(d)}if(p!==null)var bt=!0;else{var Ne=n(c);Ne!==null&&_n(x,Ne.startTime-$),bt=!1}return bt}finally{p=null,m=G,h=!1}}var N=!1,E=null,A=-1,M=5,P=-1;function K(){return!(t.unstable_now()-P<M)}function Ve(){if(E!==null){var D=t.unstable_now();P=D;var $=!0;try{$=E(!0,D)}finally{$?Qe():(N=!1,E=null)}}else N=!1}var Qe;if(typeof g=="function")Qe=function(){g(Ve)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,wt=xe.port2;xe.port1.onmessage=Ve,Qe=function(){wt.postMessage(null)}}else Qe=function(){k(Ve,0)};function Cn(D){E=D,N||(N=!0,Qe())}function _n(D,$){A=k(function(){D(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){v||h||(v=!0,Cn(S))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(D){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var G=m;m=$;try{return D()}finally{m=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,$){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=m;m=D;try{return $()}finally{m=G}},t.unstable_scheduleCallback=function(D,$,G){var ee=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ee+G:ee):G=ee,D){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=G+ae,D={id:f++,callback:$,priorityLevel:D,startTime:G,expirationTime:ae,sortIndex:-1},G>ee?(D.sortIndex=G,e(c,D),n(d)===null&&D===n(c)&&(_?(y(A),A=-1):_=!0,_n(x,G-ee))):(D.sortIndex=ae,e(d,D),v||h||(v=!0,Cn(S))),D},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(D){var $=m;return function(){var G=m;m=$;try{return D.apply(this,arguments)}finally{m=G}}}})(kd);wd.exports=kd;var Rm=wd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm=Z,Be=Rm;function w(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Id=new Set,Vo={};function yn(t,e){Hn(t,e),Hn(t+"Capture",e)}function Hn(t,e){for(Vo[t]=e,t=0;t<e.length;t++)Id.add(e[t])}var Ct=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ys=Object.prototype.hasOwnProperty,Lm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ba={},Ga={};function Fm(t){return ys.call(Ga,t)?!0:ys.call(Ba,t)?!1:Lm.test(t)?Ga[t]=!0:(Ba[t]=!0,!1)}function Vm(t,e,n,o){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Um(t,e,n,o){if(e===null||typeof e>"u"||Vm(t,e,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ie(t,e,n,o,r,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ye[t]=new Ie(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ye[e]=new Ie(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ye[t]=new Ie(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ye[t]=new Ie(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ye[t]=new Ie(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ye[t]=new Ie(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ye[t]=new Ie(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ye[t]=new Ie(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ye[t]=new Ie(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gl=/[\-:]([a-z])/g;function zl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Gl,zl);ye[e]=new Ie(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Gl,zl);ye[e]=new Ie(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Gl,zl);ye[e]=new Ie(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ye[t]=new Ie(t,1,!1,t.toLowerCase(),null,!1,!1)});ye.xlinkHref=new Ie("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ye[t]=new Ie(t,1,!1,t.toLowerCase(),null,!0,!0)});function Hl(t,e,n,o){var r=ye.hasOwnProperty(e)?ye[e]:null;(r!==null?r.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Um(e,n,r,o)&&(n=null),o||r===null?Fm(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,o=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,o?t.setAttributeNS(o,e,n):t.setAttribute(e,n))))}var St=Dm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lr=Symbol.for("react.element"),Sn=Symbol.for("react.portal"),wn=Symbol.for("react.fragment"),ql=Symbol.for("react.strict_mode"),vs=Symbol.for("react.profiler"),Nd=Symbol.for("react.provider"),Ad=Symbol.for("react.context"),Wl=Symbol.for("react.forward_ref"),Cs=Symbol.for("react.suspense"),_s=Symbol.for("react.suspense_list"),Jl=Symbol.for("react.memo"),It=Symbol.for("react.lazy"),Pd=Symbol.for("react.offscreen"),za=Symbol.iterator;function lo(t){return t===null||typeof t!="object"?null:(t=za&&t[za]||t["@@iterator"],typeof t=="function"?t:null)}var ie=Object.assign,Hi;function yo(t){if(Hi===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Hi=e&&e[1]||""}return`
`+Hi+t}var qi=!1;function Wi(t,e){if(!t||qi)return"";qi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var o=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){o=c}t.call(e.prototype)}else{try{throw Error()}catch(c){o=c}t()}}catch(c){if(c&&o&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),i=o.stack.split(`
`),s=r.length-1,u=i.length-1;1<=s&&0<=u&&r[s]!==i[u];)u--;for(;1<=s&&0<=u;s--,u--)if(r[s]!==i[u]){if(s!==1||u!==1)do if(s--,u--,0>u||r[s]!==i[u]){var d=`
`+r[s].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=s&&0<=u);break}}}finally{qi=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?yo(t):""}function Om(t){switch(t.tag){case 5:return yo(t.type);case 16:return yo("Lazy");case 13:return yo("Suspense");case 19:return yo("SuspenseList");case 0:case 2:case 15:return t=Wi(t.type,!1),t;case 11:return t=Wi(t.type.render,!1),t;case 1:return t=Wi(t.type,!0),t;default:return""}}function Ts(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wn:return"Fragment";case Sn:return"Portal";case vs:return"Profiler";case ql:return"StrictMode";case Cs:return"Suspense";case _s:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ad:return(t.displayName||"Context")+".Consumer";case Nd:return(t._context.displayName||"Context")+".Provider";case Wl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jl:return e=t.displayName||null,e!==null?e:Ts(t.type)||"Memo";case It:e=t._payload,t=t._init;try{return Ts(t(e))}catch{}}return null}function $m(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ts(e);case 8:return e===ql?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ht(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Md(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Bm(t){var e=Md(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),o=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(s){o=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(s){o=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ar(t){t._valueTracker||(t._valueTracker=Bm(t))}function Rd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),o="";return t&&(o=Md(t)?t.checked?"true":"false":t.value),t=o,t!==n?(e.setValue(t),!0):!1}function zr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xs(t,e){var n=e.checked;return ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ha(t,e){var n=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;n=Ht(e.value!=null?e.value:n),t._wrapperState={initialChecked:o,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Dd(t,e){e=e.checked,e!=null&&Hl(t,"checked",e,!1)}function Es(t,e){Dd(t,e);var n=Ht(e.value),o=e.type;if(n!=null)o==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(o==="submit"||o==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ss(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ss(t,e.type,Ht(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qa(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ss(t,e,n){(e!=="number"||zr(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var vo=Array.isArray;function Un(t,e,n,o){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&o&&(t[n].defaultSelected=!0)}else{for(n=""+Ht(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,o&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function ws(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(w(91));return ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wa(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(w(92));if(vo(n)){if(1<n.length)throw Error(w(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ht(n)}}function Ld(t,e){var n=Ht(e.value),o=Ht(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),o!=null&&(t.defaultValue=""+o)}function Ja(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Fd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ks(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Fd(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ur,Vd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,o,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,o,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ur=ur||document.createElement("div"),ur.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ur.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Uo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var wo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gm=["Webkit","ms","Moz","O"];Object.keys(wo).forEach(function(t){Gm.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wo[e]=wo[t]})});function Ud(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||wo.hasOwnProperty(t)&&wo[t]?(""+e).trim():e+"px"}function Od(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var o=n.indexOf("--")===0,r=Ud(n,e[n],o);n==="float"&&(n="cssFloat"),o?t.setProperty(n,r):t[n]=r}}var zm=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Is(t,e){if(e){if(zm[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(w(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(w(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(w(61))}if(e.style!=null&&typeof e.style!="object")throw Error(w(62))}}function Ns(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var As=null;function Yl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ps=null,On=null,$n=null;function Ya(t){if(t=nr(t)){if(typeof Ps!="function")throw Error(w(280));var e=t.stateNode;e&&(e=Ii(e),Ps(t.stateNode,t.type,e))}}function $d(t){On?$n?$n.push(t):$n=[t]:On=t}function Bd(){if(On){var t=On,e=$n;if($n=On=null,Ya(t),e)for(t=0;t<e.length;t++)Ya(e[t])}}function Gd(t,e){return t(e)}function zd(){}var Ji=!1;function Hd(t,e,n){if(Ji)return t(e,n);Ji=!0;try{return Gd(t,e,n)}finally{Ji=!1,(On!==null||$n!==null)&&(zd(),Bd())}}function Oo(t,e){var n=t.stateNode;if(n===null)return null;var o=Ii(n);if(o===null)return null;n=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(w(231,e,typeof n));return n}var Ms=!1;if(Ct)try{var ao={};Object.defineProperty(ao,"passive",{get:function(){Ms=!0}}),window.addEventListener("test",ao,ao),window.removeEventListener("test",ao,ao)}catch{Ms=!1}function Hm(t,e,n,o,r,i,s,u,d){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var ko=!1,Hr=null,qr=!1,Rs=null,qm={onError:function(t){ko=!0,Hr=t}};function Wm(t,e,n,o,r,i,s,u,d){ko=!1,Hr=null,Hm.apply(qm,arguments)}function Jm(t,e,n,o,r,i,s,u,d){if(Wm.apply(this,arguments),ko){if(ko){var c=Hr;ko=!1,Hr=null}else throw Error(w(198));qr||(qr=!0,Rs=c)}}function vn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function qd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ka(t){if(vn(t)!==t)throw Error(w(188))}function Ym(t){var e=t.alternate;if(!e){if(e=vn(t),e===null)throw Error(w(188));return e!==t?null:t}for(var n=t,o=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(o=r.return,o!==null){n=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return Ka(r),t;if(i===o)return Ka(r),e;i=i.sibling}throw Error(w(188))}if(n.return!==o.return)n=r,o=i;else{for(var s=!1,u=r.child;u;){if(u===n){s=!0,n=r,o=i;break}if(u===o){s=!0,o=r,n=i;break}u=u.sibling}if(!s){for(u=i.child;u;){if(u===n){s=!0,n=i,o=r;break}if(u===o){s=!0,o=i,n=r;break}u=u.sibling}if(!s)throw Error(w(189))}}if(n.alternate!==o)throw Error(w(190))}if(n.tag!==3)throw Error(w(188));return n.stateNode.current===n?t:e}function Wd(t){return t=Ym(t),t!==null?Jd(t):null}function Jd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Jd(t);if(e!==null)return e;t=t.sibling}return null}var Yd=Be.unstable_scheduleCallback,Za=Be.unstable_cancelCallback,Km=Be.unstable_shouldYield,Zm=Be.unstable_requestPaint,ue=Be.unstable_now,Qm=Be.unstable_getCurrentPriorityLevel,Kl=Be.unstable_ImmediatePriority,Kd=Be.unstable_UserBlockingPriority,Wr=Be.unstable_NormalPriority,Xm=Be.unstable_LowPriority,Zd=Be.unstable_IdlePriority,Ei=null,ct=null;function bm(t){if(ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(Ei,t,void 0,(t.current.flags&128)===128)}catch{}}var tt=Math.clz32?Math.clz32:th,jm=Math.log,eh=Math.LN2;function th(t){return t>>>=0,t===0?32:31-(jm(t)/eh|0)|0}var cr=64,dr=4194304;function Co(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Jr(t,e){var n=t.pendingLanes;if(n===0)return 0;var o=0,r=t.suspendedLanes,i=t.pingedLanes,s=n&268435455;if(s!==0){var u=s&~r;u!==0?o=Co(u):(i&=s,i!==0&&(o=Co(i)))}else s=n&~r,s!==0?o=Co(s):i!==0&&(o=Co(i));if(o===0)return 0;if(e!==0&&e!==o&&!(e&r)&&(r=o&-o,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(o&4&&(o|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=o;0<e;)n=31-tt(e),r=1<<n,o|=t[n],e&=~r;return o}function nh(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oh(t,e){for(var n=t.suspendedLanes,o=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-tt(i),u=1<<s,d=r[s];d===-1?(!(u&n)||u&o)&&(r[s]=nh(u,e)):d<=e&&(t.expiredLanes|=u),i&=~u}}function Ds(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Qd(){var t=cr;return cr<<=1,!(cr&4194240)&&(cr=64),t}function Yi(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function er(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tt(e),t[e]=n}function rh(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var o=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-tt(n),i=1<<r;e[r]=0,o[r]=-1,t[r]=-1,n&=~i}}function Zl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var o=31-tt(n),r=1<<o;r&e|t[o]&e&&(t[o]|=e),n&=~r}}var Y=0;function Xd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var bd,Ql,jd,ef,tf,Ls=!1,fr=[],Lt=null,Ft=null,Vt=null,$o=new Map,Bo=new Map,Pt=[],ih="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qa(t,e){switch(t){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":Ft=null;break;case"mouseover":case"mouseout":Vt=null;break;case"pointerover":case"pointerout":$o.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bo.delete(e.pointerId)}}function uo(t,e,n,o,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},e!==null&&(e=nr(e),e!==null&&Ql(e)),t):(t.eventSystemFlags|=o,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function sh(t,e,n,o,r){switch(e){case"focusin":return Lt=uo(Lt,t,e,n,o,r),!0;case"dragenter":return Ft=uo(Ft,t,e,n,o,r),!0;case"mouseover":return Vt=uo(Vt,t,e,n,o,r),!0;case"pointerover":var i=r.pointerId;return $o.set(i,uo($o.get(i)||null,t,e,n,o,r)),!0;case"gotpointercapture":return i=r.pointerId,Bo.set(i,uo(Bo.get(i)||null,t,e,n,o,r)),!0}return!1}function nf(t){var e=on(t.target);if(e!==null){var n=vn(e);if(n!==null){if(e=n.tag,e===13){if(e=qd(n),e!==null){t.blockedOn=e,tf(t.priority,function(){jd(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ir(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Fs(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var o=new n.constructor(n.type,n);As=o,n.target.dispatchEvent(o),As=null}else return e=nr(n),e!==null&&Ql(e),t.blockedOn=n,!1;e.shift()}return!0}function Xa(t,e,n){Ir(t)&&n.delete(e)}function lh(){Ls=!1,Lt!==null&&Ir(Lt)&&(Lt=null),Ft!==null&&Ir(Ft)&&(Ft=null),Vt!==null&&Ir(Vt)&&(Vt=null),$o.forEach(Xa),Bo.forEach(Xa)}function co(t,e){t.blockedOn===e&&(t.blockedOn=null,Ls||(Ls=!0,Be.unstable_scheduleCallback(Be.unstable_NormalPriority,lh)))}function Go(t){function e(r){return co(r,t)}if(0<fr.length){co(fr[0],t);for(var n=1;n<fr.length;n++){var o=fr[n];o.blockedOn===t&&(o.blockedOn=null)}}for(Lt!==null&&co(Lt,t),Ft!==null&&co(Ft,t),Vt!==null&&co(Vt,t),$o.forEach(e),Bo.forEach(e),n=0;n<Pt.length;n++)o=Pt[n],o.blockedOn===t&&(o.blockedOn=null);for(;0<Pt.length&&(n=Pt[0],n.blockedOn===null);)nf(n),n.blockedOn===null&&Pt.shift()}var Bn=St.ReactCurrentBatchConfig,Yr=!0;function ah(t,e,n,o){var r=Y,i=Bn.transition;Bn.transition=null;try{Y=1,Xl(t,e,n,o)}finally{Y=r,Bn.transition=i}}function uh(t,e,n,o){var r=Y,i=Bn.transition;Bn.transition=null;try{Y=4,Xl(t,e,n,o)}finally{Y=r,Bn.transition=i}}function Xl(t,e,n,o){if(Yr){var r=Fs(t,e,n,o);if(r===null)os(t,e,o,Kr,n),Qa(t,o);else if(sh(r,t,e,n,o))o.stopPropagation();else if(Qa(t,o),e&4&&-1<ih.indexOf(t)){for(;r!==null;){var i=nr(r);if(i!==null&&bd(i),i=Fs(t,e,n,o),i===null&&os(t,e,o,Kr,n),i===r)break;r=i}r!==null&&o.stopPropagation()}else os(t,e,o,null,n)}}var Kr=null;function Fs(t,e,n,o){if(Kr=null,t=Yl(o),t=on(t),t!==null)if(e=vn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=qd(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Kr=t,null}function of(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qm()){case Kl:return 1;case Kd:return 4;case Wr:case Xm:return 16;case Zd:return 536870912;default:return 16}default:return 16}}var Rt=null,bl=null,Nr=null;function rf(){if(Nr)return Nr;var t,e=bl,n=e.length,o,r="value"in Rt?Rt.value:Rt.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var s=n-t;for(o=1;o<=s&&e[n-o]===r[i-o];o++);return Nr=r.slice(t,1<o?1-o:void 0)}function Ar(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function pr(){return!0}function ba(){return!1}function ze(t){function e(n,o,r,i,s){this._reactName=n,this._targetInst=r,this.type=o,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?pr:ba,this.isPropagationStopped=ba,this}return ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pr)},persist:function(){},isPersistent:pr}),e}var oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jl=ze(oo),tr=ie({},oo,{view:0,detail:0}),ch=ze(tr),Ki,Zi,fo,Si=ie({},tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ea,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fo&&(fo&&t.type==="mousemove"?(Ki=t.screenX-fo.screenX,Zi=t.screenY-fo.screenY):Zi=Ki=0,fo=t),Ki)},movementY:function(t){return"movementY"in t?t.movementY:Zi}}),ja=ze(Si),dh=ie({},Si,{dataTransfer:0}),fh=ze(dh),ph=ie({},tr,{relatedTarget:0}),Qi=ze(ph),mh=ie({},oo,{animationName:0,elapsedTime:0,pseudoElement:0}),hh=ze(mh),gh=ie({},oo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yh=ze(gh),vh=ie({},oo,{data:0}),eu=ze(vh),Ch={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_h={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Th={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xh(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Th[t])?!!e[t]:!1}function ea(){return xh}var Eh=ie({},tr,{key:function(t){if(t.key){var e=Ch[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ar(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_h[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ea,charCode:function(t){return t.type==="keypress"?Ar(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ar(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Sh=ze(Eh),wh=ie({},Si,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tu=ze(wh),kh=ie({},tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ea}),Ih=ze(kh),Nh=ie({},oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ah=ze(Nh),Ph=ie({},Si,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Mh=ze(Ph),Rh=[9,13,27,32],ta=Ct&&"CompositionEvent"in window,Io=null;Ct&&"documentMode"in document&&(Io=document.documentMode);var Dh=Ct&&"TextEvent"in window&&!Io,sf=Ct&&(!ta||Io&&8<Io&&11>=Io),nu=String.fromCharCode(32),ou=!1;function lf(t,e){switch(t){case"keyup":return Rh.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function af(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var kn=!1;function Lh(t,e){switch(t){case"compositionend":return af(e);case"keypress":return e.which!==32?null:(ou=!0,nu);case"textInput":return t=e.data,t===nu&&ou?null:t;default:return null}}function Fh(t,e){if(kn)return t==="compositionend"||!ta&&lf(t,e)?(t=rf(),Nr=bl=Rt=null,kn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sf&&e.locale!=="ko"?null:e.data;default:return null}}var Vh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ru(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Vh[t.type]:e==="textarea"}function uf(t,e,n,o){$d(o),e=Zr(e,"onChange"),0<e.length&&(n=new jl("onChange","change",null,n,o),t.push({event:n,listeners:e}))}var No=null,zo=null;function Uh(t){_f(t,0)}function wi(t){var e=An(t);if(Rd(e))return t}function Oh(t,e){if(t==="change")return e}var cf=!1;if(Ct){var Xi;if(Ct){var bi="oninput"in document;if(!bi){var iu=document.createElement("div");iu.setAttribute("oninput","return;"),bi=typeof iu.oninput=="function"}Xi=bi}else Xi=!1;cf=Xi&&(!document.documentMode||9<document.documentMode)}function su(){No&&(No.detachEvent("onpropertychange",df),zo=No=null)}function df(t){if(t.propertyName==="value"&&wi(zo)){var e=[];uf(e,zo,t,Yl(t)),Hd(Uh,e)}}function $h(t,e,n){t==="focusin"?(su(),No=e,zo=n,No.attachEvent("onpropertychange",df)):t==="focusout"&&su()}function Bh(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wi(zo)}function Gh(t,e){if(t==="click")return wi(e)}function zh(t,e){if(t==="input"||t==="change")return wi(e)}function Hh(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rt=typeof Object.is=="function"?Object.is:Hh;function Ho(t,e){if(rt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!ys.call(e,r)||!rt(t[r],e[r]))return!1}return!0}function lu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function au(t,e){var n=lu(t);t=0;for(var o;n;){if(n.nodeType===3){if(o=t+n.textContent.length,t<=e&&o>=e)return{node:n,offset:e-t};t=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lu(n)}}function ff(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ff(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pf(){for(var t=window,e=zr();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zr(t.document)}return e}function na(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function qh(t){var e=pf(),n=t.focusedElem,o=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ff(n.ownerDocument.documentElement,n)){if(o!==null&&na(n)){if(e=o.start,t=o.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(o.start,r);o=o.end===void 0?i:Math.min(o.end,r),!t.extend&&i>o&&(r=o,o=i,i=r),r=au(n,i);var s=au(n,o);r&&s&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>o?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Wh=Ct&&"documentMode"in document&&11>=document.documentMode,In=null,Vs=null,Ao=null,Us=!1;function uu(t,e,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Us||In==null||In!==zr(o)||(o=In,"selectionStart"in o&&na(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ao&&Ho(Ao,o)||(Ao=o,o=Zr(Vs,"onSelect"),0<o.length&&(e=new jl("onSelect","select",null,e,n),t.push({event:e,listeners:o}),e.target=In)))}function mr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Nn={animationend:mr("Animation","AnimationEnd"),animationiteration:mr("Animation","AnimationIteration"),animationstart:mr("Animation","AnimationStart"),transitionend:mr("Transition","TransitionEnd")},ji={},mf={};Ct&&(mf=document.createElement("div").style,"AnimationEvent"in window||(delete Nn.animationend.animation,delete Nn.animationiteration.animation,delete Nn.animationstart.animation),"TransitionEvent"in window||delete Nn.transitionend.transition);function ki(t){if(ji[t])return ji[t];if(!Nn[t])return t;var e=Nn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in mf)return ji[t]=e[n];return t}var hf=ki("animationend"),gf=ki("animationiteration"),yf=ki("animationstart"),vf=ki("transitionend"),Cf=new Map,cu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yt(t,e){Cf.set(t,e),yn(e,[t])}for(var es=0;es<cu.length;es++){var ts=cu[es],Jh=ts.toLowerCase(),Yh=ts[0].toUpperCase()+ts.slice(1);Yt(Jh,"on"+Yh)}Yt(hf,"onAnimationEnd");Yt(gf,"onAnimationIteration");Yt(yf,"onAnimationStart");Yt("dblclick","onDoubleClick");Yt("focusin","onFocus");Yt("focusout","onBlur");Yt(vf,"onTransitionEnd");Hn("onMouseEnter",["mouseout","mouseover"]);Hn("onMouseLeave",["mouseout","mouseover"]);Hn("onPointerEnter",["pointerout","pointerover"]);Hn("onPointerLeave",["pointerout","pointerover"]);yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yn("onBeforeInput",["compositionend","keypress","textInput","paste"]);yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kh=new Set("cancel close invalid load scroll toggle".split(" ").concat(_o));function du(t,e,n){var o=t.type||"unknown-event";t.currentTarget=n,Jm(o,e,void 0,t),t.currentTarget=null}function _f(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var o=t[n],r=o.event;o=o.listeners;e:{var i=void 0;if(e)for(var s=o.length-1;0<=s;s--){var u=o[s],d=u.instance,c=u.currentTarget;if(u=u.listener,d!==i&&r.isPropagationStopped())break e;du(r,u,c),i=d}else for(s=0;s<o.length;s++){if(u=o[s],d=u.instance,c=u.currentTarget,u=u.listener,d!==i&&r.isPropagationStopped())break e;du(r,u,c),i=d}}}if(qr)throw t=Rs,qr=!1,Rs=null,t}function X(t,e){var n=e[zs];n===void 0&&(n=e[zs]=new Set);var o=t+"__bubble";n.has(o)||(Tf(e,t,2,!1),n.add(o))}function ns(t,e,n){var o=0;e&&(o|=4),Tf(n,t,o,e)}var hr="_reactListening"+Math.random().toString(36).slice(2);function qo(t){if(!t[hr]){t[hr]=!0,Id.forEach(function(n){n!=="selectionchange"&&(Kh.has(n)||ns(n,!1,t),ns(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hr]||(e[hr]=!0,ns("selectionchange",!1,e))}}function Tf(t,e,n,o){switch(of(e)){case 1:var r=ah;break;case 4:r=uh;break;default:r=Xl}n=r.bind(null,e,n,t),r=void 0,!Ms||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),o?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function os(t,e,n,o,r){var i=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var s=o.tag;if(s===3||s===4){var u=o.stateNode.containerInfo;if(u===r||u.nodeType===8&&u.parentNode===r)break;if(s===4)for(s=o.return;s!==null;){var d=s.tag;if((d===3||d===4)&&(d=s.stateNode.containerInfo,d===r||d.nodeType===8&&d.parentNode===r))return;s=s.return}for(;u!==null;){if(s=on(u),s===null)return;if(d=s.tag,d===5||d===6){o=i=s;continue e}u=u.parentNode}}o=o.return}Hd(function(){var c=i,f=Yl(n),p=[];e:{var m=Cf.get(t);if(m!==void 0){var h=jl,v=t;switch(t){case"keypress":if(Ar(n)===0)break e;case"keydown":case"keyup":h=Sh;break;case"focusin":v="focus",h=Qi;break;case"focusout":v="blur",h=Qi;break;case"beforeblur":case"afterblur":h=Qi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=ja;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=fh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Ih;break;case hf:case gf:case yf:h=hh;break;case vf:h=Ah;break;case"scroll":h=ch;break;case"wheel":h=Mh;break;case"copy":case"cut":case"paste":h=yh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=tu}var _=(e&4)!==0,k=!_&&t==="scroll",y=_?m!==null?m+"Capture":null:m;_=[];for(var g=c,C;g!==null;){C=g;var x=C.stateNode;if(C.tag===5&&x!==null&&(C=x,y!==null&&(x=Oo(g,y),x!=null&&_.push(Wo(g,x,C)))),k)break;g=g.return}0<_.length&&(m=new h(m,v,null,n,f),p.push({event:m,listeners:_}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",m&&n!==As&&(v=n.relatedTarget||n.fromElement)&&(on(v)||v[_t]))break e;if((h||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,h?(v=n.relatedTarget||n.toElement,h=c,v=v?on(v):null,v!==null&&(k=vn(v),v!==k||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=c),h!==v)){if(_=ja,x="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(_=tu,x="onPointerLeave",y="onPointerEnter",g="pointer"),k=h==null?m:An(h),C=v==null?m:An(v),m=new _(x,g+"leave",h,n,f),m.target=k,m.relatedTarget=C,x=null,on(f)===c&&(_=new _(y,g+"enter",v,n,f),_.target=C,_.relatedTarget=k,x=_),k=x,h&&v)t:{for(_=h,y=v,g=0,C=_;C;C=Tn(C))g++;for(C=0,x=y;x;x=Tn(x))C++;for(;0<g-C;)_=Tn(_),g--;for(;0<C-g;)y=Tn(y),C--;for(;g--;){if(_===y||y!==null&&_===y.alternate)break t;_=Tn(_),y=Tn(y)}_=null}else _=null;h!==null&&fu(p,m,h,_,!1),v!==null&&k!==null&&fu(p,k,v,_,!0)}}e:{if(m=c?An(c):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var S=Oh;else if(ru(m))if(cf)S=zh;else{S=Bh;var N=$h}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=Gh);if(S&&(S=S(t,c))){uf(p,S,n,f);break e}N&&N(t,m,c),t==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&Ss(m,"number",m.value)}switch(N=c?An(c):window,t){case"focusin":(ru(N)||N.contentEditable==="true")&&(In=N,Vs=c,Ao=null);break;case"focusout":Ao=Vs=In=null;break;case"mousedown":Us=!0;break;case"contextmenu":case"mouseup":case"dragend":Us=!1,uu(p,n,f);break;case"selectionchange":if(Wh)break;case"keydown":case"keyup":uu(p,n,f)}var E;if(ta)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else kn?lf(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(sf&&n.locale!=="ko"&&(kn||A!=="onCompositionStart"?A==="onCompositionEnd"&&kn&&(E=rf()):(Rt=f,bl="value"in Rt?Rt.value:Rt.textContent,kn=!0)),N=Zr(c,A),0<N.length&&(A=new eu(A,t,null,n,f),p.push({event:A,listeners:N}),E?A.data=E:(E=af(n),E!==null&&(A.data=E)))),(E=Dh?Lh(t,n):Fh(t,n))&&(c=Zr(c,"onBeforeInput"),0<c.length&&(f=new eu("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:c}),f.data=E))}_f(p,e)})}function Wo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zr(t,e){for(var n=e+"Capture",o=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Oo(t,n),i!=null&&o.unshift(Wo(t,i,r)),i=Oo(t,e),i!=null&&o.push(Wo(t,i,r))),t=t.return}return o}function Tn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function fu(t,e,n,o,r){for(var i=e._reactName,s=[];n!==null&&n!==o;){var u=n,d=u.alternate,c=u.stateNode;if(d!==null&&d===o)break;u.tag===5&&c!==null&&(u=c,r?(d=Oo(n,i),d!=null&&s.unshift(Wo(n,d,u))):r||(d=Oo(n,i),d!=null&&s.push(Wo(n,d,u)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var Zh=/\r\n?/g,Qh=/\u0000|\uFFFD/g;function pu(t){return(typeof t=="string"?t:""+t).replace(Zh,`
`).replace(Qh,"")}function gr(t,e,n){if(e=pu(e),pu(t)!==e&&n)throw Error(w(425))}function Qr(){}var Os=null,$s=null;function Bs(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gs=typeof setTimeout=="function"?setTimeout:void 0,Xh=typeof clearTimeout=="function"?clearTimeout:void 0,mu=typeof Promise=="function"?Promise:void 0,bh=typeof queueMicrotask=="function"?queueMicrotask:typeof mu<"u"?function(t){return mu.resolve(null).then(t).catch(jh)}:Gs;function jh(t){setTimeout(function(){throw t})}function rs(t,e){var n=e,o=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(o===0){t.removeChild(r),Go(e);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=r}while(n);Go(e)}function Ut(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ro=Math.random().toString(36).slice(2),at="__reactFiber$"+ro,Jo="__reactProps$"+ro,_t="__reactContainer$"+ro,zs="__reactEvents$"+ro,eg="__reactListeners$"+ro,tg="__reactHandles$"+ro;function on(t){var e=t[at];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_t]||n[at]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=hu(t);t!==null;){if(n=t[at])return n;t=hu(t)}return e}t=n,n=t.parentNode}return null}function nr(t){return t=t[at]||t[_t],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function An(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(w(33))}function Ii(t){return t[Jo]||null}var Hs=[],Pn=-1;function Kt(t){return{current:t}}function b(t){0>Pn||(t.current=Hs[Pn],Hs[Pn]=null,Pn--)}function Q(t,e){Pn++,Hs[Pn]=t.current,t.current=e}var qt={},Te=Kt(qt),De=Kt(!1),un=qt;function qn(t,e){var n=t.type.contextTypes;if(!n)return qt;var o=t.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=e[i];return o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Le(t){return t=t.childContextTypes,t!=null}function Xr(){b(De),b(Te)}function gu(t,e,n){if(Te.current!==qt)throw Error(w(168));Q(Te,e),Q(De,n)}function xf(t,e,n){var o=t.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var r in o)if(!(r in e))throw Error(w(108,$m(t)||"Unknown",r));return ie({},n,o)}function br(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qt,un=Te.current,Q(Te,t),Q(De,De.current),!0}function yu(t,e,n){var o=t.stateNode;if(!o)throw Error(w(169));n?(t=xf(t,e,un),o.__reactInternalMemoizedMergedChildContext=t,b(De),b(Te),Q(Te,t)):b(De),Q(De,n)}var ht=null,Ni=!1,is=!1;function Ef(t){ht===null?ht=[t]:ht.push(t)}function ng(t){Ni=!0,Ef(t)}function Zt(){if(!is&&ht!==null){is=!0;var t=0,e=Y;try{var n=ht;for(Y=1;t<n.length;t++){var o=n[t];do o=o(!0);while(o!==null)}ht=null,Ni=!1}catch(r){throw ht!==null&&(ht=ht.slice(t+1)),Yd(Kl,Zt),r}finally{Y=e,is=!1}}return null}var Mn=[],Rn=0,jr=null,ei=0,He=[],qe=0,cn=null,gt=1,yt="";function tn(t,e){Mn[Rn++]=ei,Mn[Rn++]=jr,jr=t,ei=e}function Sf(t,e,n){He[qe++]=gt,He[qe++]=yt,He[qe++]=cn,cn=t;var o=gt;t=yt;var r=32-tt(o)-1;o&=~(1<<r),n+=1;var i=32-tt(e)+r;if(30<i){var s=r-r%5;i=(o&(1<<s)-1).toString(32),o>>=s,r-=s,gt=1<<32-tt(e)+r|n<<r|o,yt=i+t}else gt=1<<i|n<<r|o,yt=t}function oa(t){t.return!==null&&(tn(t,1),Sf(t,1,0))}function ra(t){for(;t===jr;)jr=Mn[--Rn],Mn[Rn]=null,ei=Mn[--Rn],Mn[Rn]=null;for(;t===cn;)cn=He[--qe],He[qe]=null,yt=He[--qe],He[qe]=null,gt=He[--qe],He[qe]=null}var $e=null,Oe=null,te=!1,et=null;function wf(t,e){var n=We(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function vu(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$e=t,Oe=Ut(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$e=t,Oe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=cn!==null?{id:gt,overflow:yt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=We(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$e=t,Oe=null,!0):!1;default:return!1}}function qs(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ws(t){if(te){var e=Oe;if(e){var n=e;if(!vu(t,e)){if(qs(t))throw Error(w(418));e=Ut(n.nextSibling);var o=$e;e&&vu(t,e)?wf(o,n):(t.flags=t.flags&-4097|2,te=!1,$e=t)}}else{if(qs(t))throw Error(w(418));t.flags=t.flags&-4097|2,te=!1,$e=t}}}function Cu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$e=t}function yr(t){if(t!==$e)return!1;if(!te)return Cu(t),te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Bs(t.type,t.memoizedProps)),e&&(e=Oe)){if(qs(t))throw kf(),Error(w(418));for(;e;)wf(t,e),e=Ut(e.nextSibling)}if(Cu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(w(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Oe=Ut(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Oe=null}}else Oe=$e?Ut(t.stateNode.nextSibling):null;return!0}function kf(){for(var t=Oe;t;)t=Ut(t.nextSibling)}function Wn(){Oe=$e=null,te=!1}function ia(t){et===null?et=[t]:et.push(t)}var og=St.ReactCurrentBatchConfig;function po(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(w(309));var o=n.stateNode}if(!o)throw Error(w(147,t));var r=o,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var u=r.refs;s===null?delete u[i]:u[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(w(284));if(!n._owner)throw Error(w(290,t))}return t}function vr(t,e){throw t=Object.prototype.toString.call(e),Error(w(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _u(t){var e=t._init;return e(t._payload)}function If(t){function e(y,g){if(t){var C=y.deletions;C===null?(y.deletions=[g],y.flags|=16):C.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function o(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function r(y,g){return y=Gt(y,g),y.index=0,y.sibling=null,y}function i(y,g,C){return y.index=C,t?(C=y.alternate,C!==null?(C=C.index,C<g?(y.flags|=2,g):C):(y.flags|=2,g)):(y.flags|=1048576,g)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function u(y,g,C,x){return g===null||g.tag!==6?(g=fs(C,y.mode,x),g.return=y,g):(g=r(g,C),g.return=y,g)}function d(y,g,C,x){var S=C.type;return S===wn?f(y,g,C.props.children,x,C.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===It&&_u(S)===g.type)?(x=r(g,C.props),x.ref=po(y,g,C),x.return=y,x):(x=Vr(C.type,C.key,C.props,null,y.mode,x),x.ref=po(y,g,C),x.return=y,x)}function c(y,g,C,x){return g===null||g.tag!==4||g.stateNode.containerInfo!==C.containerInfo||g.stateNode.implementation!==C.implementation?(g=ps(C,y.mode,x),g.return=y,g):(g=r(g,C.children||[]),g.return=y,g)}function f(y,g,C,x,S){return g===null||g.tag!==7?(g=an(C,y.mode,x,S),g.return=y,g):(g=r(g,C),g.return=y,g)}function p(y,g,C){if(typeof g=="string"&&g!==""||typeof g=="number")return g=fs(""+g,y.mode,C),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case lr:return C=Vr(g.type,g.key,g.props,null,y.mode,C),C.ref=po(y,null,g),C.return=y,C;case Sn:return g=ps(g,y.mode,C),g.return=y,g;case It:var x=g._init;return p(y,x(g._payload),C)}if(vo(g)||lo(g))return g=an(g,y.mode,C,null),g.return=y,g;vr(y,g)}return null}function m(y,g,C,x){var S=g!==null?g.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return S!==null?null:u(y,g,""+C,x);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case lr:return C.key===S?d(y,g,C,x):null;case Sn:return C.key===S?c(y,g,C,x):null;case It:return S=C._init,m(y,g,S(C._payload),x)}if(vo(C)||lo(C))return S!==null?null:f(y,g,C,x,null);vr(y,C)}return null}function h(y,g,C,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(C)||null,u(g,y,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case lr:return y=y.get(x.key===null?C:x.key)||null,d(g,y,x,S);case Sn:return y=y.get(x.key===null?C:x.key)||null,c(g,y,x,S);case It:var N=x._init;return h(y,g,C,N(x._payload),S)}if(vo(x)||lo(x))return y=y.get(C)||null,f(g,y,x,S,null);vr(g,x)}return null}function v(y,g,C,x){for(var S=null,N=null,E=g,A=g=0,M=null;E!==null&&A<C.length;A++){E.index>A?(M=E,E=null):M=E.sibling;var P=m(y,E,C[A],x);if(P===null){E===null&&(E=M);break}t&&E&&P.alternate===null&&e(y,E),g=i(P,g,A),N===null?S=P:N.sibling=P,N=P,E=M}if(A===C.length)return n(y,E),te&&tn(y,A),S;if(E===null){for(;A<C.length;A++)E=p(y,C[A],x),E!==null&&(g=i(E,g,A),N===null?S=E:N.sibling=E,N=E);return te&&tn(y,A),S}for(E=o(y,E);A<C.length;A++)M=h(E,y,A,C[A],x),M!==null&&(t&&M.alternate!==null&&E.delete(M.key===null?A:M.key),g=i(M,g,A),N===null?S=M:N.sibling=M,N=M);return t&&E.forEach(function(K){return e(y,K)}),te&&tn(y,A),S}function _(y,g,C,x){var S=lo(C);if(typeof S!="function")throw Error(w(150));if(C=S.call(C),C==null)throw Error(w(151));for(var N=S=null,E=g,A=g=0,M=null,P=C.next();E!==null&&!P.done;A++,P=C.next()){E.index>A?(M=E,E=null):M=E.sibling;var K=m(y,E,P.value,x);if(K===null){E===null&&(E=M);break}t&&E&&K.alternate===null&&e(y,E),g=i(K,g,A),N===null?S=K:N.sibling=K,N=K,E=M}if(P.done)return n(y,E),te&&tn(y,A),S;if(E===null){for(;!P.done;A++,P=C.next())P=p(y,P.value,x),P!==null&&(g=i(P,g,A),N===null?S=P:N.sibling=P,N=P);return te&&tn(y,A),S}for(E=o(y,E);!P.done;A++,P=C.next())P=h(E,y,A,P.value,x),P!==null&&(t&&P.alternate!==null&&E.delete(P.key===null?A:P.key),g=i(P,g,A),N===null?S=P:N.sibling=P,N=P);return t&&E.forEach(function(Ve){return e(y,Ve)}),te&&tn(y,A),S}function k(y,g,C,x){if(typeof C=="object"&&C!==null&&C.type===wn&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case lr:e:{for(var S=C.key,N=g;N!==null;){if(N.key===S){if(S=C.type,S===wn){if(N.tag===7){n(y,N.sibling),g=r(N,C.props.children),g.return=y,y=g;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===It&&_u(S)===N.type){n(y,N.sibling),g=r(N,C.props),g.ref=po(y,N,C),g.return=y,y=g;break e}n(y,N);break}else e(y,N);N=N.sibling}C.type===wn?(g=an(C.props.children,y.mode,x,C.key),g.return=y,y=g):(x=Vr(C.type,C.key,C.props,null,y.mode,x),x.ref=po(y,g,C),x.return=y,y=x)}return s(y);case Sn:e:{for(N=C.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===C.containerInfo&&g.stateNode.implementation===C.implementation){n(y,g.sibling),g=r(g,C.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else e(y,g);g=g.sibling}g=ps(C,y.mode,x),g.return=y,y=g}return s(y);case It:return N=C._init,k(y,g,N(C._payload),x)}if(vo(C))return v(y,g,C,x);if(lo(C))return _(y,g,C,x);vr(y,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,g!==null&&g.tag===6?(n(y,g.sibling),g=r(g,C),g.return=y,y=g):(n(y,g),g=fs(C,y.mode,x),g.return=y,y=g),s(y)):n(y,g)}return k}var Jn=If(!0),Nf=If(!1),ti=Kt(null),ni=null,Dn=null,sa=null;function la(){sa=Dn=ni=null}function aa(t){var e=ti.current;b(ti),t._currentValue=e}function Js(t,e,n){for(;t!==null;){var o=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),t===n)break;t=t.return}}function Gn(t,e){ni=t,sa=Dn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Me=!0),t.firstContext=null)}function Ye(t){var e=t._currentValue;if(sa!==t)if(t={context:t,memoizedValue:e,next:null},Dn===null){if(ni===null)throw Error(w(308));Dn=t,ni.dependencies={lanes:0,firstContext:t}}else Dn=Dn.next=t;return e}var rn=null;function ua(t){rn===null?rn=[t]:rn.push(t)}function Af(t,e,n,o){var r=e.interleaved;return r===null?(n.next=n,ua(e)):(n.next=r.next,r.next=n),e.interleaved=n,Tt(t,o)}function Tt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Nt=!1;function ca(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ot(t,e,n){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,W&2){var r=o.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),o.pending=e,Tt(t,n)}return r=o.interleaved,r===null?(e.next=e,ua(o)):(e.next=r.next,r.next=e),o.interleaved=e,Tt(t,n)}function Pr(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,Zl(t,n)}}function Tu(t,e){var n=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,effects:o.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function oi(t,e,n,o){var r=t.updateQueue;Nt=!1;var i=r.firstBaseUpdate,s=r.lastBaseUpdate,u=r.shared.pending;if(u!==null){r.shared.pending=null;var d=u,c=d.next;d.next=null,s===null?i=c:s.next=c,s=d;var f=t.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==s&&(u===null?f.firstBaseUpdate=c:u.next=c,f.lastBaseUpdate=d))}if(i!==null){var p=r.baseState;s=0,f=c=d=null,u=i;do{var m=u.lane,h=u.eventTime;if((o&m)===m){f!==null&&(f=f.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var v=t,_=u;switch(m=e,h=n,_.tag){case 1:if(v=_.payload,typeof v=="function"){p=v.call(h,p,m);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,m=typeof v=="function"?v.call(h,p,m):v,m==null)break e;p=ie({},p,m);break e;case 2:Nt=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,m=r.effects,m===null?r.effects=[u]:m.push(u))}else h={eventTime:h,lane:m,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(c=f=h,d=p):f=f.next=h,s|=m;if(u=u.next,u===null){if(u=r.shared.pending,u===null)break;m=u,u=m.next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}while(1);if(f===null&&(d=p),r.baseState=d,r.firstBaseUpdate=c,r.lastBaseUpdate=f,e=r.shared.interleaved,e!==null){r=e;do s|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);fn|=s,t.lanes=s,t.memoizedState=p}}function xu(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var o=t[e],r=o.callback;if(r!==null){if(o.callback=null,o=n,typeof r!="function")throw Error(w(191,r));r.call(o)}}}var or={},dt=Kt(or),Yo=Kt(or),Ko=Kt(or);function sn(t){if(t===or)throw Error(w(174));return t}function da(t,e){switch(Q(Ko,e),Q(Yo,t),Q(dt,or),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ks(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ks(e,t)}b(dt),Q(dt,e)}function Yn(){b(dt),b(Yo),b(Ko)}function Mf(t){sn(Ko.current);var e=sn(dt.current),n=ks(e,t.type);e!==n&&(Q(Yo,t),Q(dt,n))}function fa(t){Yo.current===t&&(b(dt),b(Yo))}var oe=Kt(0);function ri(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ss=[];function pa(){for(var t=0;t<ss.length;t++)ss[t]._workInProgressVersionPrimary=null;ss.length=0}var Mr=St.ReactCurrentDispatcher,ls=St.ReactCurrentBatchConfig,dn=0,re=null,de=null,pe=null,ii=!1,Po=!1,Zo=0,rg=0;function ve(){throw Error(w(321))}function ma(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!rt(t[n],e[n]))return!1;return!0}function ha(t,e,n,o,r,i){if(dn=i,re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Mr.current=t===null||t.memoizedState===null?ag:ug,t=n(o,r),Po){i=0;do{if(Po=!1,Zo=0,25<=i)throw Error(w(301));i+=1,pe=de=null,e.updateQueue=null,Mr.current=cg,t=n(o,r)}while(Po)}if(Mr.current=si,e=de!==null&&de.next!==null,dn=0,pe=de=re=null,ii=!1,e)throw Error(w(300));return t}function ga(){var t=Zo!==0;return Zo=0,t}function st(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?re.memoizedState=pe=t:pe=pe.next=t,pe}function Ke(){if(de===null){var t=re.alternate;t=t!==null?t.memoizedState:null}else t=de.next;var e=pe===null?re.memoizedState:pe.next;if(e!==null)pe=e,de=t;else{if(t===null)throw Error(w(310));de=t,t={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},pe===null?re.memoizedState=pe=t:pe=pe.next=t}return pe}function Qo(t,e){return typeof e=="function"?e(t):e}function as(t){var e=Ke(),n=e.queue;if(n===null)throw Error(w(311));n.lastRenderedReducer=t;var o=de,r=o.baseQueue,i=n.pending;if(i!==null){if(r!==null){var s=r.next;r.next=i.next,i.next=s}o.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,o=o.baseState;var u=s=null,d=null,c=i;do{var f=c.lane;if((dn&f)===f)d!==null&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),o=c.hasEagerState?c.eagerState:t(o,c.action);else{var p={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};d===null?(u=d=p,s=o):d=d.next=p,re.lanes|=f,fn|=f}c=c.next}while(c!==null&&c!==i);d===null?s=o:d.next=u,rt(o,e.memoizedState)||(Me=!0),e.memoizedState=o,e.baseState=s,e.baseQueue=d,n.lastRenderedState=o}if(t=n.interleaved,t!==null){r=t;do i=r.lane,re.lanes|=i,fn|=i,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function us(t){var e=Ke(),n=e.queue;if(n===null)throw Error(w(311));n.lastRenderedReducer=t;var o=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do i=t(i,s.action),s=s.next;while(s!==r);rt(i,e.memoizedState)||(Me=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,o]}function Rf(){}function Df(t,e){var n=re,o=Ke(),r=e(),i=!rt(o.memoizedState,r);if(i&&(o.memoizedState=r,Me=!0),o=o.queue,ya(Vf.bind(null,n,o,t),[t]),o.getSnapshot!==e||i||pe!==null&&pe.memoizedState.tag&1){if(n.flags|=2048,Xo(9,Ff.bind(null,n,o,r,e),void 0,null),me===null)throw Error(w(349));dn&30||Lf(n,e,r)}return r}function Lf(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=re.updateQueue,e===null?(e={lastEffect:null,stores:null},re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Ff(t,e,n,o){e.value=n,e.getSnapshot=o,Uf(e)&&Of(t)}function Vf(t,e,n){return n(function(){Uf(e)&&Of(t)})}function Uf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!rt(t,n)}catch{return!0}}function Of(t){var e=Tt(t,1);e!==null&&nt(e,t,1,-1)}function Eu(t){var e=st();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:t},e.queue=t,t=t.dispatch=lg.bind(null,re,t),[e.memoizedState,t]}function Xo(t,e,n,o){return t={tag:t,create:e,destroy:n,deps:o,next:null},e=re.updateQueue,e===null?(e={lastEffect:null,stores:null},re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(o=n.next,n.next=t,t.next=o,e.lastEffect=t)),t}function $f(){return Ke().memoizedState}function Rr(t,e,n,o){var r=st();re.flags|=t,r.memoizedState=Xo(1|e,n,void 0,o===void 0?null:o)}function Ai(t,e,n,o){var r=Ke();o=o===void 0?null:o;var i=void 0;if(de!==null){var s=de.memoizedState;if(i=s.destroy,o!==null&&ma(o,s.deps)){r.memoizedState=Xo(e,n,i,o);return}}re.flags|=t,r.memoizedState=Xo(1|e,n,i,o)}function Su(t,e){return Rr(8390656,8,t,e)}function ya(t,e){return Ai(2048,8,t,e)}function Bf(t,e){return Ai(4,2,t,e)}function Gf(t,e){return Ai(4,4,t,e)}function zf(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Hf(t,e,n){return n=n!=null?n.concat([t]):null,Ai(4,4,zf.bind(null,e,t),n)}function va(){}function qf(t,e){var n=Ke();e=e===void 0?null:e;var o=n.memoizedState;return o!==null&&e!==null&&ma(e,o[1])?o[0]:(n.memoizedState=[t,e],t)}function Wf(t,e){var n=Ke();e=e===void 0?null:e;var o=n.memoizedState;return o!==null&&e!==null&&ma(e,o[1])?o[0]:(t=t(),n.memoizedState=[t,e],t)}function Jf(t,e,n){return dn&21?(rt(n,e)||(n=Qd(),re.lanes|=n,fn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Me=!0),t.memoizedState=n)}function ig(t,e){var n=Y;Y=n!==0&&4>n?n:4,t(!0);var o=ls.transition;ls.transition={};try{t(!1),e()}finally{Y=n,ls.transition=o}}function Yf(){return Ke().memoizedState}function sg(t,e,n){var o=Bt(t);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},Kf(t))Zf(e,n);else if(n=Af(t,e,n,o),n!==null){var r=Se();nt(n,t,o,r),Qf(n,e,o)}}function lg(t,e,n){var o=Bt(t),r={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(Kf(t))Zf(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,u=i(s,n);if(r.hasEagerState=!0,r.eagerState=u,rt(u,s)){var d=e.interleaved;d===null?(r.next=r,ua(e)):(r.next=d.next,d.next=r),e.interleaved=r;return}}catch{}finally{}n=Af(t,e,r,o),n!==null&&(r=Se(),nt(n,t,o,r),Qf(n,e,o))}}function Kf(t){var e=t.alternate;return t===re||e!==null&&e===re}function Zf(t,e){Po=ii=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Qf(t,e,n){if(n&4194240){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,Zl(t,n)}}var si={readContext:Ye,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useInsertionEffect:ve,useLayoutEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useMutableSource:ve,useSyncExternalStore:ve,useId:ve,unstable_isNewReconciler:!1},ag={readContext:Ye,useCallback:function(t,e){return st().memoizedState=[t,e===void 0?null:e],t},useContext:Ye,useEffect:Su,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Rr(4194308,4,zf.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Rr(4194308,4,t,e)},useInsertionEffect:function(t,e){return Rr(4,2,t,e)},useMemo:function(t,e){var n=st();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var o=st();return e=n!==void 0?n(e):e,o.memoizedState=o.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},o.queue=t,t=t.dispatch=sg.bind(null,re,t),[o.memoizedState,t]},useRef:function(t){var e=st();return t={current:t},e.memoizedState=t},useState:Eu,useDebugValue:va,useDeferredValue:function(t){return st().memoizedState=t},useTransition:function(){var t=Eu(!1),e=t[0];return t=ig.bind(null,t[1]),st().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var o=re,r=st();if(te){if(n===void 0)throw Error(w(407));n=n()}else{if(n=e(),me===null)throw Error(w(349));dn&30||Lf(o,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,Su(Vf.bind(null,o,i,t),[t]),o.flags|=2048,Xo(9,Ff.bind(null,o,i,n,e),void 0,null),n},useId:function(){var t=st(),e=me.identifierPrefix;if(te){var n=yt,o=gt;n=(o&~(1<<32-tt(o)-1)).toString(32)+n,e=":"+e+"R"+n,n=Zo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=rg++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ug={readContext:Ye,useCallback:qf,useContext:Ye,useEffect:ya,useImperativeHandle:Hf,useInsertionEffect:Bf,useLayoutEffect:Gf,useMemo:Wf,useReducer:as,useRef:$f,useState:function(){return as(Qo)},useDebugValue:va,useDeferredValue:function(t){var e=Ke();return Jf(e,de.memoizedState,t)},useTransition:function(){var t=as(Qo)[0],e=Ke().memoizedState;return[t,e]},useMutableSource:Rf,useSyncExternalStore:Df,useId:Yf,unstable_isNewReconciler:!1},cg={readContext:Ye,useCallback:qf,useContext:Ye,useEffect:ya,useImperativeHandle:Hf,useInsertionEffect:Bf,useLayoutEffect:Gf,useMemo:Wf,useReducer:us,useRef:$f,useState:function(){return us(Qo)},useDebugValue:va,useDeferredValue:function(t){var e=Ke();return de===null?e.memoizedState=t:Jf(e,de.memoizedState,t)},useTransition:function(){var t=us(Qo)[0],e=Ke().memoizedState;return[t,e]},useMutableSource:Rf,useSyncExternalStore:Df,useId:Yf,unstable_isNewReconciler:!1};function be(t,e){if(t&&t.defaultProps){e=ie({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ys(t,e,n,o){e=t.memoizedState,n=n(o,e),n=n==null?e:ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Pi={isMounted:function(t){return(t=t._reactInternals)?vn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var o=Se(),r=Bt(t),i=vt(o,r);i.payload=e,n!=null&&(i.callback=n),e=Ot(t,i,r),e!==null&&(nt(e,t,r,o),Pr(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var o=Se(),r=Bt(t),i=vt(o,r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ot(t,i,r),e!==null&&(nt(e,t,r,o),Pr(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Se(),o=Bt(t),r=vt(n,o);r.tag=2,e!=null&&(r.callback=e),e=Ot(t,r,o),e!==null&&(nt(e,t,o,n),Pr(e,t,o))}};function wu(t,e,n,o,r,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,i,s):e.prototype&&e.prototype.isPureReactComponent?!Ho(n,o)||!Ho(r,i):!0}function Xf(t,e,n){var o=!1,r=qt,i=e.contextType;return typeof i=="object"&&i!==null?i=Ye(i):(r=Le(e)?un:Te.current,o=e.contextTypes,i=(o=o!=null)?qn(t,r):qt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Pi,t.stateNode=e,e._reactInternals=t,o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function ku(t,e,n,o){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,o),e.state!==t&&Pi.enqueueReplaceState(e,e.state,null)}function Ks(t,e,n,o){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},ca(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=Ye(i):(i=Le(e)?un:Te.current,r.context=qn(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ys(t,e,i,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Pi.enqueueReplaceState(r,r.state,null),oi(t,n,r,o),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Kn(t,e){try{var n="",o=e;do n+=Om(o),o=o.return;while(o);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function cs(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Zs(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var dg=typeof WeakMap=="function"?WeakMap:Map;function bf(t,e,n){n=vt(-1,n),n.tag=3,n.payload={element:null};var o=e.value;return n.callback=function(){ai||(ai=!0,il=o),Zs(t,e)},n}function jf(t,e,n){n=vt(-1,n),n.tag=3;var o=t.type.getDerivedStateFromError;if(typeof o=="function"){var r=e.value;n.payload=function(){return o(r)},n.callback=function(){Zs(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Zs(t,e),typeof o!="function"&&($t===null?$t=new Set([this]):$t.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Iu(t,e,n){var o=t.pingCache;if(o===null){o=t.pingCache=new dg;var r=new Set;o.set(e,r)}else r=o.get(e),r===void 0&&(r=new Set,o.set(e,r));r.has(n)||(r.add(n),t=wg.bind(null,t,e,n),e.then(t,t))}function Nu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Au(t,e,n,o,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=vt(-1,1),e.tag=2,Ot(n,e,1))),n.lanes|=1),t)}var fg=St.ReactCurrentOwner,Me=!1;function Ee(t,e,n,o){e.child=t===null?Nf(e,null,n,o):Jn(e,t.child,n,o)}function Pu(t,e,n,o,r){n=n.render;var i=e.ref;return Gn(e,r),o=ha(t,e,n,o,i,r),n=ga(),t!==null&&!Me?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,xt(t,e,r)):(te&&n&&oa(e),e.flags|=1,Ee(t,e,o,r),e.child)}function Mu(t,e,n,o,r){if(t===null){var i=n.type;return typeof i=="function"&&!ka(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,ep(t,e,i,o,r)):(t=Vr(n.type,null,o,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&r)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ho,n(s,o)&&t.ref===e.ref)return xt(t,e,r)}return e.flags|=1,t=Gt(i,o),t.ref=e.ref,t.return=e,e.child=t}function ep(t,e,n,o,r){if(t!==null){var i=t.memoizedProps;if(Ho(i,o)&&t.ref===e.ref)if(Me=!1,e.pendingProps=o=i,(t.lanes&r)!==0)t.flags&131072&&(Me=!0);else return e.lanes=t.lanes,xt(t,e,r)}return Qs(t,e,n,o,r)}function tp(t,e,n){var o=e.pendingProps,r=o.children,i=t!==null?t.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Q(Fn,Ue),Ue|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Q(Fn,Ue),Ue|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=i!==null?i.baseLanes:n,Q(Fn,Ue),Ue|=o}else i!==null?(o=i.baseLanes|n,e.memoizedState=null):o=n,Q(Fn,Ue),Ue|=o;return Ee(t,e,r,n),e.child}function np(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Qs(t,e,n,o,r){var i=Le(n)?un:Te.current;return i=qn(e,i),Gn(e,r),n=ha(t,e,n,o,i,r),o=ga(),t!==null&&!Me?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,xt(t,e,r)):(te&&o&&oa(e),e.flags|=1,Ee(t,e,n,r),e.child)}function Ru(t,e,n,o,r){if(Le(n)){var i=!0;br(e)}else i=!1;if(Gn(e,r),e.stateNode===null)Dr(t,e),Xf(e,n,o),Ks(e,n,o,r),o=!0;else if(t===null){var s=e.stateNode,u=e.memoizedProps;s.props=u;var d=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ye(c):(c=Le(n)?un:Te.current,c=qn(e,c));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==o||d!==c)&&ku(e,s,o,c),Nt=!1;var m=e.memoizedState;s.state=m,oi(e,o,s,r),d=e.memoizedState,u!==o||m!==d||De.current||Nt?(typeof f=="function"&&(Ys(e,n,f,o),d=e.memoizedState),(u=Nt||wu(e,n,u,o,m,d,c))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=d),s.props=o,s.state=d,s.context=c,o=u):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{s=e.stateNode,Pf(t,e),u=e.memoizedProps,c=e.type===e.elementType?u:be(e.type,u),s.props=c,p=e.pendingProps,m=s.context,d=n.contextType,typeof d=="object"&&d!==null?d=Ye(d):(d=Le(n)?un:Te.current,d=qn(e,d));var h=n.getDerivedStateFromProps;(f=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==p||m!==d)&&ku(e,s,o,d),Nt=!1,m=e.memoizedState,s.state=m,oi(e,o,s,r);var v=e.memoizedState;u!==p||m!==v||De.current||Nt?(typeof h=="function"&&(Ys(e,n,h,o),v=e.memoizedState),(c=Nt||wu(e,n,c,o,m,v,d)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(o,v,d),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(o,v,d)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=v),s.props=o,s.state=v,s.context=d,o=c):(typeof s.componentDidUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),o=!1)}return Xs(t,e,n,o,i,r)}function Xs(t,e,n,o,r,i){np(t,e);var s=(e.flags&128)!==0;if(!o&&!s)return r&&yu(e,n,!1),xt(t,e,i);o=e.stateNode,fg.current=e;var u=s&&typeof n.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,t!==null&&s?(e.child=Jn(e,t.child,null,i),e.child=Jn(e,null,u,i)):Ee(t,e,u,i),e.memoizedState=o.state,r&&yu(e,n,!0),e.child}function op(t){var e=t.stateNode;e.pendingContext?gu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&gu(t,e.context,!1),da(t,e.containerInfo)}function Du(t,e,n,o,r){return Wn(),ia(r),e.flags|=256,Ee(t,e,n,o),e.child}var bs={dehydrated:null,treeContext:null,retryLane:0};function js(t){return{baseLanes:t,cachePool:null,transitions:null}}function rp(t,e,n){var o=e.pendingProps,r=oe.current,i=!1,s=(e.flags&128)!==0,u;if((u=s)||(u=t!==null&&t.memoizedState===null?!1:(r&2)!==0),u?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Q(oe,r&1),t===null)return Ws(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=o.children,t=o.fallback,i?(o=e.mode,i=e.child,s={mode:"hidden",children:s},!(o&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Di(s,o,0,null),t=an(t,o,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=js(n),e.memoizedState=bs,t):Ca(e,s));if(r=t.memoizedState,r!==null&&(u=r.dehydrated,u!==null))return pg(t,e,s,o,u,r,n);if(i){i=o.fallback,s=e.mode,r=t.child,u=r.sibling;var d={mode:"hidden",children:o.children};return!(s&1)&&e.child!==r?(o=e.child,o.childLanes=0,o.pendingProps=d,e.deletions=null):(o=Gt(r,d),o.subtreeFlags=r.subtreeFlags&14680064),u!==null?i=Gt(u,i):(i=an(i,s,n,null),i.flags|=2),i.return=e,o.return=e,o.sibling=i,e.child=o,o=i,i=e.child,s=t.child.memoizedState,s=s===null?js(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~n,e.memoizedState=bs,o}return i=t.child,t=i.sibling,o=Gt(i,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=n),o.return=e,o.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=o,e.memoizedState=null,o}function Ca(t,e){return e=Di({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Cr(t,e,n,o){return o!==null&&ia(o),Jn(e,t.child,null,n),t=Ca(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pg(t,e,n,o,r,i,s){if(n)return e.flags&256?(e.flags&=-257,o=cs(Error(w(422))),Cr(t,e,s,o)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=o.fallback,r=e.mode,o=Di({mode:"visible",children:o.children},r,0,null),i=an(i,r,s,null),i.flags|=2,o.return=e,i.return=e,o.sibling=i,e.child=o,e.mode&1&&Jn(e,t.child,null,s),e.child.memoizedState=js(s),e.memoizedState=bs,i);if(!(e.mode&1))return Cr(t,e,s,null);if(r.data==="$!"){if(o=r.nextSibling&&r.nextSibling.dataset,o)var u=o.dgst;return o=u,i=Error(w(419)),o=cs(i,o,void 0),Cr(t,e,s,o)}if(u=(s&t.childLanes)!==0,Me||u){if(o=me,o!==null){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(o.suspendedLanes|s)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,Tt(t,r),nt(o,t,r,-1))}return wa(),o=cs(Error(w(421))),Cr(t,e,s,o)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=kg.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,Oe=Ut(r.nextSibling),$e=e,te=!0,et=null,t!==null&&(He[qe++]=gt,He[qe++]=yt,He[qe++]=cn,gt=t.id,yt=t.overflow,cn=e),e=Ca(e,o.children),e.flags|=4096,e)}function Lu(t,e,n){t.lanes|=e;var o=t.alternate;o!==null&&(o.lanes|=e),Js(t.return,e,n)}function ds(t,e,n,o,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=n,i.tailMode=r)}function ip(t,e,n){var o=e.pendingProps,r=o.revealOrder,i=o.tail;if(Ee(t,e,o.children,n),o=oe.current,o&2)o=o&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lu(t,n,e);else if(t.tag===19)Lu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}if(Q(oe,o),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&ri(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),ds(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&ri(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}ds(e,!0,n,null,i);break;case"together":ds(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Dr(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(w(153));if(e.child!==null){for(t=e.child,n=Gt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Gt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function mg(t,e,n){switch(e.tag){case 3:op(e),Wn();break;case 5:Mf(e);break;case 1:Le(e.type)&&br(e);break;case 4:da(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,r=e.memoizedProps.value;Q(ti,o._currentValue),o._currentValue=r;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(Q(oe,oe.current&1),e.flags|=128,null):n&e.child.childLanes?rp(t,e,n):(Q(oe,oe.current&1),t=xt(t,e,n),t!==null?t.sibling:null);Q(oe,oe.current&1);break;case 19:if(o=(n&e.childLanes)!==0,t.flags&128){if(o)return ip(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Q(oe,oe.current),o)break;return null;case 22:case 23:return e.lanes=0,tp(t,e,n)}return xt(t,e,n)}var sp,el,lp,ap;sp=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};el=function(){};lp=function(t,e,n,o){var r=t.memoizedProps;if(r!==o){t=e.stateNode,sn(dt.current);var i=null;switch(n){case"input":r=xs(t,r),o=xs(t,o),i=[];break;case"select":r=ie({},r,{value:void 0}),o=ie({},o,{value:void 0}),i=[];break;case"textarea":r=ws(t,r),o=ws(t,o),i=[];break;default:typeof r.onClick!="function"&&typeof o.onClick=="function"&&(t.onclick=Qr)}Is(n,o);var s;n=null;for(c in r)if(!o.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var u=r[c];for(s in u)u.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Vo.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in o){var d=o[c];if(u=r!=null?r[c]:void 0,o.hasOwnProperty(c)&&d!==u&&(d!=null||u!=null))if(c==="style")if(u){for(s in u)!u.hasOwnProperty(s)||d&&d.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in d)d.hasOwnProperty(s)&&u[s]!==d[s]&&(n||(n={}),n[s]=d[s])}else n||(i||(i=[]),i.push(c,n)),n=d;else c==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(i=i||[]).push(c,d)):c==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(c,""+d):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Vo.hasOwnProperty(c)?(d!=null&&c==="onScroll"&&X("scroll",t),i||u===d||(i=[])):(i=i||[]).push(c,d))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};ap=function(t,e,n,o){n!==o&&(e.flags|=4)};function mo(t,e){if(!te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Ce(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,o=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags&14680064,o|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=o,t.childLanes=n,e}function hg(t,e,n){var o=e.pendingProps;switch(ra(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(e),null;case 1:return Le(e.type)&&Xr(),Ce(e),null;case 3:return o=e.stateNode,Yn(),b(De),b(Te),pa(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(yr(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,et!==null&&(al(et),et=null))),el(t,e),Ce(e),null;case 5:fa(e);var r=sn(Ko.current);if(n=e.type,t!==null&&e.stateNode!=null)lp(t,e,n,o,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(w(166));return Ce(e),null}if(t=sn(dt.current),yr(e)){o=e.stateNode,n=e.type;var i=e.memoizedProps;switch(o[at]=e,o[Jo]=i,t=(e.mode&1)!==0,n){case"dialog":X("cancel",o),X("close",o);break;case"iframe":case"object":case"embed":X("load",o);break;case"video":case"audio":for(r=0;r<_o.length;r++)X(_o[r],o);break;case"source":X("error",o);break;case"img":case"image":case"link":X("error",o),X("load",o);break;case"details":X("toggle",o);break;case"input":Ha(o,i),X("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},X("invalid",o);break;case"textarea":Wa(o,i),X("invalid",o)}Is(n,i),r=null;for(var s in i)if(i.hasOwnProperty(s)){var u=i[s];s==="children"?typeof u=="string"?o.textContent!==u&&(i.suppressHydrationWarning!==!0&&gr(o.textContent,u,t),r=["children",u]):typeof u=="number"&&o.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&gr(o.textContent,u,t),r=["children",""+u]):Vo.hasOwnProperty(s)&&u!=null&&s==="onScroll"&&X("scroll",o)}switch(n){case"input":ar(o),qa(o,i,!0);break;case"textarea":ar(o),Ja(o);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(o.onclick=Qr)}o=r,e.updateQueue=o,o!==null&&(e.flags|=4)}else{s=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Fd(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof o.is=="string"?t=s.createElement(n,{is:o.is}):(t=s.createElement(n),n==="select"&&(s=t,o.multiple?s.multiple=!0:o.size&&(s.size=o.size))):t=s.createElementNS(t,n),t[at]=e,t[Jo]=o,sp(t,e,!1,!1),e.stateNode=t;e:{switch(s=Ns(n,o),n){case"dialog":X("cancel",t),X("close",t),r=o;break;case"iframe":case"object":case"embed":X("load",t),r=o;break;case"video":case"audio":for(r=0;r<_o.length;r++)X(_o[r],t);r=o;break;case"source":X("error",t),r=o;break;case"img":case"image":case"link":X("error",t),X("load",t),r=o;break;case"details":X("toggle",t),r=o;break;case"input":Ha(t,o),r=xs(t,o),X("invalid",t);break;case"option":r=o;break;case"select":t._wrapperState={wasMultiple:!!o.multiple},r=ie({},o,{value:void 0}),X("invalid",t);break;case"textarea":Wa(t,o),r=ws(t,o),X("invalid",t);break;default:r=o}Is(n,r),u=r;for(i in u)if(u.hasOwnProperty(i)){var d=u[i];i==="style"?Od(t,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Vd(t,d)):i==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Uo(t,d):typeof d=="number"&&Uo(t,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Vo.hasOwnProperty(i)?d!=null&&i==="onScroll"&&X("scroll",t):d!=null&&Hl(t,i,d,s))}switch(n){case"input":ar(t),qa(t,o,!1);break;case"textarea":ar(t),Ja(t);break;case"option":o.value!=null&&t.setAttribute("value",""+Ht(o.value));break;case"select":t.multiple=!!o.multiple,i=o.value,i!=null?Un(t,!!o.multiple,i,!1):o.defaultValue!=null&&Un(t,!!o.multiple,o.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Qr)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ce(e),null;case 6:if(t&&e.stateNode!=null)ap(t,e,t.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(w(166));if(n=sn(Ko.current),sn(dt.current),yr(e)){if(o=e.stateNode,n=e.memoizedProps,o[at]=e,(i=o.nodeValue!==n)&&(t=$e,t!==null))switch(t.tag){case 3:gr(o.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&gr(o.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[at]=e,e.stateNode=o}return Ce(e),null;case 13:if(b(oe),o=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(te&&Oe!==null&&e.mode&1&&!(e.flags&128))kf(),Wn(),e.flags|=98560,i=!1;else if(i=yr(e),o!==null&&o.dehydrated!==null){if(t===null){if(!i)throw Error(w(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(w(317));i[at]=e}else Wn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ce(e),i=!1}else et!==null&&(al(et),et=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(o=o!==null,o!==(t!==null&&t.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(t===null||oe.current&1?fe===0&&(fe=3):wa())),e.updateQueue!==null&&(e.flags|=4),Ce(e),null);case 4:return Yn(),el(t,e),t===null&&qo(e.stateNode.containerInfo),Ce(e),null;case 10:return aa(e.type._context),Ce(e),null;case 17:return Le(e.type)&&Xr(),Ce(e),null;case 19:if(b(oe),i=e.memoizedState,i===null)return Ce(e),null;if(o=(e.flags&128)!==0,s=i.rendering,s===null)if(o)mo(i,!1);else{if(fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=ri(t),s!==null){for(e.flags|=128,mo(i,!1),o=s.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=n,n=e.child;n!==null;)i=n,t=o,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Q(oe,oe.current&1|2),e.child}t=t.sibling}i.tail!==null&&ue()>Zn&&(e.flags|=128,o=!0,mo(i,!1),e.lanes=4194304)}else{if(!o)if(t=ri(s),t!==null){if(e.flags|=128,o=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),mo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!te)return Ce(e),null}else 2*ue()-i.renderingStartTime>Zn&&n!==1073741824&&(e.flags|=128,o=!0,mo(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(n=i.last,n!==null?n.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ue(),e.sibling=null,n=oe.current,Q(oe,o?n&1|2:n&1),e):(Ce(e),null);case 22:case 23:return Sa(),o=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?Ue&1073741824&&(Ce(e),e.subtreeFlags&6&&(e.flags|=8192)):Ce(e),null;case 24:return null;case 25:return null}throw Error(w(156,e.tag))}function gg(t,e){switch(ra(e),e.tag){case 1:return Le(e.type)&&Xr(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yn(),b(De),b(Te),pa(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return fa(e),null;case 13:if(b(oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(w(340));Wn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return b(oe),null;case 4:return Yn(),null;case 10:return aa(e.type._context),null;case 22:case 23:return Sa(),null;case 24:return null;default:return null}}var _r=!1,_e=!1,yg=typeof WeakSet=="function"?WeakSet:Set,L=null;function Ln(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){le(t,e,o)}else n.current=null}function tl(t,e,n){try{n()}catch(o){le(t,e,o)}}var Fu=!1;function vg(t,e){if(Os=Yr,t=pf(),na(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var r=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,u=-1,d=-1,c=0,f=0,p=t,m=null;t:for(;;){for(var h;p!==n||r!==0&&p.nodeType!==3||(u=s+r),p!==i||o!==0&&p.nodeType!==3||(d=s+o),p.nodeType===3&&(s+=p.nodeValue.length),(h=p.firstChild)!==null;)m=p,p=h;for(;;){if(p===t)break t;if(m===n&&++c===r&&(u=s),m===i&&++f===o&&(d=s),(h=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=h}n=u===-1||d===-1?null:{start:u,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for($s={focusedElem:t,selectionRange:n},Yr=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,k=v.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?_:be(e.type,_),k);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(w(163))}}catch(x){le(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return v=Fu,Fu=!1,v}function Mo(t,e,n){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var r=o=o.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&tl(e,n,i)}r=r.next}while(r!==o)}}function Mi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var o=n.create;n.destroy=o()}n=n.next}while(n!==e)}}function nl(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function up(t){var e=t.alternate;e!==null&&(t.alternate=null,up(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[at],delete e[Jo],delete e[zs],delete e[eg],delete e[tg])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function cp(t){return t.tag===5||t.tag===3||t.tag===4}function Vu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ol(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qr));else if(o!==4&&(t=t.child,t!==null))for(ol(t,e,n),t=t.sibling;t!==null;)ol(t,e,n),t=t.sibling}function rl(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(o!==4&&(t=t.child,t!==null))for(rl(t,e,n),t=t.sibling;t!==null;)rl(t,e,n),t=t.sibling}var he=null,je=!1;function kt(t,e,n){for(n=n.child;n!==null;)dp(t,e,n),n=n.sibling}function dp(t,e,n){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(Ei,n)}catch{}switch(n.tag){case 5:_e||Ln(n,e);case 6:var o=he,r=je;he=null,kt(t,e,n),he=o,je=r,he!==null&&(je?(t=he,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):he.removeChild(n.stateNode));break;case 18:he!==null&&(je?(t=he,n=n.stateNode,t.nodeType===8?rs(t.parentNode,n):t.nodeType===1&&rs(t,n),Go(t)):rs(he,n.stateNode));break;case 4:o=he,r=je,he=n.stateNode.containerInfo,je=!0,kt(t,e,n),he=o,je=r;break;case 0:case 11:case 14:case 15:if(!_e&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){r=o=o.next;do{var i=r,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&tl(n,e,s),r=r.next}while(r!==o)}kt(t,e,n);break;case 1:if(!_e&&(Ln(n,e),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(u){le(n,e,u)}kt(t,e,n);break;case 21:kt(t,e,n);break;case 22:n.mode&1?(_e=(o=_e)||n.memoizedState!==null,kt(t,e,n),_e=o):kt(t,e,n);break;default:kt(t,e,n)}}function Uu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new yg),e.forEach(function(o){var r=Ig.bind(null,t,o);n.has(o)||(n.add(o),o.then(r,r))})}}function Xe(t,e){var n=e.deletions;if(n!==null)for(var o=0;o<n.length;o++){var r=n[o];try{var i=t,s=e,u=s;e:for(;u!==null;){switch(u.tag){case 5:he=u.stateNode,je=!1;break e;case 3:he=u.stateNode.containerInfo,je=!0;break e;case 4:he=u.stateNode.containerInfo,je=!0;break e}u=u.return}if(he===null)throw Error(w(160));dp(i,s,r),he=null,je=!1;var d=r.alternate;d!==null&&(d.return=null),r.return=null}catch(c){le(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fp(e,t),e=e.sibling}function fp(t,e){var n=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xe(e,t),it(t),o&4){try{Mo(3,t,t.return),Mi(3,t)}catch(_){le(t,t.return,_)}try{Mo(5,t,t.return)}catch(_){le(t,t.return,_)}}break;case 1:Xe(e,t),it(t),o&512&&n!==null&&Ln(n,n.return);break;case 5:if(Xe(e,t),it(t),o&512&&n!==null&&Ln(n,n.return),t.flags&32){var r=t.stateNode;try{Uo(r,"")}catch(_){le(t,t.return,_)}}if(o&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,s=n!==null?n.memoizedProps:i,u=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&Dd(r,i),Ns(u,s);var c=Ns(u,i);for(s=0;s<d.length;s+=2){var f=d[s],p=d[s+1];f==="style"?Od(r,p):f==="dangerouslySetInnerHTML"?Vd(r,p):f==="children"?Uo(r,p):Hl(r,f,p,c)}switch(u){case"input":Es(r,i);break;case"textarea":Ld(r,i);break;case"select":var m=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?Un(r,!!i.multiple,h,!1):m!==!!i.multiple&&(i.defaultValue!=null?Un(r,!!i.multiple,i.defaultValue,!0):Un(r,!!i.multiple,i.multiple?[]:"",!1))}r[Jo]=i}catch(_){le(t,t.return,_)}}break;case 6:if(Xe(e,t),it(t),o&4){if(t.stateNode===null)throw Error(w(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(_){le(t,t.return,_)}}break;case 3:if(Xe(e,t),it(t),o&4&&n!==null&&n.memoizedState.isDehydrated)try{Go(e.containerInfo)}catch(_){le(t,t.return,_)}break;case 4:Xe(e,t),it(t);break;case 13:Xe(e,t),it(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(xa=ue())),o&4&&Uu(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(_e=(c=_e)||f,Xe(e,t),_e=c):Xe(e,t),it(t),o&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(L=t,f=t.child;f!==null;){for(p=L=f;L!==null;){switch(m=L,h=m.child,m.tag){case 0:case 11:case 14:case 15:Mo(4,m,m.return);break;case 1:Ln(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){o=m,n=m.return;try{e=o,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(_){le(o,n,_)}}break;case 5:Ln(m,m.return);break;case 22:if(m.memoizedState!==null){$u(p);continue}}h!==null?(h.return=m,L=h):$u(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{r=p.stateNode,c?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=p.stateNode,d=p.memoizedProps.style,s=d!=null&&d.hasOwnProperty("display")?d.display:null,u.style.display=Ud("display",s))}catch(_){le(t,t.return,_)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(_){le(t,t.return,_)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Xe(e,t),it(t),o&4&&Uu(t);break;case 21:break;default:Xe(e,t),it(t)}}function it(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(cp(n)){var o=n;break e}n=n.return}throw Error(w(160))}switch(o.tag){case 5:var r=o.stateNode;o.flags&32&&(Uo(r,""),o.flags&=-33);var i=Vu(t);rl(t,i,r);break;case 3:case 4:var s=o.stateNode.containerInfo,u=Vu(t);ol(t,u,s);break;default:throw Error(w(161))}}catch(d){le(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Cg(t,e,n){L=t,pp(t)}function pp(t,e,n){for(var o=(t.mode&1)!==0;L!==null;){var r=L,i=r.child;if(r.tag===22&&o){var s=r.memoizedState!==null||_r;if(!s){var u=r.alternate,d=u!==null&&u.memoizedState!==null||_e;u=_r;var c=_e;if(_r=s,(_e=d)&&!c)for(L=r;L!==null;)s=L,d=s.child,s.tag===22&&s.memoizedState!==null?Bu(r):d!==null?(d.return=s,L=d):Bu(r);for(;i!==null;)L=i,pp(i),i=i.sibling;L=r,_r=u,_e=c}Ou(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,L=i):Ou(t)}}function Ou(t){for(;L!==null;){var e=L;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_e||Mi(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!_e)if(n===null)o.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:be(e.type,n.memoizedProps);o.componentDidUpdate(r,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&xu(e,i,o);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}xu(e,s,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Go(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(w(163))}_e||e.flags&512&&nl(e)}catch(m){le(e,e.return,m)}}if(e===t){L=null;break}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}}function $u(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var n=e.sibling;if(n!==null){n.return=e.return,L=n;break}L=e.return}}function Bu(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Mi(4,e)}catch(d){le(e,n,d)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var r=e.return;try{o.componentDidMount()}catch(d){le(e,r,d)}}var i=e.return;try{nl(e)}catch(d){le(e,i,d)}break;case 5:var s=e.return;try{nl(e)}catch(d){le(e,s,d)}}}catch(d){le(e,e.return,d)}if(e===t){L=null;break}var u=e.sibling;if(u!==null){u.return=e.return,L=u;break}L=e.return}}var _g=Math.ceil,li=St.ReactCurrentDispatcher,_a=St.ReactCurrentOwner,Je=St.ReactCurrentBatchConfig,W=0,me=null,ce=null,ge=0,Ue=0,Fn=Kt(0),fe=0,bo=null,fn=0,Ri=0,Ta=0,Ro=null,Pe=null,xa=0,Zn=1/0,mt=null,ai=!1,il=null,$t=null,Tr=!1,Dt=null,ui=0,Do=0,sl=null,Lr=-1,Fr=0;function Se(){return W&6?ue():Lr!==-1?Lr:Lr=ue()}function Bt(t){return t.mode&1?W&2&&ge!==0?ge&-ge:og.transition!==null?(Fr===0&&(Fr=Qd()),Fr):(t=Y,t!==0||(t=window.event,t=t===void 0?16:of(t.type)),t):1}function nt(t,e,n,o){if(50<Do)throw Do=0,sl=null,Error(w(185));er(t,n,o),(!(W&2)||t!==me)&&(t===me&&(!(W&2)&&(Ri|=n),fe===4&&Mt(t,ge)),Fe(t,o),n===1&&W===0&&!(e.mode&1)&&(Zn=ue()+500,Ni&&Zt()))}function Fe(t,e){var n=t.callbackNode;oh(t,e);var o=Jr(t,t===me?ge:0);if(o===0)n!==null&&Za(n),t.callbackNode=null,t.callbackPriority=0;else if(e=o&-o,t.callbackPriority!==e){if(n!=null&&Za(n),e===1)t.tag===0?ng(Gu.bind(null,t)):Ef(Gu.bind(null,t)),bh(function(){!(W&6)&&Zt()}),n=null;else{switch(Xd(o)){case 1:n=Kl;break;case 4:n=Kd;break;case 16:n=Wr;break;case 536870912:n=Zd;break;default:n=Wr}n=Tp(n,mp.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function mp(t,e){if(Lr=-1,Fr=0,W&6)throw Error(w(327));var n=t.callbackNode;if(zn()&&t.callbackNode!==n)return null;var o=Jr(t,t===me?ge:0);if(o===0)return null;if(o&30||o&t.expiredLanes||e)e=ci(t,o);else{e=o;var r=W;W|=2;var i=gp();(me!==t||ge!==e)&&(mt=null,Zn=ue()+500,ln(t,e));do try{Eg();break}catch(u){hp(t,u)}while(1);la(),li.current=i,W=r,ce!==null?e=0:(me=null,ge=0,e=fe)}if(e!==0){if(e===2&&(r=Ds(t),r!==0&&(o=r,e=ll(t,r))),e===1)throw n=bo,ln(t,0),Mt(t,o),Fe(t,ue()),n;if(e===6)Mt(t,o);else{if(r=t.current.alternate,!(o&30)&&!Tg(r)&&(e=ci(t,o),e===2&&(i=Ds(t),i!==0&&(o=i,e=ll(t,i))),e===1))throw n=bo,ln(t,0),Mt(t,o),Fe(t,ue()),n;switch(t.finishedWork=r,t.finishedLanes=o,e){case 0:case 1:throw Error(w(345));case 2:nn(t,Pe,mt);break;case 3:if(Mt(t,o),(o&130023424)===o&&(e=xa+500-ue(),10<e)){if(Jr(t,0)!==0)break;if(r=t.suspendedLanes,(r&o)!==o){Se(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Gs(nn.bind(null,t,Pe,mt),e);break}nn(t,Pe,mt);break;case 4:if(Mt(t,o),(o&4194240)===o)break;for(e=t.eventTimes,r=-1;0<o;){var s=31-tt(o);i=1<<s,s=e[s],s>r&&(r=s),o&=~i}if(o=r,o=ue()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*_g(o/1960))-o,10<o){t.timeoutHandle=Gs(nn.bind(null,t,Pe,mt),o);break}nn(t,Pe,mt);break;case 5:nn(t,Pe,mt);break;default:throw Error(w(329))}}}return Fe(t,ue()),t.callbackNode===n?mp.bind(null,t):null}function ll(t,e){var n=Ro;return t.current.memoizedState.isDehydrated&&(ln(t,e).flags|=256),t=ci(t,e),t!==2&&(e=Pe,Pe=n,e!==null&&al(e)),t}function al(t){Pe===null?Pe=t:Pe.push.apply(Pe,t)}function Tg(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var r=n[o],i=r.getSnapshot;r=r.value;try{if(!rt(i(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mt(t,e){for(e&=~Ta,e&=~Ri,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-tt(e),o=1<<n;t[n]=-1,e&=~o}}function Gu(t){if(W&6)throw Error(w(327));zn();var e=Jr(t,0);if(!(e&1))return Fe(t,ue()),null;var n=ci(t,e);if(t.tag!==0&&n===2){var o=Ds(t);o!==0&&(e=o,n=ll(t,o))}if(n===1)throw n=bo,ln(t,0),Mt(t,e),Fe(t,ue()),n;if(n===6)throw Error(w(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,nn(t,Pe,mt),Fe(t,ue()),null}function Ea(t,e){var n=W;W|=1;try{return t(e)}finally{W=n,W===0&&(Zn=ue()+500,Ni&&Zt())}}function pn(t){Dt!==null&&Dt.tag===0&&!(W&6)&&zn();var e=W;W|=1;var n=Je.transition,o=Y;try{if(Je.transition=null,Y=1,t)return t()}finally{Y=o,Je.transition=n,W=e,!(W&6)&&Zt()}}function Sa(){Ue=Fn.current,b(Fn)}function ln(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Xh(n)),ce!==null)for(n=ce.return;n!==null;){var o=n;switch(ra(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Xr();break;case 3:Yn(),b(De),b(Te),pa();break;case 5:fa(o);break;case 4:Yn();break;case 13:b(oe);break;case 19:b(oe);break;case 10:aa(o.type._context);break;case 22:case 23:Sa()}n=n.return}if(me=t,ce=t=Gt(t.current,null),ge=Ue=e,fe=0,bo=null,Ta=Ri=fn=0,Pe=Ro=null,rn!==null){for(e=0;e<rn.length;e++)if(n=rn[e],o=n.interleaved,o!==null){n.interleaved=null;var r=o.next,i=n.pending;if(i!==null){var s=i.next;i.next=r,o.next=s}n.pending=o}rn=null}return t}function hp(t,e){do{var n=ce;try{if(la(),Mr.current=si,ii){for(var o=re.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}ii=!1}if(dn=0,pe=de=re=null,Po=!1,Zo=0,_a.current=null,n===null||n.return===null){fe=1,bo=e,ce=null;break}e:{var i=t,s=n.return,u=n,d=e;if(e=ge,u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var c=d,f=u,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=Nu(s);if(h!==null){h.flags&=-257,Au(h,s,u,i,e),h.mode&1&&Iu(i,c,e),e=h,d=c;var v=e.updateQueue;if(v===null){var _=new Set;_.add(d),e.updateQueue=_}else v.add(d);break e}else{if(!(e&1)){Iu(i,c,e),wa();break e}d=Error(w(426))}}else if(te&&u.mode&1){var k=Nu(s);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Au(k,s,u,i,e),ia(Kn(d,u));break e}}i=d=Kn(d,u),fe!==4&&(fe=2),Ro===null?Ro=[i]:Ro.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=bf(i,d,e);Tu(i,y);break e;case 1:u=d;var g=i.type,C=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&($t===null||!$t.has(C)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=jf(i,u,e);Tu(i,x);break e}}i=i.return}while(i!==null)}vp(n)}catch(S){e=S,ce===n&&n!==null&&(ce=n=n.return);continue}break}while(1)}function gp(){var t=li.current;return li.current=si,t===null?si:t}function wa(){(fe===0||fe===3||fe===2)&&(fe=4),me===null||!(fn&268435455)&&!(Ri&268435455)||Mt(me,ge)}function ci(t,e){var n=W;W|=2;var o=gp();(me!==t||ge!==e)&&(mt=null,ln(t,e));do try{xg();break}catch(r){hp(t,r)}while(1);if(la(),W=n,li.current=o,ce!==null)throw Error(w(261));return me=null,ge=0,fe}function xg(){for(;ce!==null;)yp(ce)}function Eg(){for(;ce!==null&&!Km();)yp(ce)}function yp(t){var e=_p(t.alternate,t,Ue);t.memoizedProps=t.pendingProps,e===null?vp(t):ce=e,_a.current=null}function vp(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=gg(n,e),n!==null){n.flags&=32767,ce=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{fe=6,ce=null;return}}else if(n=hg(n,e,Ue),n!==null){ce=n;return}if(e=e.sibling,e!==null){ce=e;return}ce=e=t}while(e!==null);fe===0&&(fe=5)}function nn(t,e,n){var o=Y,r=Je.transition;try{Je.transition=null,Y=1,Sg(t,e,n,o)}finally{Je.transition=r,Y=o}return null}function Sg(t,e,n,o){do zn();while(Dt!==null);if(W&6)throw Error(w(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(w(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(rh(t,i),t===me&&(ce=me=null,ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Tr||(Tr=!0,Tp(Wr,function(){return zn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Je.transition,Je.transition=null;var s=Y;Y=1;var u=W;W|=4,_a.current=null,vg(t,n),fp(n,t),qh($s),Yr=!!Os,$s=Os=null,t.current=n,Cg(n),Zm(),W=u,Y=s,Je.transition=i}else t.current=n;if(Tr&&(Tr=!1,Dt=t,ui=r),i=t.pendingLanes,i===0&&($t=null),bm(n.stateNode),Fe(t,ue()),e!==null)for(o=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],o(r.value,{componentStack:r.stack,digest:r.digest});if(ai)throw ai=!1,t=il,il=null,t;return ui&1&&t.tag!==0&&zn(),i=t.pendingLanes,i&1?t===sl?Do++:(Do=0,sl=t):Do=0,Zt(),null}function zn(){if(Dt!==null){var t=Xd(ui),e=Je.transition,n=Y;try{if(Je.transition=null,Y=16>t?16:t,Dt===null)var o=!1;else{if(t=Dt,Dt=null,ui=0,W&6)throw Error(w(331));var r=W;for(W|=4,L=t.current;L!==null;){var i=L,s=i.child;if(L.flags&16){var u=i.deletions;if(u!==null){for(var d=0;d<u.length;d++){var c=u[d];for(L=c;L!==null;){var f=L;switch(f.tag){case 0:case 11:case 15:Mo(8,f,i)}var p=f.child;if(p!==null)p.return=f,L=p;else for(;L!==null;){f=L;var m=f.sibling,h=f.return;if(up(f),f===c){L=null;break}if(m!==null){m.return=h,L=m;break}L=h}}}var v=i.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var k=_.sibling;_.sibling=null,_=k}while(_!==null)}}L=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,L=s;else e:for(;L!==null;){if(i=L,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Mo(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,L=y;break e}L=i.return}}var g=t.current;for(L=g;L!==null;){s=L;var C=s.child;if(s.subtreeFlags&2064&&C!==null)C.return=s,L=C;else e:for(s=g;L!==null;){if(u=L,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Mi(9,u)}}catch(S){le(u,u.return,S)}if(u===s){L=null;break e}var x=u.sibling;if(x!==null){x.return=u.return,L=x;break e}L=u.return}}if(W=r,Zt(),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(Ei,t)}catch{}o=!0}return o}finally{Y=n,Je.transition=e}}return!1}function zu(t,e,n){e=Kn(n,e),e=bf(t,e,1),t=Ot(t,e,1),e=Se(),t!==null&&(er(t,1,e),Fe(t,e))}function le(t,e,n){if(t.tag===3)zu(t,t,n);else for(;e!==null;){if(e.tag===3){zu(e,t,n);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&($t===null||!$t.has(o))){t=Kn(n,t),t=jf(e,t,1),e=Ot(e,t,1),t=Se(),e!==null&&(er(e,1,t),Fe(e,t));break}}e=e.return}}function wg(t,e,n){var o=t.pingCache;o!==null&&o.delete(e),e=Se(),t.pingedLanes|=t.suspendedLanes&n,me===t&&(ge&n)===n&&(fe===4||fe===3&&(ge&130023424)===ge&&500>ue()-xa?ln(t,0):Ta|=n),Fe(t,e)}function Cp(t,e){e===0&&(t.mode&1?(e=dr,dr<<=1,!(dr&130023424)&&(dr=4194304)):e=1);var n=Se();t=Tt(t,e),t!==null&&(er(t,e,n),Fe(t,n))}function kg(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Cp(t,n)}function Ig(t,e){var n=0;switch(t.tag){case 13:var o=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:o=t.stateNode;break;default:throw Error(w(314))}o!==null&&o.delete(e),Cp(t,n)}var _p;_p=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||De.current)Me=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Me=!1,mg(t,e,n);Me=!!(t.flags&131072)}else Me=!1,te&&e.flags&1048576&&Sf(e,ei,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;Dr(t,e),t=e.pendingProps;var r=qn(e,Te.current);Gn(e,n),r=ha(null,e,o,t,r,n);var i=ga();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Le(o)?(i=!0,br(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,ca(e),r.updater=Pi,e.stateNode=r,r._reactInternals=e,Ks(e,o,t,n),e=Xs(null,e,o,!0,i,n)):(e.tag=0,te&&i&&oa(e),Ee(null,e,r,n),e=e.child),e;case 16:o=e.elementType;e:{switch(Dr(t,e),t=e.pendingProps,r=o._init,o=r(o._payload),e.type=o,r=e.tag=Ag(o),t=be(o,t),r){case 0:e=Qs(null,e,o,t,n);break e;case 1:e=Ru(null,e,o,t,n);break e;case 11:e=Pu(null,e,o,t,n);break e;case 14:e=Mu(null,e,o,be(o.type,t),n);break e}throw Error(w(306,o,""))}return e;case 0:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:be(o,r),Qs(t,e,o,r,n);case 1:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:be(o,r),Ru(t,e,o,r,n);case 3:e:{if(op(e),t===null)throw Error(w(387));o=e.pendingProps,i=e.memoizedState,r=i.element,Pf(t,e),oi(e,o,null,n);var s=e.memoizedState;if(o=s.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=Kn(Error(w(423)),e),e=Du(t,e,o,n,r);break e}else if(o!==r){r=Kn(Error(w(424)),e),e=Du(t,e,o,n,r);break e}else for(Oe=Ut(e.stateNode.containerInfo.firstChild),$e=e,te=!0,et=null,n=Nf(e,null,o,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wn(),o===r){e=xt(t,e,n);break e}Ee(t,e,o,n)}e=e.child}return e;case 5:return Mf(e),t===null&&Ws(e),o=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,s=r.children,Bs(o,r)?s=null:i!==null&&Bs(o,i)&&(e.flags|=32),np(t,e),Ee(t,e,s,n),e.child;case 6:return t===null&&Ws(e),null;case 13:return rp(t,e,n);case 4:return da(e,e.stateNode.containerInfo),o=e.pendingProps,t===null?e.child=Jn(e,null,o,n):Ee(t,e,o,n),e.child;case 11:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:be(o,r),Pu(t,e,o,r,n);case 7:return Ee(t,e,e.pendingProps,n),e.child;case 8:return Ee(t,e,e.pendingProps.children,n),e.child;case 12:return Ee(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(o=e.type._context,r=e.pendingProps,i=e.memoizedProps,s=r.value,Q(ti,o._currentValue),o._currentValue=s,i!==null)if(rt(i.value,s)){if(i.children===r.children&&!De.current){e=xt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var u=i.dependencies;if(u!==null){s=i.child;for(var d=u.firstContext;d!==null;){if(d.context===o){if(i.tag===1){d=vt(-1,n&-n),d.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?d.next=d:(d.next=f.next,f.next=d),c.pending=d}}i.lanes|=n,d=i.alternate,d!==null&&(d.lanes|=n),Js(i.return,n,e),u.lanes|=n;break}d=d.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(w(341));s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Js(s,n,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Ee(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,o=e.pendingProps.children,Gn(e,n),r=Ye(r),o=o(r),e.flags|=1,Ee(t,e,o,n),e.child;case 14:return o=e.type,r=be(o,e.pendingProps),r=be(o.type,r),Mu(t,e,o,r,n);case 15:return ep(t,e,e.type,e.pendingProps,n);case 17:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:be(o,r),Dr(t,e),e.tag=1,Le(o)?(t=!0,br(e)):t=!1,Gn(e,n),Xf(e,o,r),Ks(e,o,r,n),Xs(null,e,o,!0,t,n);case 19:return ip(t,e,n);case 22:return tp(t,e,n)}throw Error(w(156,e.tag))};function Tp(t,e){return Yd(t,e)}function Ng(t,e,n,o){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function We(t,e,n,o){return new Ng(t,e,n,o)}function ka(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ag(t){if(typeof t=="function")return ka(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Wl)return 11;if(t===Jl)return 14}return 2}function Gt(t,e){var n=t.alternate;return n===null?(n=We(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vr(t,e,n,o,r,i){var s=2;if(o=t,typeof t=="function")ka(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case wn:return an(n.children,r,i,e);case ql:s=8,r|=8;break;case vs:return t=We(12,n,e,r|2),t.elementType=vs,t.lanes=i,t;case Cs:return t=We(13,n,e,r),t.elementType=Cs,t.lanes=i,t;case _s:return t=We(19,n,e,r),t.elementType=_s,t.lanes=i,t;case Pd:return Di(n,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Nd:s=10;break e;case Ad:s=9;break e;case Wl:s=11;break e;case Jl:s=14;break e;case It:s=16,o=null;break e}throw Error(w(130,t==null?t:typeof t,""))}return e=We(s,n,e,r),e.elementType=t,e.type=o,e.lanes=i,e}function an(t,e,n,o){return t=We(7,t,o,e),t.lanes=n,t}function Di(t,e,n,o){return t=We(22,t,o,e),t.elementType=Pd,t.lanes=n,t.stateNode={isHidden:!1},t}function fs(t,e,n){return t=We(6,t,null,e),t.lanes=n,t}function ps(t,e,n){return e=We(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Pg(t,e,n,o,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yi(0),this.expirationTimes=Yi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yi(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Ia(t,e,n,o,r,i,s,u,d){return t=new Pg(t,e,n,u,d),e===1?(e=1,i===!0&&(e|=8)):e=0,i=We(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ca(i),t}function Mg(t,e,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sn,key:o==null?null:""+o,children:t,containerInfo:e,implementation:n}}function xp(t){if(!t)return qt;t=t._reactInternals;e:{if(vn(t)!==t||t.tag!==1)throw Error(w(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Le(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(w(171))}if(t.tag===1){var n=t.type;if(Le(n))return xf(t,n,e)}return e}function Ep(t,e,n,o,r,i,s,u,d){return t=Ia(n,o,!0,t,r,i,s,u,d),t.context=xp(null),n=t.current,o=Se(),r=Bt(n),i=vt(o,r),i.callback=e??null,Ot(n,i,r),t.current.lanes=r,er(t,r,o),Fe(t,o),t}function Li(t,e,n,o){var r=e.current,i=Se(),s=Bt(r);return n=xp(n),e.context===null?e.context=n:e.pendingContext=n,e=vt(i,s),e.payload={element:t},o=o===void 0?null:o,o!==null&&(e.callback=o),t=Ot(r,e,s),t!==null&&(nt(t,r,s,i),Pr(t,r,s)),s}function di(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Hu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Na(t,e){Hu(t,e),(t=t.alternate)&&Hu(t,e)}function Rg(){return null}var Sp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Aa(t){this._internalRoot=t}Fi.prototype.render=Aa.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(w(409));Li(t,e,null,null)};Fi.prototype.unmount=Aa.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;pn(function(){Li(null,t,null,null)}),e[_t]=null}};function Fi(t){this._internalRoot=t}Fi.prototype.unstable_scheduleHydration=function(t){if(t){var e=ef();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Pt.length&&e!==0&&e<Pt[n].priority;n++);Pt.splice(n,0,t),n===0&&nf(t)}};function Pa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qu(){}function Dg(t,e,n,o,r){if(r){if(typeof o=="function"){var i=o;o=function(){var c=di(s);i.call(c)}}var s=Ep(e,o,t,0,null,!1,!1,"",qu);return t._reactRootContainer=s,t[_t]=s.current,qo(t.nodeType===8?t.parentNode:t),pn(),s}for(;r=t.lastChild;)t.removeChild(r);if(typeof o=="function"){var u=o;o=function(){var c=di(d);u.call(c)}}var d=Ia(t,0,!1,null,null,!1,!1,"",qu);return t._reactRootContainer=d,t[_t]=d.current,qo(t.nodeType===8?t.parentNode:t),pn(function(){Li(e,d,n,o)}),d}function Ui(t,e,n,o,r){var i=n._reactRootContainer;if(i){var s=i;if(typeof r=="function"){var u=r;r=function(){var d=di(s);u.call(d)}}Li(e,s,t,r)}else s=Dg(n,e,t,r,o);return di(s)}bd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Co(e.pendingLanes);n!==0&&(Zl(e,n|1),Fe(e,ue()),!(W&6)&&(Zn=ue()+500,Zt()))}break;case 13:pn(function(){var o=Tt(t,1);if(o!==null){var r=Se();nt(o,t,1,r)}}),Na(t,1)}};Ql=function(t){if(t.tag===13){var e=Tt(t,134217728);if(e!==null){var n=Se();nt(e,t,134217728,n)}Na(t,134217728)}};jd=function(t){if(t.tag===13){var e=Bt(t),n=Tt(t,e);if(n!==null){var o=Se();nt(n,t,e,o)}Na(t,e)}};ef=function(){return Y};tf=function(t,e){var n=Y;try{return Y=t,e()}finally{Y=n}};Ps=function(t,e,n){switch(e){case"input":if(Es(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var o=n[e];if(o!==t&&o.form===t.form){var r=Ii(o);if(!r)throw Error(w(90));Rd(o),Es(o,r)}}}break;case"textarea":Ld(t,n);break;case"select":e=n.value,e!=null&&Un(t,!!n.multiple,e,!1)}};Gd=Ea;zd=pn;var Lg={usingClientEntryPoint:!1,Events:[nr,An,Ii,$d,Bd,Ea]},ho={findFiberByHostInstance:on,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Fg={bundleType:ho.bundleType,version:ho.version,rendererPackageName:ho.rendererPackageName,rendererConfig:ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:St.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Wd(t),t===null?null:t.stateNode},findFiberByHostInstance:ho.findFiberByHostInstance||Rg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xr.isDisabled&&xr.supportsFiber)try{Ei=xr.inject(Fg),ct=xr}catch{}}Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lg;Ge.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pa(e))throw Error(w(200));return Mg(t,e,null,n)};Ge.createRoot=function(t,e){if(!Pa(t))throw Error(w(299));var n=!1,o="",r=Sp;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Ia(t,1,!1,null,null,n,!1,o,r),t[_t]=e.current,qo(t.nodeType===8?t.parentNode:t),new Aa(e)};Ge.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(w(188)):(t=Object.keys(t).join(","),Error(w(268,t)));return t=Wd(e),t=t===null?null:t.stateNode,t};Ge.flushSync=function(t){return pn(t)};Ge.hydrate=function(t,e,n){if(!Vi(e))throw Error(w(200));return Ui(null,t,e,!0,n)};Ge.hydrateRoot=function(t,e,n){if(!Pa(t))throw Error(w(405));var o=n!=null&&n.hydratedSources||null,r=!1,i="",s=Sp;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Ep(e,null,t,1,n??null,r,!1,i,s),t[_t]=e.current,qo(t),o)for(t=0;t<o.length;t++)n=o[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Fi(e)};Ge.render=function(t,e,n){if(!Vi(e))throw Error(w(200));return Ui(null,t,e,!1,n)};Ge.unmountComponentAtNode=function(t){if(!Vi(t))throw Error(w(40));return t._reactRootContainer?(pn(function(){Ui(null,null,t,!1,function(){t._reactRootContainer=null,t[_t]=null})}),!0):!1};Ge.unstable_batchedUpdates=Ea;Ge.unstable_renderSubtreeIntoContainer=function(t,e,n,o){if(!Vi(n))throw Error(w(200));if(t==null||t._reactInternals===void 0)throw Error(w(38));return Ui(t,e,n,!1,o)};Ge.version="18.3.1-next-f1338f8080-20240426";function wp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wp)}catch(t){console.error(t)}}wp(),Sd.exports=Ge;var Vg=Sd.exports,Wu=Vg;gs.createRoot=Wu.createRoot,gs.hydrateRoot=Wu.hydrateRoot;var Ae=(t=>(t.CAPTURE="CAPTURE",t.CONFIRM_CONDITION="CONFIRM_CONDITION",t.RESULTS="RESULTS",t.CHECKLIST="CHECKLIST",t))(Ae||{}),Ur=(t=>(t.AS_NEW="Como Nuevo",t.GOOD_CONDITION="Buen Estado",t.USED="Usado",t))(Ur||{});const ul={"Como Nuevo":"Sin marcas de uso, embalaje original si es posible.","Buen Estado":"Pocas marcas de uso, totalmente funcional.",Usado:"Marcas de uso evidentes, funcional pero con desgaste."},Ug="Valora y Revisa tu Producto",Og=({className:t})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:`w-6 h-6 ${t}`,children:[T.jsx("path",{d:"M12 9a3.75 3.75 0 1 0 0 7.5A3.75 3.75 0 0 0 12 9Z"}),T.jsx("path",{fillRule:"evenodd",d:"M9.344 3.071a49.52 49.52 0 0 1 5.312 0c.967.052 1.791.56 2.312 1.263a.998.998 0 0 1 .394.81.666.666 0 0 0 .422.546l-.06.035c.342.196.61.457.795.795l.035-.06a.666.666 0 0 0 .546.422.998.998 0 0 1 .81.394c.703.52 1.21 1.345 1.263 2.312a49.52 49.52 0 0 1 0 5.312c-.052.967-.56 1.791-1.263 2.312a.998.998 0 0 1-.81.394.666.666 0 0 0-.422.546l.06.035c-.196.342-.457.61-.795.795l-.035.06a.666.666 0 0 0-.546.422.998.998 0 0 1-.394.81c-.52.703-1.345 1.21-2.312 1.263a49.52 49.52 0 0 1-5.312 0c-.967-.052-1.791-.56-2.312-1.263a.998.998 0 0 1-.394-.81.666.666 0 0 0-.422-.546l.06-.035c.342-.196.61-.457.795-.795l.035.06a.666.666 0 0 0 .546-.422.998.998 0 0 1 .394-.81c.703-.52 1.21-1.345 1.263-2.312a49.52 49.52 0 0 1 0-5.312c.052-.967.56-1.791 1.263-2.312a.998.998 0 0 1 .81-.394.666.666 0 0 0 .422-.546l-.06-.035c.196-.342.457-.61.795-.795l-.035-.06a.666.666 0 0 0 .546-.422.998.998 0 0 1 .394-.81Z",clipRule:"evenodd"})]}),$g=({className:t})=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:`w-6 h-6 ${t}`,children:T.jsx("path",{fillRule:"evenodd",d:"M19.916 4.626a.75.75 0 0 1 .208 1.04l-9 13.5a.75.75 0 0 1-1.154.114l-6-6a.75.75 0 0 1 1.06-1.06l5.353 5.353 8.493-12.74a.75.75 0 0 1 1.04-.207Z",clipRule:"evenodd"})}),Bg=({className:t})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:`w-6 h-6 ${t}`,children:[T.jsx("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"}),T.jsx("path",{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"})]}),kp=({className:t})=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:`w-6 h-6 ${t}`,children:T.jsx("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z",clipRule:"evenodd"})}),Gg=({className:t})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:`w-6 h-6 ${t}`,children:[T.jsx("path",{fillRule:"evenodd",d:"M10.5 3.75a.75.75 0 0 1 .75.75v2.25h3a.75.75 0 0 1 0 1.5h-3v2.25a.75.75 0 0 1-1.5 0v-2.25H7.5a.75.75 0 0 1 0-1.5h2.25V4.5a.75.75 0 0 1 .75-.75Zm3.75 8.25a.75.75 0 0 1 0 1.5H6.75a.75.75 0 0 1 0-1.5h7.5Zm.75 2.25a.75.75 0 0 0-1.5 0v.75a.75.75 0 0 0 1.5 0v-.75Zm-.75 3.75a.75.75 0 0 1 0 1.5H6.75a.75.75 0 0 1 0-1.5h7.5Z",clipRule:"evenodd"}),T.jsx("path",{d:"M13.5 2.25A2.25 2.25 0 0 0 11.25 0h-6A2.25 2.25 0 0 0 3 2.25v19.5A2.25 2.25 0 0 0 5.25 24h13.5A2.25 2.25 0 0 0 21 21.75V7.543A2.25 2.25 0 0 0 19.406 5.72L14.28 1.594A2.25 2.25 0 0 0 13.5 2.25Zm-1.5 0h-.375a.75.75 0 0 1-.75-.75V1.5h.375a.75.75 0 0 1 .75.75v-.75Zm0 0V.75A.75.75 0 0 0 12.75 0H11.25A2.25 2.25 0 0 0 9 2.25v.015c0 .07.006.137.016.204L12 5.25l2.984-2.985A2.243 2.243 0 0 0 13.5 2.25Z"})]}),Ip=({className:t})=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:`w-6 h-6 ${t}`,children:T.jsx("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-4.5a.75.75 0 0 0-.75.75v4.5l1.903-1.903a.75.75 0 0 0-1.06-1.061l-1.904 1.903ZM10.5 4.5a7.5 7.5 0 0 0-7.5 7.5c0 4.142 3.358 7.5 7.5 7.5s7.5-3.358 7.5-7.5c0-1.061-.215-2.07-.608-3.006a.75.75 0 0 0-1.19.504A5.992 5.992 0 0 1 18 12a6 6 0 0 1-6 6c-3.309 0-6-2.691-6-6a6 6 0 0 1 6-6c1.09 0 2.123.29 3.07.845a.75.75 0 0 0 1.096-.919A7.488 7.488 0 0 0 10.5 4.5Z",clipRule:"evenodd"})}),Ju=({className:t})=>T.jsxs("svg",{className:`animate-spin h-5 w-5 text-white ${t}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[T.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),T.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Np=({className:t})=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:`w-5 h-5 ${t}`,children:T.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-7-4a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM9 9a.75.75 0 0 0 0 1.5h.253a.25.25 0 0 1 .244.304l-.459 2.066A1.75 1.75 0 0 0 10.747 15H11a.75.75 0 0 0 0-1.5h-.253a.25.25 0 0 1-.244-.304l.459-2.066A1.75 1.75 0 0 0 9.253 9H9Z",clipRule:"evenodd"})}),zg=({className:t})=>T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:`w-5 h-5 ${t}`,children:T.jsx("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})}),Ap="gemini-2.5-flash-preview-04-17",Hg="gemini-2.5-flash-preview-04-17",qg=({onCapture:t,onCameraError:e,instructions:n})=>{const o=Z.useRef(null),r=Z.useRef(null),[i,s]=Z.useState(!0),[u,d]=Z.useState(null),[c,f]=Z.useState(null),p=Z.useCallback(async()=>{s(!0),e("");try{if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){const h=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).catch(async v=>{if(console.warn("Environment camera failed, trying user camera:",v),v.name!=="NotAllowedError"&&v.name!=="NotFoundErrorOverconstrained")return navigator.mediaDevices.getUserMedia({video:{facingMode:"user"}});throw v});o.current&&(o.current.srcObject=h,d(h),o.current.onloadedmetadata=()=>{o.current&&f({width:o.current.videoWidth,height:o.current.videoHeight}),s(!1)})}else throw new Error("getUserMedia no está soportado en este navegador.")}catch(h){console.error("Error accessing webcam:",h);let v="Error al acceder a la cámara.";h instanceof Error&&(h.name==="NotAllowedError"?v="Permiso de cámara denegado. Por favor, habilita el acceso a la cámara en los ajustes de tu navegador.":h.name==="NotFoundError"||h.name==="DevicesNotFoundError"?v="No se encontró ninguna cámara. Asegúrate de que una cámara esté conectada y habilitada.":v=`Error de cámara: ${h.message}`),e(v),s(!1)}},[e]);Z.useEffect(()=>(p(),()=>{u&&u.getTracks().forEach(h=>h.stop())}),[p]);const m=()=>{if(o.current&&r.current){const h=o.current,v=r.current;v.width=h.videoHeight,v.height=h.videoWidth;const _=v.getContext("2d");if(_){_.translate(v.width,0),_.rotate(Math.PI/2),_.drawImage(h,0,0,h.videoWidth,h.videoHeight);const k=v.toDataURL("image/jpeg");t(k.split(",")[1])}}};return c?c.width/c.height:4/3,T.jsxs("div",{className:"flex flex-col items-center space-y-4 w-full max-w-lg mx-auto",children:[T.jsxs("div",{className:"w-full bg-slate-800 rounded-lg overflow-hidden shadow-lg relative",style:{aspectRatio:`${c?c.width:4}/${c?c.height:3}`},children:[T.jsx("video",{ref:o,autoPlay:!0,playsInline:!0,className:"w-full h-full object-contain origin-center",style:{transform:"rotate(90deg)"}}),i&&T.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50",children:T.jsx("p",{className:"text-white text-lg",children:"Iniciando cámara..."})}),T.jsx("canvas",{ref:r,className:"hidden"})]}),T.jsx("p",{className:"text-sm text-slate-400 text-center px-4",children:n}),T.jsxs("button",{onClick:m,disabled:i||!u,className:"w-full flex items-center justify-center px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-75 transition duration-150 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed",children:[T.jsx(Og,{className:"mr-2"}),"Tomar Foto del Producto"]})]})},Wg=({onProductIdentified:t,onManualSearch:e,setLoading:n,setError:o,clearError:r,identifyProductApi:i})=>{const[s,u]=Z.useState(""),d=async f=>{r(),n(!0,"Identificando producto..."),u("");try{const p=await i(f);t(f,p)}catch(p){console.error(p),o(p instanceof Error?p.message:"Error desconocido al identificar producto.")}finally{n(!1)}},c=f=>{u(f),o(f)};return T.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 pt-10 md:pt-16",children:[T.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-center text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 via-purple-500 to-pink-500 mb-8",children:Ug}),s&&T.jsxs("div",{className:"mb-4 p-4 bg-red-700 border border-red-500 text-white rounded-md w-full max-w-lg text-center",children:[T.jsx("p",{className:"font-semibold",children:"Error de Cámara"}),T.jsx("p",{children:s}),s.includes("Permiso")&&T.jsx("p",{className:"mt-2 text-sm",children:"Por favor, revisa los permisos de la cámara en tu navegador y recarga la página."})]}),!s.includes("Permiso denegado")&&!s.includes("No se encontró")&&T.jsx(qg,{onCapture:d,onCameraError:c,instructions:"Encuadra bien tu producto y asegúrate de que haya buena iluminación."}),T.jsx("div",{className:"mt-6 w-full max-w-lg",children:T.jsx("button",{onClick:e,className:"w-full text-center py-2 px-4 text-indigo-400 hover:text-indigo-300 hover:underline transition duration-150",children:"O buscar producto manualmente"})})]})},Jg=({productInfo:t,onConfirmAndPriceSearch:e,onBackToCapture:n})=>{var g,C,x,S,N;const[o,r]=Z.useState(""),[i,s]=Z.useState(!1),[u,d]=Z.useState(t.condition),[c,f]=Z.useState(0);Z.useEffect(()=>{var A,M;const E=t.manualName||((A=t.identifiedProduct)==null?void 0:A.name)||"";r(E),t.manualName===""&&!t.userImage&&!((M=t.identifiedProduct)!=null&&M.name)||!E&&(t.userImage||t.identifiedProduct)?s(!0):s(!1),t.stockQuantity!==void 0?f(t.stockQuantity):f(0)},[t]);const p=()=>{s(!1)},m=()=>{s(!0)},h=E=>{r(E.target.value)},v=()=>{if(o&&u){const E=c===""||isNaN(parseInt(String(c)))?0:parseInt(String(c),10);e(o,u,E)}};let _="Por favor, ingresa el nombre del producto:";o&&(t.userImage||(g=t.identifiedProduct)!=null&&g.name?_="Hemos reconocido este producto como:":_="El producto ingresado/corregido es:");const k=(C=t.identifiedProduct)!=null&&C.stockImageUrl&&((x=t.identifiedProduct)==null?void 0:x.name)===o?t.identifiedProduct.stockImageUrl:void 0,y=o&&u&&!i;return T.jsxs("div",{className:"container mx-auto p-4 md:p-8 max-w-2xl",children:[T.jsx("button",{onClick:n,className:"mb-6 text-indigo-400 hover:text-indigo-300",children:"← Volver a capturar"}),T.jsx("h2",{className:"text-3xl font-bold mb-6 text-center text-indigo-400",children:"Confirmación y Estado del Producto"}),T.jsxs("div",{className:"bg-slate-800 p-6 rounded-lg shadow-xl mb-8",children:[T.jsx("h3",{className:"text-xl font-semibold mb-4 text-slate-200",children:"Producto Detectado"}),t.userImage&&T.jsxs("div",{className:"mb-4",children:[T.jsx("p",{className:"text-sm text-slate-400 mb-1",children:"Foto tomada:"}),T.jsx("img",{src:`data:image/jpeg;base64,${t.userImage}`,alt:"Producto capturado",className:"rounded-md max-h-60 w-auto mx-auto shadow-md"})]}),i?T.jsxs("div",{className:"mb-4",children:[T.jsx("label",{htmlFor:"productName",className:"block text-sm font-medium text-slate-300 mb-1",children:"Nombre del producto:"}),T.jsx("input",{type:"text",id:"productName",value:o,onChange:h,placeholder:"Ej: iPhone 13 Pro, Taladro Bosch XYZ",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500","aria-describedby":"productNameHelp"}),!o&&T.jsx("p",{id:"productNameHelp",className:"mt-2 text-xs text-yellow-400",children:"Por favor, ingresa un nombre para el producto."})]}):T.jsxs("div",{className:"mb-4 p-3 bg-slate-700 rounded",children:[T.jsx("p",{className:"text-slate-300",children:_}),T.jsx("p",{className:"text-lg font-semibold text-indigo-300 my-1",children:o||"Producto no identificado"}),k&&T.jsx("img",{src:k,alt:"Stock del producto",className:"mt-2 rounded max-h-40 w-auto mx-auto"})]}),T.jsxs("div",{className:"flex space-x-3",children:[!i&&((S=t.identifiedProduct)==null?void 0:S.name)&&t.identifiedProduct.name===o&&T.jsxs("button",{onClick:p,className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-lg flex items-center justify-center transition duration-150",children:[T.jsx($g,{className:"mr-2"})," Sí, es correcto"]}),T.jsxs("button",{onClick:i?p:m,disabled:i&&!o,className:`flex-1 ${i?"bg-indigo-600 hover:bg-indigo-700":"bg-yellow-500 hover:bg-yellow-600"} text-white font-medium py-2 px-4 rounded-lg flex items-center justify-center transition duration-150 disabled:opacity-50 disabled:cursor-not-allowed`,children:[T.jsx(Bg,{className:"mr-2"})," ",i?"Confirmar Nombre":(N=t.identifiedProduct)!=null&&N.name?"Corregir Nombre":"Ingresar Manualmente"]})]})]}),!i&&o&&T.jsxs("div",{className:"bg-slate-800 p-6 rounded-lg shadow-xl",children:[T.jsx("h3",{className:"text-xl font-semibold mb-1 text-slate-200",children:"Estado del Producto"}),T.jsx("p",{className:"text-sm text-slate-400 mb-4",children:"Indica el estado en el que se encuentra:"}),T.jsx("div",{className:"space-y-3",children:Object.keys(ul).map(E=>T.jsxs("button",{onClick:()=>d(E),className:`w-full text-left p-4 rounded-lg border-2 transition-all duration-150
                  ${u===E?"bg-indigo-600 border-indigo-500 text-white shadow-lg":"bg-slate-700 border-slate-600 hover:border-indigo-500 hover:bg-slate-600 text-slate-300"}`,children:[T.jsx("p",{className:"font-semibold",children:E}),T.jsx("p",{className:"text-xs opacity-90",children:ul[E]})]},E))}),u&&T.jsxs("div",{className:"mt-6",children:[T.jsx("label",{htmlFor:"stockQuantity",className:"block text-sm font-medium text-slate-300 mb-1",children:"Cantidad en stock:"}),T.jsx("input",{type:"number",id:"stockQuantity",value:c,onChange:E=>f(E.target.value===""?"":Math.max(0,parseInt(E.target.value,10))),placeholder:"0",min:"0",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-md text-white focus:ring-indigo-500 focus:border-indigo-500"})]})]}),y&&T.jsxs("button",{onClick:v,className:"mt-8 w-full flex items-center justify-center px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:ring-opacity-75 transition duration-150 ease-in-out",children:[T.jsx(kp,{className:"mr-2"})," Buscar Precios y Generar Estimación"]}),i&&!o&&T.jsxs("div",{className:"mt-4 p-3 bg-yellow-800 border border-yellow-600 text-yellow-100 rounded-md flex items-center",children:[T.jsx(Np,{className:"w-5 h-5 mr-2 shrink-0"}),T.jsx("span",{children:"Por favor, ingresa un nombre para el producto para continuar."})]})]})},Pp=["iphone","ipad","macbook","imac","apple watch","airpods","mac mini","mac studio","homepod","ipod"],Mp=["playstation","ps3","ps4","ps5","xbox","nintendo switch","steam deck","consola"],cl=["videojuego","juego para","edition","collector"],Rp=["cámara","camara","objetivo","lente","reflex","mirrorless","dslr","evil","sony alpha","canon eos","nikon d","fujifilm x","leica m","gopro"],Yg=["pro","max","ultra","elite","signature","hasselblad","bang & olufsen","devialet","sennheiser hd 8","astell&kern","leica s","leica sl"],Kg=[...Pp,...Mp,...cl,...Rp,"phone","móvil","celular","smartphone","galaxy","pixel","xiaomi","oppo","realme","vivo","oneplus","portátil","laptop","notebook","chromebook","ultrabook","pc","tablet","surface","tv","televisor","smart tv","qled","oled","auriculares","headphones","earbuds","cascos","smartwatch","reloj inteligente","watch","wearable","ordenador","computer","desktop","servidor","server","monitor","pantalla","altavoz inteligente","echo","google home","barra de sonido","router","modem","wifi","access point","drone","dron","impresora","printer","escaner","scanner","ebook","kindle","lector electrónico","proyector","tarjeta gráfica","gpu","cpu","procesador","ram","memoria","disco duro","ssd","placa base","motherboard","teclado","ratón","mouse","micrófono","webcam","robot aspirador","robot de cocina"],Zg=t=>{if(!t)return{isTech:!1,description:"No Tecnológico"};const e=t.toLowerCase();let n={isTech:!1,description:"No Tecnológico"};if(Kg.some(o=>e.includes(o))){if(n.isTech=!0,n.description="Tecnológico (General)",Pp.some(o=>e.includes(o))&&(n.isApple=!0,n.description="Producto Apple"),Yg.some(o=>e.includes(o))&&(n.isHighEnd=!0,n.description=n.isApple?"Producto Apple (Alta Gama)":"Tecnológico (Alta Gama)"),Mp.some(o=>e.includes(o))){let o=cl.some(r=>e.includes(r));e.includes("juego")&&!o&&(o=!0),o&&!e.includes("consola")?(n.isVideogame=!0,n.description="Videojuego"):(n.isConsole=!0,n.description="Consola de Videojuegos")}cl.some(o=>e.includes(o))&&!n.isConsole&&(n.isVideogame=!0,n.description="Videojuego"),Rp.some(o=>e.includes(o))&&(n.isPhotography=!0,n.description=n.isHighEnd?"Fotografía (Alta Gama)":"Fotografía")}return n},Qg=({productInfo:t,priceInfo:e,onGenerateChecklist:n,onNewSearch:o})=>{var h;const r=t.manualName||((h=t.identifiedProduct)==null?void 0:h.name)||"Producto Desconocido",i=t.condition||Ur.USED,s=t.stockQuantity,[u,d]=Z.useState(!1),c=.6,{recommendedPurchasePrice:f,recommendationExplanation:p}=Z.useMemo(()=>{var Qe,xe,wt,Cn,_n,D,$,G,ee,ae,bt;const v=Zg(r);let _=(Qe=e.newPrice)==null?void 0:Qe.numericPrice,k=!1,y=`Producto: ${r} (${v.description}).
`;const g=[(xe=e.cashConverters)==null?void 0:xe.numericPrice,(wt=e.cex)==null?void 0:wt.numericPrice,(Cn=e.backmarket)==null?void 0:Cn.numericPrice,(_n=e.wallapop)==null?void 0:_n.numericPrice,(D=e.milanuncios)==null?void 0:D.numericPrice,($=e.ebay)==null?void 0:$.numericPrice,(G=e.gameStore)==null?void 0:G.numericPrice,(ee=e.priceCharting)==null?void 0:ee.numericPrice,(ae=e.otherSource1)==null?void 0:ae.numericPrice,(bt=e.otherSource2)==null?void 0:bt.numericPrice].filter(Ne=>typeof Ne=="number"&&Ne>0);let C;if(g.length>0&&(C=g.reduce((Ne,so)=>Ne+so,0)/g.length),!_||_<=0)if(C&&C>0){const Ne=v.isVideogame?.5:v.isApple||v.isHighEnd?.25:v.isTech?.32:.5;_=C/(1-Ne),k=!0,y+=`Precio nuevo no disponible. Se estima un precio nuevo teórico de €${_.toFixed(2)} basado en el promedio de plataformas de 2ª mano (€${C.toFixed(2)}).
`}else return{recommendedPurchasePrice:"N/A",recommendationExplanation:`No se dispone de precio nuevo ni suficientes precios de segunda mano para "${r}" para calcular la recomendación. ${y}`};else y+=`Precio nuevo base: €${_.toFixed(2)}.
`;let x;v.isVideogame?x=.4:v.isApple||v.isHighEnd?x=.12:v.isTech?x=.18:x=.375;let S;v.isVideogame&&C&&C>0?(S=C,y+=`Para videojuegos, se usa el promedio de plataformas (€${C.toFixed(2)}) como base de venta "Como Nuevo".
`):(S=_*(1-x),y+=`Precio de venta objetivo (Como Nuevo) estimado: €${S.toFixed(2)} (descuento del ${x*100}% sobre precio ${k?"nuevo estimado":"nuevo"}).
`);let N=S,E=1;i===Ur.GOOD_CONDITION?(E=.8,y+="Ajuste por estado 'Buen Estado': -20% sobre precio 'Como Nuevo'. "):i===Ur.USED&&(E=.6,y+="Ajuste por estado 'Usado': -40% sobre precio 'Como Nuevo'. "),N*=E,E!==1?y+=`Precio venta obj. (estado ${i}): €${N.toFixed(2)}.
`:y+=`El estado 'Como Nuevo' no requiere ajuste adicional.
`;let A=N;C&&!v.isVideogame?(y+=`Precio promedio en plataformas de 2ª mano: €${C.toFixed(2)}.
`,C<N*.75?(A=C,y+=`El promedio de plataformas es notablemente inferior, se usa como precio de venta efectivo: €${A.toFixed(2)}.
`):y+=`El precio de venta objetivo calculado (€${N.toFixed(2)}) se considera razonable.
`):C||(y+=`No se encontraron suficientes precios en plataformas de 2ª mano para un ajuste comparativo.
`);let M=A*c;y+=`Precio de compra recomendado (antes de ajuste stock): €${M.toFixed(2)} (margen del ${(1-c)*100}% sobre venta efectiva).
`;let P=1,K="";s!==void 0&&s>=4&&s<=10?(P=.9,K=`Ajuste por stock (${s} uds): -10%.`):s!==void 0&&s>=11&&(P=.8,K=`Ajuste por stock (${s} uds): -20%.`);const Ve=M*P;return P!==1?y+=`${K} Precio final recomendado: €${Ve.toFixed(2)}.
`:y+=`Sin ajuste por cantidad en stock. Precio final recomendado: €${Ve.toFixed(2)}.
`,Ve<=0?{recommendedPurchasePrice:"N/A",recommendationExplanation:`No se pudo calcular un precio de compra recomendado positivo. ${y}`}:{recommendedPurchasePrice:Ve.toFixed(2),recommendationExplanation:y}},[r,i,e,s]),m=({title:v,detail:_,defaultNote:k})=>{if(!_||_.price==="N/A"||_.price===void 0)return null;const y=_.price,g=_.specificNote&&_.specificNote.toLowerCase().startsWith("fuente:")?_.specificNote:v,C=_.specificNote&&!_.specificNote.toLowerCase().startsWith("fuente:")?_.specificNote:!_.specificNote&&k?k:"";return T.jsxs("div",{className:"bg-slate-700 p-4 rounded-lg shadow flex flex-col justify-between min-h-[120px]",children:[T.jsxs("div",{children:[T.jsx("h4",{className:"text-sm font-semibold text-indigo-400",children:g}),T.jsx("p",{className:"text-2xl font-bold text-white my-1",children:y}),C&&T.jsx("p",{className:"text-xs text-slate-400 mt-1",children:C})]}),_.sourceUrl&&T.jsxs("a",{href:_.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"mt-2 inline-flex items-center justify-center text-xs text-indigo-400 hover:text-indigo-300 hover:underline bg-slate-600 hover:bg-slate-500 px-3 py-1 rounded self-start",children:[T.jsx(kp,{className:"w-3 h-3 mr-1"}),"Verificar Fuente"]})]})};return T.jsxs("div",{className:"container mx-auto p-4 md:p-8 max-w-3xl",children:[T.jsx("h2",{className:"text-3xl font-bold mb-6 text-center text-indigo-400",children:"Resultados de Valoración"}),T.jsx("div",{className:"bg-slate-800 p-6 rounded-lg shadow-xl mb-8",children:T.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start space-y-4 sm:space-y-0 sm:space-x-6",children:[t.userImage&&T.jsx("img",{src:`data:image/jpeg;base64,${t.userImage}`,alt:"Producto",className:"w-32 h-32 object-cover rounded-lg shadow-md flex-shrink-0"}),T.jsxs("div",{className:"text-center sm:text-left",children:[T.jsx("h3",{className:"text-2xl font-semibold text-white",children:r}),T.jsxs("p",{className:"text-md text-slate-300",children:["Estado: ",T.jsxs("span",{className:"font-medium text-indigo-400",children:[i," (",ul[i],")"]})]}),s!==void 0&&T.jsxs("p",{className:"text-md text-slate-300",children:["Cantidad en stock: ",T.jsx("span",{className:"font-medium text-indigo-400",children:s})]})]})]})}),T.jsxs("div",{className:"bg-slate-800 p-6 rounded-lg shadow-xl mb-8",children:[T.jsx("h3",{className:"text-xl font-semibold mb-4 text-slate-200",children:"Valoración del Producto"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[T.jsx(m,{title:"Precio Nuevo Estimado",detail:e.newPrice,defaultNote:"Promedio tiendas online"}),T.jsx(m,{title:"Cash Converters",detail:e.cashConverters}),T.jsx(m,{title:"CEX",detail:e.cex}),T.jsx(m,{title:"Backmarket",detail:e.backmarket,defaultNote:`Precio para estado: ${i}`}),T.jsx(m,{title:"Wallapop",detail:e.wallapop}),T.jsx(m,{title:"Milanuncios",detail:e.milanuncios}),T.jsx(m,{title:"eBay",detail:e.ebay}),T.jsx(m,{title:"GAME",detail:e.gameStore}),T.jsx(m,{title:"PriceCharting",detail:e.priceCharting}),T.jsx(m,{title:"Otra Fuente 1",detail:e.otherSource1}),T.jsx(m,{title:"Otra Fuente 2",detail:e.otherSource2})]}),e.sources&&e.sources.length>0&&T.jsxs("div",{className:"mt-6 pt-4 border-t border-slate-700",children:[T.jsx("h4",{className:"text-sm font-semibold text-slate-300 mb-2",children:"Fuentes Generales Consultadas (Google Search):"}),T.jsx("ul",{className:"list-disc list-inside text-xs text-slate-400 space-y-1",children:e.sources.map((v,_)=>v.web&&T.jsx("li",{children:T.jsx("a",{href:v.web.uri,target:"_blank",rel:"noopener noreferrer",className:"hover:text-indigo-400 underline",children:v.web.title||v.web.uri})},_))}),T.jsx("p",{className:"text-xs text-slate-500 mt-2 italic",children:"Nota: Los enlaces 'Verificar Fuente' en cada tarjeta de precio (si están disponibles) apuntan a fuentes específicas para ese precio si la IA pudo identificarlas. Las fuentes generales anteriores son las páginas consultadas por la IA para su análisis global."})]})]}),T.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 p-6 rounded-lg shadow-2xl mb-8 text-white",children:[T.jsx("h3",{className:"text-2xl font-bold mb-3 text-center",children:"Precio de Compra Recomendado"}),T.jsxs("p",{className:"text-6xl font-extrabold text-center my-4",children:["€",f]}),T.jsxs("button",{onClick:()=>d(!u),className:"w-full flex items-center justify-between text-left text-sm font-semibold text-slate-200 hover:text-white bg-black bg-opacity-10 hover:bg-opacity-20 p-2 rounded-md mb-2 transition-colors","aria-expanded":u,"aria-controls":"calculation-details",children:["Detalle del cálculo",T.jsx(zg,{className:`w-5 h-5 transition-transform duration-200 ${u?"rotate-180":""}`})]}),u&&T.jsx("p",{id:"calculation-details",className:"text-xs text-left text-slate-200 px-1 whitespace-pre-line bg-black bg-opacity-20 p-3 rounded",children:p})]}),T.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:[T.jsxs("button",{onClick:n,className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-lg shadow-md flex items-center justify-center transition duration-150",children:[T.jsx(Gg,{className:"mr-2"})," Generar Checklist de Funcionamiento"]}),T.jsxs("button",{onClick:o,className:"flex-1 bg-slate-600 hover:bg-slate-700 text-white font-bold py-3 px-6 rounded-lg shadow-md flex items-center justify-center transition duration-150",children:[T.jsx(Ip,{className:"mr-2"})," Realizar Nueva Búsqueda"]})]})]})},Xg=({productInfo:t,checklist:e,onNewSearch:n})=>{var r;const o=t.manualName||((r=t.identifiedProduct)==null?void 0:r.name)||"Producto Desconocido";return T.jsxs("div",{className:"container mx-auto p-4 md:p-8 max-w-2xl",children:[T.jsx("h2",{className:"text-3xl font-bold mb-2 text-center text-indigo-400",children:"Checklist de Funcionamiento"}),T.jsxs("p",{className:"text-xl text-slate-300 mb-6 text-center",children:["para: ",T.jsx("span",{className:"font-semibold text-white",children:o})]}),T.jsx("div",{className:"bg-slate-800 p-6 rounded-lg shadow-xl mb-8",children:Object.keys(e).length>0?Object.entries(e).map(([i,s])=>T.jsxs("div",{className:"mb-6",children:[T.jsx("h3",{className:"text-xl font-semibold text-indigo-300 mb-3 border-b-2 border-slate-700 pb-2",children:i}),T.jsx("ul",{className:"space-y-2",children:s.map((u,d)=>T.jsxs("li",{className:"flex items-center p-3 bg-slate-700 rounded-md",children:[T.jsx("input",{id:`checklist-${i}-${d}`,type:"checkbox",className:"h-5 w-5 rounded border-slate-500 text-indigo-600 focus:ring-indigo-500 bg-slate-600 mr-3 shrink-0"}),T.jsx("label",{htmlFor:`checklist-${i}-${d}`,className:"text-slate-200 text-sm",children:u})]},d))})]},i)):T.jsx("p",{className:"text-slate-400 text-center py-8",children:"No se pudo generar un checklist para este producto."})}),T.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center px-6 py-3 bg-slate-600 hover:bg-slate-700 text-white font-bold rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-opacity-75 transition duration-150 ease-in-out",children:[T.jsx(Ip,{className:"mr-2"})," Realizar Nueva Búsqueda"]})]})},bg=()=>T.jsx("footer",{className:"w-full py-6 mt-auto",children:T.jsxs("div",{className:"container mx-auto px-4 text-center text-sm text-slate-500",children:[T.jsxs("p",{children:["© ",new Date().getFullYear()," ValoraProducto IA. Todos los derechos reservados."]}),T.jsxs("div",{className:"mt-2 space-x-4",children:[T.jsx("a",{href:"#",className:"hover:text-indigo-400",children:"Acerca de"}),T.jsx("a",{href:"#",className:"hover:text-indigo-400",children:"Privacidad"}),T.jsx("a",{href:"#",className:"hover:text-indigo-400",children:"Contacto"})]})]})}),jg=({message:t="Cargando...",fullScreen:e=!1})=>e?T.jsxs("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-75 flex flex-col items-center justify-center z-50",children:[T.jsx(Ju,{className:"w-12 h-12 text-indigo-500"}),T.jsx("p",{className:"mt-4 text-xl text-slate-200",children:t})]}):T.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[T.jsx(Ju,{className:"w-10 h-10 text-indigo-500"}),t&&T.jsx("p",{className:"mt-3 text-slate-300",children:t})]});var J;(function(t){t.assertEqual=r=>{};function e(r){}t.assertIs=e;function n(r){throw new Error}t.assertNever=n,t.arrayToEnum=r=>{const i={};for(const s of r)i[s]=s;return i},t.getValidEnumValues=r=>{const i=t.objectKeys(r).filter(u=>typeof r[r[u]]!="number"),s={};for(const u of i)s[u]=r[u];return t.objectValues(s)},t.objectValues=r=>t.objectKeys(r).map(function(i){return r[i]}),t.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const i=[];for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&i.push(s);return i},t.find=(r,i)=>{for(const s of r)if(i(s))return s},t.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&Number.isFinite(r)&&Math.floor(r)===r;function o(r,i=" | "){return r.map(s=>typeof s=="string"?`'${s}'`:s).join(i)}t.joinValues=o,t.jsonStringifyReplacer=(r,i)=>typeof i=="bigint"?i.toString():i})(J||(J={}));var Yu;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Yu||(Yu={}));const F=J.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),At=t=>{switch(typeof t){case"undefined":return F.undefined;case"string":return F.string;case"number":return Number.isNaN(t)?F.nan:F.number;case"boolean":return F.boolean;case"function":return F.function;case"bigint":return F.bigint;case"symbol":return F.symbol;case"object":return Array.isArray(t)?F.array:t===null?F.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?F.promise:typeof Map<"u"&&t instanceof Map?F.map:typeof Set<"u"&&t instanceof Set?F.set:typeof Date<"u"&&t instanceof Date?F.date:F.object;default:return F.unknown}},I=J.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Et extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=o=>{this.issues=[...this.issues,o]},this.addIssues=(o=[])=>{this.issues=[...this.issues,...o]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},o={_errors:[]},r=i=>{for(const s of i.issues)if(s.code==="invalid_union")s.unionErrors.map(r);else if(s.code==="invalid_return_type")r(s.returnTypeError);else if(s.code==="invalid_arguments")r(s.argumentsError);else if(s.path.length===0)o._errors.push(n(s));else{let u=o,d=0;for(;d<s.path.length;){const c=s.path[d];d===s.path.length-1?(u[c]=u[c]||{_errors:[]},u[c]._errors.push(n(s))):u[c]=u[c]||{_errors:[]},u=u[c],d++}}};return r(this),o}static assert(e){if(!(e instanceof Et))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,J.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},o=[];for(const r of this.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(e(r))):o.push(e(r));return{formErrors:o,fieldErrors:n}}get formErrors(){return this.flatten()}}Et.create=t=>new Et(t);const dl=(t,e)=>{let n;switch(t.code){case I.invalid_type:t.received===F.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case I.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,J.jsonStringifyReplacer)}`;break;case I.unrecognized_keys:n=`Unrecognized key(s) in object: ${J.joinValues(t.keys,", ")}`;break;case I.invalid_union:n="Invalid input";break;case I.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${J.joinValues(t.options)}`;break;case I.invalid_enum_value:n=`Invalid enum value. Expected ${J.joinValues(t.options)}, received '${t.received}'`;break;case I.invalid_arguments:n="Invalid function arguments";break;case I.invalid_return_type:n="Invalid function return type";break;case I.invalid_date:n="Invalid date";break;case I.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:J.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case I.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case I.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case I.custom:n="Invalid input";break;case I.invalid_intersection_types:n="Intersection results could not be merged";break;case I.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case I.not_finite:n="Number must be finite";break;default:n=e.defaultError,J.assertNever(t)}return{message:n}};let ey=dl;function ty(){return ey}const ny=t=>{const{data:e,path:n,errorMaps:o,issueData:r}=t,i=[...n,...r.path||[]],s={...r,path:i};if(r.message!==void 0)return{...r,path:i,message:r.message};let u="";const d=o.filter(c=>!!c).slice().reverse();for(const c of d)u=c(s,{data:e,defaultError:u}).message;return{...r,path:i,message:u}};function R(t,e){const n=ty(),o=ny({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===dl?void 0:dl].filter(r=>!!r)});t.common.issues.push(o)}class we{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const o=[];for(const r of n){if(r.status==="aborted")return B;r.status==="dirty"&&e.dirty(),o.push(r.value)}return{status:e.value,value:o}}static async mergeObjectAsync(e,n){const o=[];for(const r of n){const i=await r.key,s=await r.value;o.push({key:i,value:s})}return we.mergeObjectSync(e,o)}static mergeObjectSync(e,n){const o={};for(const r of n){const{key:i,value:s}=r;if(i.status==="aborted"||s.status==="aborted")return B;i.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof s.value<"u"||r.alwaysSet)&&(o[i.value]=s.value)}return{status:e.value,value:o}}}const B=Object.freeze({status:"aborted"}),To=t=>({status:"dirty",value:t}),Ze=t=>({status:"valid",value:t}),Ku=t=>t.status==="aborted",Zu=t=>t.status==="dirty",Qn=t=>t.status==="valid",fi=t=>typeof Promise<"u"&&t instanceof Promise;var V;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(V||(V={}));var pi=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,n,o){if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?o:n==="a"?o.call(t):o?o.value:e.get(t)},Dp=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,n,o,r){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},xo,Eo;class pt{constructor(e,n,o,r){this._cachedPath=[],this.parent=e,this.data=n,this._path=o,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Qu=(t,e)=>{if(Qn(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Et(t.common.issues);return this._error=n,this._error}}};function z(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:o,description:r}=t;if(e&&(n||o))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(s,u)=>{const{message:d}=t;return s.code==="invalid_enum_value"?{message:d??u.defaultError}:typeof u.data>"u"?{message:d??o??u.defaultError}:s.code!=="invalid_type"?{message:u.defaultError}:{message:d??n??u.defaultError}},description:r}}class q{get description(){return this._def.description}_getType(e){return At(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:At(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new we,ctx:{common:e.parent.common,data:e.data,parsedType:At(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(fi(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const o=this.safeParse(e,n);if(o.success)return o.data;throw o.error}safeParse(e,n){const o={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:At(e)},r=this._parseSync({data:e,path:o.path,parent:o});return Qu(o,r)}"~validate"(e){var o,r;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:At(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:n});return Qn(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(r=(o=i==null?void 0:i.message)==null?void 0:o.toLowerCase())!=null&&r.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(i=>Qn(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(e,n){const o=await this.safeParseAsync(e,n);if(o.success)return o.data;throw o.error}async safeParseAsync(e,n){const o={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:At(e)},r=this._parse({data:e,path:o.path,parent:o}),i=await(fi(r)?r:Promise.resolve(r));return Qu(o,i)}refine(e,n){const o=r=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(r):n;return this._refinement((r,i)=>{const s=e(r),u=()=>i.addIssue({code:I.custom,...o(r)});return typeof Promise<"u"&&s instanceof Promise?s.then(d=>d?!0:(u(),!1)):s?!0:(u(),!1)})}refinement(e,n){return this._refinement((o,r)=>e(o)?!0:(r.addIssue(typeof n=="function"?n(o,r):n),!1))}_refinement(e){return new Jt({schema:this,typeName:O.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return zt.create(this,this._def)}nullable(){return eo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ft.create(this)}promise(){return vi.create(this,this._def)}or(e){return hi.create([this,e],this._def)}and(e){return gi.create(this,e,this._def)}transform(e){return new Jt({...z(this._def),schema:this,typeName:O.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new El({...z(this._def),innerType:this,defaultValue:n,typeName:O.ZodDefault})}brand(){return new wy({typeName:O.ZodBranded,type:this,...z(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Sl({...z(this._def),innerType:this,catchValue:n,typeName:O.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Ma.create(this,e)}readonly(){return kl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const oy=/^c[^\s-]{8,}$/i,ry=/^[0-9a-z]+$/,iy=/^[0-9A-HJKMNP-TV-Z]{26}$/i,sy=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ly=/^[a-z0-9_-]{21}$/i,ay=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,uy=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,cy=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,dy="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ms;const fy=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,py=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,my=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,hy=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,gy=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,yy=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Lp="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",vy=new RegExp(`^${Lp}$`);function Fp(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function Cy(t){return new RegExp(`^${Fp(t)}$`)}function _y(t){let e=`${Lp}T${Fp(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Ty(t,e){return!!((e==="v4"||!e)&&fy.test(t)||(e==="v6"||!e)&&my.test(t))}function xy(t,e){if(!ay.test(t))return!1;try{const[n]=t.split("."),o=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),r=JSON.parse(atob(o));return!(typeof r!="object"||r===null||"typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||e&&r.alg!==e)}catch{return!1}}function Ey(t,e){return!!((e==="v4"||!e)&&py.test(t)||(e==="v6"||!e)&&hy.test(t))}class ut extends q{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==F.string){const i=this._getOrReturnCtx(e);return R(i,{code:I.invalid_type,expected:F.string,received:i.parsedType}),B}const o=new we;let r;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(r=this._getOrReturnCtx(e,r),R(r,{code:I.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),o.dirty());else if(i.kind==="max")e.data.length>i.value&&(r=this._getOrReturnCtx(e,r),R(r,{code:I.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),o.dirty());else if(i.kind==="length"){const s=e.data.length>i.value,u=e.data.length<i.value;(s||u)&&(r=this._getOrReturnCtx(e,r),s?R(r,{code:I.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):u&&R(r,{code:I.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),o.dirty())}else if(i.kind==="email")cy.test(e.data)||(r=this._getOrReturnCtx(e,r),R(r,{validation:"email",code:I.invalid_string,message:i.message}),o.dirty());else if(i.kind==="emoji")ms||(ms=new RegExp(dy,"u")),ms.test(e.data)||(r=this._getOrReturnCtx(e,r),R(r,{validation:"emoji",code:I.invalid_string,message:i.message}),o.dirty());else if(i.kind==="uuid")sy.test(e.data)||(r=this._getOrReturnCtx(e,r),R(r,{validation:"uuid",code:I.invalid_string,message:i.message}),o.dirty());else if(i.kind==="nanoid")ly.test(e.data)||(r=this._getOrReturnCtx(e,r),R(r,{validation:"nanoid",code:I.invalid_string,message:i.message}),o.dirty());else if(i.kind==="cuid")oy.test(e.data)||(r=this._getOrReturnCtx(e,r),R(r,{validation:"cuid",code:I.invalid_string,message:i.message}),o.dirty());else if(i.kind==="cuid2")ry.test(e.data)||(r=this._getOrReturnCtx(e,r),R(r,{validation:"cuid2",code:I.invalid_string,message:i.message}),o.dirty());else if(i.kind==="ulid")iy.test(e.data)||(r=this._getOrReturnCtx(e,r),R(r,{validation:"ulid",code:I.invalid_string,message:i.message}),o.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),R(r,{validation:"url",code:I.invalid_string,message:i.message}),o.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),R(r,{validation:"regex",code:I.invalid_string,message:i.message}),o.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(r=this._getOrReturnCtx(e,r),R(r,{code:I.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),o.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(r=this._getOrReturnCtx(e,r),R(r,{code:I.invalid_string,validation:{startsWith:i.value},message:i.message}),o.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(r=this._getOrReturnCtx(e,r),R(r,{code:I.invalid_string,validation:{endsWith:i.value},message:i.message}),o.dirty()):i.kind==="datetime"?_y(i).test(e.data)||(r=this._getOrReturnCtx(e,r),R(r,{code:I.invalid_string,validation:"datetime",message:i.message}),o.dirty()):i.kind==="date"?vy.test(e.data)||(r=this._getOrReturnCtx(e,r),R(r,{code:I.invalid_string,validation:"date",message:i.message}),o.dirty()):i.kind==="time"?Cy(i).test(e.data)||(r=this._getOrReturnCtx(e,r),R(r,{code:I.invalid_string,validation:"time",message:i.message}),o.dirty()):i.kind==="duration"?uy.test(e.data)||(r=this._getOrReturnCtx(e,r),R(r,{validation:"duration",code:I.invalid_string,message:i.message}),o.dirty()):i.kind==="ip"?Ty(e.data,i.version)||(r=this._getOrReturnCtx(e,r),R(r,{validation:"ip",code:I.invalid_string,message:i.message}),o.dirty()):i.kind==="jwt"?xy(e.data,i.alg)||(r=this._getOrReturnCtx(e,r),R(r,{validation:"jwt",code:I.invalid_string,message:i.message}),o.dirty()):i.kind==="cidr"?Ey(e.data,i.version)||(r=this._getOrReturnCtx(e,r),R(r,{validation:"cidr",code:I.invalid_string,message:i.message}),o.dirty()):i.kind==="base64"?gy.test(e.data)||(r=this._getOrReturnCtx(e,r),R(r,{validation:"base64",code:I.invalid_string,message:i.message}),o.dirty()):i.kind==="base64url"?yy.test(e.data)||(r=this._getOrReturnCtx(e,r),R(r,{validation:"base64url",code:I.invalid_string,message:i.message}),o.dirty()):J.assertNever(i);return{status:o.value,value:e.data}}_regex(e,n,o){return this.refinement(r=>e.test(r),{validation:n,code:I.invalid_string,...V.errToObj(o)})}_addCheck(e){return new ut({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...V.errToObj(e)})}url(e){return this._addCheck({kind:"url",...V.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...V.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...V.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...V.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...V.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...V.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...V.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...V.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...V.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...V.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...V.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...V.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...V.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...V.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...V.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...V.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...V.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...V.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...V.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...V.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...V.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...V.errToObj(n)})}nonempty(e){return this.min(1,V.errToObj(e))}trim(){return new ut({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ut({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ut({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ut.create=t=>new ut({checks:[],typeName:O.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...z(t)});function Sy(t,e){const n=(t.toString().split(".")[1]||"").length,o=(e.toString().split(".")[1]||"").length,r=n>o?n:o,i=Number.parseInt(t.toFixed(r).replace(".","")),s=Number.parseInt(e.toFixed(r).replace(".",""));return i%s/10**r}class mn extends q{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==F.number){const i=this._getOrReturnCtx(e);return R(i,{code:I.invalid_type,expected:F.number,received:i.parsedType}),B}let o;const r=new we;for(const i of this._def.checks)i.kind==="int"?J.isInteger(e.data)||(o=this._getOrReturnCtx(e,o),R(o,{code:I.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(o=this._getOrReturnCtx(e,o),R(o,{code:I.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(o=this._getOrReturnCtx(e,o),R(o,{code:I.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):i.kind==="multipleOf"?Sy(e.data,i.value)!==0&&(o=this._getOrReturnCtx(e,o),R(o,{code:I.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(o=this._getOrReturnCtx(e,o),R(o,{code:I.not_finite,message:i.message}),r.dirty()):J.assertNever(i);return{status:r.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,V.toString(n))}gt(e,n){return this.setLimit("min",e,!1,V.toString(n))}lte(e,n){return this.setLimit("max",e,!0,V.toString(n))}lt(e,n){return this.setLimit("max",e,!1,V.toString(n))}setLimit(e,n,o,r){return new mn({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:o,message:V.toString(r)}]})}_addCheck(e){return new mn({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:V.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:V.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:V.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:V.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:V.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:V.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:V.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:V.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:V.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&J.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const o of this._def.checks){if(o.kind==="finite"||o.kind==="int"||o.kind==="multipleOf")return!0;o.kind==="min"?(n===null||o.value>n)&&(n=o.value):o.kind==="max"&&(e===null||o.value<e)&&(e=o.value)}return Number.isFinite(n)&&Number.isFinite(e)}}mn.create=t=>new mn({checks:[],typeName:O.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...z(t)});class hn extends q{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==F.bigint)return this._getInvalidInput(e);let o;const r=new we;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(o=this._getOrReturnCtx(e,o),R(o,{code:I.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(o=this._getOrReturnCtx(e,o),R(o,{code:I.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(o=this._getOrReturnCtx(e,o),R(o,{code:I.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):J.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return R(n,{code:I.invalid_type,expected:F.bigint,received:n.parsedType}),B}gte(e,n){return this.setLimit("min",e,!0,V.toString(n))}gt(e,n){return this.setLimit("min",e,!1,V.toString(n))}lte(e,n){return this.setLimit("max",e,!0,V.toString(n))}lt(e,n){return this.setLimit("max",e,!1,V.toString(n))}setLimit(e,n,o,r){return new hn({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:o,message:V.toString(r)}]})}_addCheck(e){return new hn({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:V.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:V.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:V.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:V.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:V.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}hn.create=t=>new hn({checks:[],typeName:O.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...z(t)});class mi extends q{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==F.boolean){const o=this._getOrReturnCtx(e);return R(o,{code:I.invalid_type,expected:F.boolean,received:o.parsedType}),B}return Ze(e.data)}}mi.create=t=>new mi({typeName:O.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...z(t)});class Xn extends q{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==F.date){const i=this._getOrReturnCtx(e);return R(i,{code:I.invalid_type,expected:F.date,received:i.parsedType}),B}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return R(i,{code:I.invalid_date}),B}const o=new we;let r;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(r=this._getOrReturnCtx(e,r),R(r,{code:I.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),o.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(r=this._getOrReturnCtx(e,r),R(r,{code:I.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),o.dirty()):J.assertNever(i);return{status:o.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Xn({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:V.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:V.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Xn.create=t=>new Xn({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:O.ZodDate,...z(t)});class fl extends q{_parse(e){if(this._getType(e)!==F.symbol){const o=this._getOrReturnCtx(e);return R(o,{code:I.invalid_type,expected:F.symbol,received:o.parsedType}),B}return Ze(e.data)}}fl.create=t=>new fl({typeName:O.ZodSymbol,...z(t)});class pl extends q{_parse(e){if(this._getType(e)!==F.undefined){const o=this._getOrReturnCtx(e);return R(o,{code:I.invalid_type,expected:F.undefined,received:o.parsedType}),B}return Ze(e.data)}}pl.create=t=>new pl({typeName:O.ZodUndefined,...z(t)});class ml extends q{_parse(e){if(this._getType(e)!==F.null){const o=this._getOrReturnCtx(e);return R(o,{code:I.invalid_type,expected:F.null,received:o.parsedType}),B}return Ze(e.data)}}ml.create=t=>new ml({typeName:O.ZodNull,...z(t)});class hl extends q{constructor(){super(...arguments),this._any=!0}_parse(e){return Ze(e.data)}}hl.create=t=>new hl({typeName:O.ZodAny,...z(t)});class gl extends q{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ze(e.data)}}gl.create=t=>new gl({typeName:O.ZodUnknown,...z(t)});class Wt extends q{_parse(e){const n=this._getOrReturnCtx(e);return R(n,{code:I.invalid_type,expected:F.never,received:n.parsedType}),B}}Wt.create=t=>new Wt({typeName:O.ZodNever,...z(t)});class yl extends q{_parse(e){if(this._getType(e)!==F.undefined){const o=this._getOrReturnCtx(e);return R(o,{code:I.invalid_type,expected:F.void,received:o.parsedType}),B}return Ze(e.data)}}yl.create=t=>new yl({typeName:O.ZodVoid,...z(t)});class ft extends q{_parse(e){const{ctx:n,status:o}=this._processInputParams(e),r=this._def;if(n.parsedType!==F.array)return R(n,{code:I.invalid_type,expected:F.array,received:n.parsedType}),B;if(r.exactLength!==null){const s=n.data.length>r.exactLength.value,u=n.data.length<r.exactLength.value;(s||u)&&(R(n,{code:s?I.too_big:I.too_small,minimum:u?r.exactLength.value:void 0,maximum:s?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),o.dirty())}if(r.minLength!==null&&n.data.length<r.minLength.value&&(R(n,{code:I.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),o.dirty()),r.maxLength!==null&&n.data.length>r.maxLength.value&&(R(n,{code:I.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),o.dirty()),n.common.async)return Promise.all([...n.data].map((s,u)=>r.type._parseAsync(new pt(n,s,n.path,u)))).then(s=>we.mergeArray(o,s));const i=[...n.data].map((s,u)=>r.type._parseSync(new pt(n,s,n.path,u)));return we.mergeArray(o,i)}get element(){return this._def.type}min(e,n){return new ft({...this._def,minLength:{value:e,message:V.toString(n)}})}max(e,n){return new ft({...this._def,maxLength:{value:e,message:V.toString(n)}})}length(e,n){return new ft({...this._def,exactLength:{value:e,message:V.toString(n)}})}nonempty(e){return this.min(1,e)}}ft.create=(t,e)=>new ft({type:t,minLength:null,maxLength:null,exactLength:null,typeName:O.ZodArray,...z(e)});function En(t){if(t instanceof se){const e={};for(const n in t.shape){const o=t.shape[n];e[n]=zt.create(En(o))}return new se({...t._def,shape:()=>e})}else return t instanceof ft?new ft({...t._def,type:En(t.element)}):t instanceof zt?zt.create(En(t.unwrap())):t instanceof eo?eo.create(En(t.unwrap())):t instanceof gn?gn.create(t.items.map(e=>En(e))):t}class se extends q{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=J.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==F.object){const c=this._getOrReturnCtx(e);return R(c,{code:I.invalid_type,expected:F.object,received:c.parsedType}),B}const{status:o,ctx:r}=this._processInputParams(e),{shape:i,keys:s}=this._getCached(),u=[];if(!(this._def.catchall instanceof Wt&&this._def.unknownKeys==="strip"))for(const c in r.data)s.includes(c)||u.push(c);const d=[];for(const c of s){const f=i[c],p=r.data[c];d.push({key:{status:"valid",value:c},value:f._parse(new pt(r,p,r.path,c)),alwaysSet:c in r.data})}if(this._def.catchall instanceof Wt){const c=this._def.unknownKeys;if(c==="passthrough")for(const f of u)d.push({key:{status:"valid",value:f},value:{status:"valid",value:r.data[f]}});else if(c==="strict")u.length>0&&(R(r,{code:I.unrecognized_keys,keys:u}),o.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const f of u){const p=r.data[f];d.push({key:{status:"valid",value:f},value:c._parse(new pt(r,p,r.path,f)),alwaysSet:f in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const c=[];for(const f of d){const p=await f.key,m=await f.value;c.push({key:p,value:m,alwaysSet:f.alwaysSet})}return c}).then(c=>we.mergeObjectSync(o,c)):we.mergeObjectSync(o,d)}get shape(){return this._def.shape()}strict(e){return V.errToObj,new se({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,o)=>{var i,s;const r=((s=(i=this._def).errorMap)==null?void 0:s.call(i,n,o).message)??o.defaultError;return n.code==="unrecognized_keys"?{message:V.errToObj(e).message??r}:{message:r}}}:{}})}strip(){return new se({...this._def,unknownKeys:"strip"})}passthrough(){return new se({...this._def,unknownKeys:"passthrough"})}extend(e){return new se({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new se({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:O.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new se({...this._def,catchall:e})}pick(e){const n={};for(const o of J.objectKeys(e))e[o]&&this.shape[o]&&(n[o]=this.shape[o]);return new se({...this._def,shape:()=>n})}omit(e){const n={};for(const o of J.objectKeys(this.shape))e[o]||(n[o]=this.shape[o]);return new se({...this._def,shape:()=>n})}deepPartial(){return En(this)}partial(e){const n={};for(const o of J.objectKeys(this.shape)){const r=this.shape[o];e&&!e[o]?n[o]=r:n[o]=r.optional()}return new se({...this._def,shape:()=>n})}required(e){const n={};for(const o of J.objectKeys(this.shape))if(e&&!e[o])n[o]=this.shape[o];else{let i=this.shape[o];for(;i instanceof zt;)i=i._def.innerType;n[o]=i}return new se({...this._def,shape:()=>n})}keyof(){return Vp(J.objectKeys(this.shape))}}se.create=(t,e)=>new se({shape:()=>t,unknownKeys:"strip",catchall:Wt.create(),typeName:O.ZodObject,...z(e)});se.strictCreate=(t,e)=>new se({shape:()=>t,unknownKeys:"strict",catchall:Wt.create(),typeName:O.ZodObject,...z(e)});se.lazycreate=(t,e)=>new se({shape:t,unknownKeys:"strip",catchall:Wt.create(),typeName:O.ZodObject,...z(e)});class hi extends q{_parse(e){const{ctx:n}=this._processInputParams(e),o=this._def.options;function r(i){for(const u of i)if(u.result.status==="valid")return u.result;for(const u of i)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const s=i.map(u=>new Et(u.ctx.common.issues));return R(n,{code:I.invalid_union,unionErrors:s}),B}if(n.common.async)return Promise.all(o.map(async i=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(r);{let i;const s=[];for(const d of o){const c={...n,common:{...n.common,issues:[]},parent:null},f=d._parseSync({data:n.data,path:n.path,parent:c});if(f.status==="valid")return f;f.status==="dirty"&&!i&&(i={result:f,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const u=s.map(d=>new Et(d));return R(n,{code:I.invalid_union,unionErrors:u}),B}}get options(){return this._def.options}}hi.create=(t,e)=>new hi({options:t,typeName:O.ZodUnion,...z(e)});function vl(t,e){const n=At(t),o=At(e);if(t===e)return{valid:!0,data:t};if(n===F.object&&o===F.object){const r=J.objectKeys(e),i=J.objectKeys(t).filter(u=>r.indexOf(u)!==-1),s={...t,...e};for(const u of i){const d=vl(t[u],e[u]);if(!d.valid)return{valid:!1};s[u]=d.data}return{valid:!0,data:s}}else if(n===F.array&&o===F.array){if(t.length!==e.length)return{valid:!1};const r=[];for(let i=0;i<t.length;i++){const s=t[i],u=e[i],d=vl(s,u);if(!d.valid)return{valid:!1};r.push(d.data)}return{valid:!0,data:r}}else return n===F.date&&o===F.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class gi extends q{_parse(e){const{status:n,ctx:o}=this._processInputParams(e),r=(i,s)=>{if(Ku(i)||Ku(s))return B;const u=vl(i.value,s.value);return u.valid?((Zu(i)||Zu(s))&&n.dirty(),{status:n.value,value:u.data}):(R(o,{code:I.invalid_intersection_types}),B)};return o.common.async?Promise.all([this._def.left._parseAsync({data:o.data,path:o.path,parent:o}),this._def.right._parseAsync({data:o.data,path:o.path,parent:o})]).then(([i,s])=>r(i,s)):r(this._def.left._parseSync({data:o.data,path:o.path,parent:o}),this._def.right._parseSync({data:o.data,path:o.path,parent:o}))}}gi.create=(t,e,n)=>new gi({left:t,right:e,typeName:O.ZodIntersection,...z(n)});class gn extends q{_parse(e){const{status:n,ctx:o}=this._processInputParams(e);if(o.parsedType!==F.array)return R(o,{code:I.invalid_type,expected:F.array,received:o.parsedType}),B;if(o.data.length<this._def.items.length)return R(o,{code:I.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),B;!this._def.rest&&o.data.length>this._def.items.length&&(R(o,{code:I.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...o.data].map((s,u)=>{const d=this._def.items[u]||this._def.rest;return d?d._parse(new pt(o,s,o.path,u)):null}).filter(s=>!!s);return o.common.async?Promise.all(i).then(s=>we.mergeArray(n,s)):we.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new gn({...this._def,rest:e})}}gn.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new gn({items:t,typeName:O.ZodTuple,rest:null,...z(e)})};class yi extends q{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:o}=this._processInputParams(e);if(o.parsedType!==F.object)return R(o,{code:I.invalid_type,expected:F.object,received:o.parsedType}),B;const r=[],i=this._def.keyType,s=this._def.valueType;for(const u in o.data)r.push({key:i._parse(new pt(o,u,o.path,u)),value:s._parse(new pt(o,o.data[u],o.path,u)),alwaysSet:u in o.data});return o.common.async?we.mergeObjectAsync(n,r):we.mergeObjectSync(n,r)}get element(){return this._def.valueType}static create(e,n,o){return n instanceof q?new yi({keyType:e,valueType:n,typeName:O.ZodRecord,...z(o)}):new yi({keyType:ut.create(),valueType:e,typeName:O.ZodRecord,...z(n)})}}class Cl extends q{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:o}=this._processInputParams(e);if(o.parsedType!==F.map)return R(o,{code:I.invalid_type,expected:F.map,received:o.parsedType}),B;const r=this._def.keyType,i=this._def.valueType,s=[...o.data.entries()].map(([u,d],c)=>({key:r._parse(new pt(o,u,o.path,[c,"key"])),value:i._parse(new pt(o,d,o.path,[c,"value"]))}));if(o.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const d of s){const c=await d.key,f=await d.value;if(c.status==="aborted"||f.status==="aborted")return B;(c.status==="dirty"||f.status==="dirty")&&n.dirty(),u.set(c.value,f.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const d of s){const c=d.key,f=d.value;if(c.status==="aborted"||f.status==="aborted")return B;(c.status==="dirty"||f.status==="dirty")&&n.dirty(),u.set(c.value,f.value)}return{status:n.value,value:u}}}}Cl.create=(t,e,n)=>new Cl({valueType:e,keyType:t,typeName:O.ZodMap,...z(n)});class bn extends q{_parse(e){const{status:n,ctx:o}=this._processInputParams(e);if(o.parsedType!==F.set)return R(o,{code:I.invalid_type,expected:F.set,received:o.parsedType}),B;const r=this._def;r.minSize!==null&&o.data.size<r.minSize.value&&(R(o,{code:I.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),n.dirty()),r.maxSize!==null&&o.data.size>r.maxSize.value&&(R(o,{code:I.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),n.dirty());const i=this._def.valueType;function s(d){const c=new Set;for(const f of d){if(f.status==="aborted")return B;f.status==="dirty"&&n.dirty(),c.add(f.value)}return{status:n.value,value:c}}const u=[...o.data.values()].map((d,c)=>i._parse(new pt(o,d,o.path,c)));return o.common.async?Promise.all(u).then(d=>s(d)):s(u)}min(e,n){return new bn({...this._def,minSize:{value:e,message:V.toString(n)}})}max(e,n){return new bn({...this._def,maxSize:{value:e,message:V.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}bn.create=(t,e)=>new bn({valueType:t,minSize:null,maxSize:null,typeName:O.ZodSet,...z(e)});class _l extends q{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}_l.create=(t,e)=>new _l({getter:t,typeName:O.ZodLazy,...z(e)});class Tl extends q{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return R(n,{received:n.data,code:I.invalid_literal,expected:this._def.value}),B}return{status:"valid",value:e.data}}get value(){return this._def.value}}Tl.create=(t,e)=>new Tl({value:t,typeName:O.ZodLiteral,...z(e)});function Vp(t,e){return new jn({values:t,typeName:O.ZodEnum,...z(e)})}class jn extends q{constructor(){super(...arguments),xo.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),o=this._def.values;return R(n,{expected:J.joinValues(o),received:n.parsedType,code:I.invalid_type}),B}if(pi(this,xo,"f")||Dp(this,xo,new Set(this._def.values),"f"),!pi(this,xo,"f").has(e.data)){const n=this._getOrReturnCtx(e),o=this._def.values;return R(n,{received:n.data,code:I.invalid_enum_value,options:o}),B}return Ze(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return jn.create(e,{...this._def,...n})}exclude(e,n=this._def){return jn.create(this.options.filter(o=>!e.includes(o)),{...this._def,...n})}}xo=new WeakMap;jn.create=Vp;class xl extends q{constructor(){super(...arguments),Eo.set(this,void 0)}_parse(e){const n=J.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(e);if(o.parsedType!==F.string&&o.parsedType!==F.number){const r=J.objectValues(n);return R(o,{expected:J.joinValues(r),received:o.parsedType,code:I.invalid_type}),B}if(pi(this,Eo,"f")||Dp(this,Eo,new Set(J.getValidEnumValues(this._def.values)),"f"),!pi(this,Eo,"f").has(e.data)){const r=J.objectValues(n);return R(o,{received:o.data,code:I.invalid_enum_value,options:r}),B}return Ze(e.data)}get enum(){return this._def.values}}Eo=new WeakMap;xl.create=(t,e)=>new xl({values:t,typeName:O.ZodNativeEnum,...z(e)});class vi extends q{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==F.promise&&n.common.async===!1)return R(n,{code:I.invalid_type,expected:F.promise,received:n.parsedType}),B;const o=n.parsedType===F.promise?n.data:Promise.resolve(n.data);return Ze(o.then(r=>this._def.type.parseAsync(r,{path:n.path,errorMap:n.common.contextualErrorMap})))}}vi.create=(t,e)=>new vi({type:t,typeName:O.ZodPromise,...z(e)});class Jt extends q{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===O.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:o}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:s=>{R(o,s),s.fatal?n.abort():n.dirty()},get path(){return o.path}};if(i.addIssue=i.addIssue.bind(i),r.type==="preprocess"){const s=r.transform(o.data,i);if(o.common.async)return Promise.resolve(s).then(async u=>{if(n.value==="aborted")return B;const d=await this._def.schema._parseAsync({data:u,path:o.path,parent:o});return d.status==="aborted"?B:d.status==="dirty"||n.value==="dirty"?To(d.value):d});{if(n.value==="aborted")return B;const u=this._def.schema._parseSync({data:s,path:o.path,parent:o});return u.status==="aborted"?B:u.status==="dirty"||n.value==="dirty"?To(u.value):u}}if(r.type==="refinement"){const s=u=>{const d=r.refinement(u,i);if(o.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(o.common.async===!1){const u=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return u.status==="aborted"?B:(u.status==="dirty"&&n.dirty(),s(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(u=>u.status==="aborted"?B:(u.status==="dirty"&&n.dirty(),s(u.value).then(()=>({status:n.value,value:u.value}))))}if(r.type==="transform")if(o.common.async===!1){const s=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!Qn(s))return s;const u=r.transform(s.value,i);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(s=>Qn(s)?Promise.resolve(r.transform(s.value,i)).then(u=>({status:n.value,value:u})):s);J.assertNever(r)}}Jt.create=(t,e,n)=>new Jt({schema:t,typeName:O.ZodEffects,effect:e,...z(n)});Jt.createWithPreprocess=(t,e,n)=>new Jt({schema:e,effect:{type:"preprocess",transform:t},typeName:O.ZodEffects,...z(n)});class zt extends q{_parse(e){return this._getType(e)===F.undefined?Ze(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}zt.create=(t,e)=>new zt({innerType:t,typeName:O.ZodOptional,...z(e)});class eo extends q{_parse(e){return this._getType(e)===F.null?Ze(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eo.create=(t,e)=>new eo({innerType:t,typeName:O.ZodNullable,...z(e)});class El extends q{_parse(e){const{ctx:n}=this._processInputParams(e);let o=n.data;return n.parsedType===F.undefined&&(o=this._def.defaultValue()),this._def.innerType._parse({data:o,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}El.create=(t,e)=>new El({innerType:t,typeName:O.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...z(e)});class Sl extends q{_parse(e){const{ctx:n}=this._processInputParams(e),o={...n,common:{...n.common,issues:[]}},r=this._def.innerType._parse({data:o.data,path:o.path,parent:{...o}});return fi(r)?r.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Et(o.common.issues)},input:o.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new Et(o.common.issues)},input:o.data})}}removeCatch(){return this._def.innerType}}Sl.create=(t,e)=>new Sl({innerType:t,typeName:O.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...z(e)});class wl extends q{_parse(e){if(this._getType(e)!==F.nan){const o=this._getOrReturnCtx(e);return R(o,{code:I.invalid_type,expected:F.nan,received:o.parsedType}),B}return{status:"valid",value:e.data}}}wl.create=t=>new wl({typeName:O.ZodNaN,...z(t)});class wy extends q{_parse(e){const{ctx:n}=this._processInputParams(e),o=n.data;return this._def.type._parse({data:o,path:n.path,parent:n})}unwrap(){return this._def.type}}class Ma extends q{_parse(e){const{status:n,ctx:o}=this._processInputParams(e);if(o.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:o.data,path:o.path,parent:o});return i.status==="aborted"?B:i.status==="dirty"?(n.dirty(),To(i.value)):this._def.out._parseAsync({data:i.value,path:o.path,parent:o})})();{const r=this._def.in._parseSync({data:o.data,path:o.path,parent:o});return r.status==="aborted"?B:r.status==="dirty"?(n.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:o.path,parent:o})}}static create(e,n){return new Ma({in:e,out:n,typeName:O.ZodPipeline})}}class kl extends q{_parse(e){const n=this._def.innerType._parse(e),o=r=>(Qn(r)&&(r.value=Object.freeze(r.value)),r);return fi(n)?n.then(r=>o(r)):o(n)}unwrap(){return this._def.innerType}}kl.create=(t,e)=>new kl({innerType:t,typeName:O.ZodReadonly,...z(e)});se.lazycreate;var O;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(O||(O={}));const en=ut.create,Xu=mn.create;wl.create;hn.create;const ky=mi.create;Xn.create;fl.create;pl.create;ml.create;hl.create;const bu=gl.create;Wt.create;yl.create;const So=ft.create,Iy=se.create;se.strictCreate;const Ny=hi.create;gi.create;gn.create;const Ay=yi.create;Cl.create;bn.create;const Py=_l.create;Tl.create;const My=jn.create;xl.create;vi.create;Jt.create;zt.create;eo.create;Jt.createWithPreprocess;const xn={string:t=>ut.create({...t,coerce:!0}),number:t=>mn.create({...t,coerce:!0}),boolean:t=>mi.create({...t,coerce:!0}),bigint:t=>hn.create({...t,coerce:!0}),date:t=>Xn.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ry,Dy;function Ly(){return{geminiUrl:Ry,vertexUrl:Dy}}function Fy(t,e,n){var o,r,i;if(!(!((o=t.httpOptions)===null||o===void 0)&&o.baseUrl)){const s=Ly();return t.vertexai?(r=s.vertexUrl)!==null&&r!==void 0?r:e:(i=s.geminiUrl)!==null&&i!==void 0?i:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rr{}function U(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const i=e[r];return i!=null?String(i):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function a(t,e,n){for(let i=0;i<e.length-1;i++){const s=e[i];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[u])){const d=t[u];if(Array.isArray(n))for(let c=0;c<d.length;c++){const f=d[c];a(f,e.slice(i+1),n[c])}else for(const c of d)a(c,e.slice(i+1),n)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in t||(t[u]=[{}]);const d=t[u];a(d[0],e.slice(i+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const o=e[e.length-1],r=t[o];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else t[o]=n}function l(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const o=e[n];if(o.endsWith("[]")){const r=o.slice(0,-2);if(r in t){const i=t[r];return Array.isArray(i)?i.map(s=>l(s,e.slice(n+1))):void 0}else return}else t=t[o]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ju;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(ju||(ju={}));var ec;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(ec||(ec={}));var tc;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(tc||(tc={}));var nc;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(nc||(nc={}));var oc;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(oc||(oc={}));var lt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT"})(lt||(lt={}));var rc;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(rc||(rc={}));var ic;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(ic||(ic={}));var sc;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY"})(sc||(sc={}));var lc;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(lc||(lc={}));var ac;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ac||(ac={}));var uc;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(uc||(uc={}));var cc;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(cc||(cc={}));var Ci;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Ci||(Ci={}));var dc;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(dc||(dc={}));var Il;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Il||(Il={}));var fc;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(fc||(fc={}));var pc;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(pc||(pc={}));var mc;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(mc||(mc={}));var hc;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(hc||(hc={}));var gc;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(gc||(gc={}));var yc;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(yc||(yc={}));var vc;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(vc||(vc={}));var Cc;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Cc||(Cc={}));var _c;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(_c||(_c={}));var Tc;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Tc||(Tc={}));var xc;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(xc||(xc={}));var Ec;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Ec||(Ec={}));var Sc;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Sc||(Sc={}));var wc;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(wc||(wc={}));var kc;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(kc||(kc={}));var Ic;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Ic||(Ic={}));var Nc;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Nc||(Nc={}));var Ac;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Ac||(Ac={}));var Pc;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Pc||(Pc={}));var Mc;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Mc||(Mc={}));var Rc;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Rc||(Rc={}));var Dc;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Dc||(Dc={}));var Lc;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY"})(Lc||(Lc={}));var Vn;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Vn||(Vn={}));class go{get text(){var e,n,o,r,i,s,u,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",f=!1;const p=[];for(const m of(d=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[h,v]of Object.entries(m))h!=="text"&&h!=="thought"&&(v!==null||v!==void 0)&&p.push(h);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;f=!0,c+=m.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?c:void 0}get data(){var e,n,o,r,i,s,u,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const f=[];for(const p of(d=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[m,h]of Object.entries(p))m!=="inlineData"&&(h!==null||h!==void 0)&&f.push(m);p.inlineData&&typeof p.inlineData.data=="string"&&(c+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,o,r,i,s,u,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(d=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,o,r,i,s,u,d,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(d=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,o,r,i,s,u,d,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(d=(u=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.output}}class Fc{}class Vc{}class Vy{}class Uy{}class Uc{}class Oc{}class $c{}class Oy{}class Bc{}class Gc{}class zc{}class $y{}class Nl{constructor(e){const n={};for(const o of e.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class By{}class Gy{}class zy{get text(){var e,n,o;let r="",i=!1;const s=[];for(const u of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[d,c]of Object.entries(u))d!=="text"&&d!=="thought"&&c!==null&&s.push(d);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;i=!0,r+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?r:void 0}get data(){var e,n,o;let r="";const i=[];for(const s of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[u,d]of Object.entries(s))u!=="inlineData"&&d!==null&&i.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(r+=atob(s.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class Hy{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function j(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Up(t,e){const n=j(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Op(t,e){return Array.isArray(e)?e.map(n=>_i(t,n)):[_i(t,e)]}function _i(t,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function qy(t,e){const n=_i(t,e);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Wy(t,e){const n=_i(t,e);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Hc(t,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function $p(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(n=>Hc(t,n)):[Hc(t,e)]}function Al(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function qc(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Wc(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Re(t,e){if(e==null)throw new Error("ContentUnion is required");return Al(e)?e:{role:"user",parts:$p(t,e)}}function Bp(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const o=Re(t,n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const n=Re(t,e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Re(t,n)):[Re(t,e)]}function ot(t,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(qc(e)||Wc(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Re(t,e)]}const n=[],o=[],r=Al(e[0]);for(const i of e){const s=Al(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)n.push(i);else{if(qc(i)||Wc(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(i)}}return r||n.push({role:"user",parts:$p(t,o)}),n}const Jc=My(["string","number","integer","object","array","boolean","null"]),Jy=Ny([Jc,So(Jc)]);function Yy(t=!0){const e=Py(()=>{const n=Iy({type:Jy.optional(),format:en().optional(),title:en().optional(),description:en().optional(),default:bu().optional(),items:e.optional(),minItems:xn.string().optional(),maxItems:xn.string().optional(),enum:So(bu()).optional(),properties:Ay(en(),e).optional(),required:So(en()).optional(),minProperties:xn.string().optional(),maxProperties:xn.string().optional(),propertyOrdering:So(en()).optional(),minimum:Xu().optional(),maximum:Xu().optional(),minLength:xn.string().optional(),maxLength:xn.string().optional(),pattern:en().optional(),anyOf:So(e).optional(),additionalProperties:ky().optional()});return t?n.strict():n});return e}function Ky(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(o=>o!=="null");if(n.length===1)e.type=Object.keys(lt).includes(n[0].toUpperCase())?lt[n[0].toUpperCase()]:lt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of n)e.anyOf.push({type:Object.keys(lt).includes(o.toUpperCase())?lt[o.toUpperCase()]:lt.TYPE_UNSPECIFIED})}}function Lo(t){const e={},n=["items"],o=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&Ky(t.type,e);for(const[s,u]of Object.entries(t))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.keys(lt).includes(u.toUpperCase())?u.toUpperCase():lt.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=Lo(u);else if(o.includes(s)){const d=[];for(const c of u){if(c.type=="null"){e.nullable=!0;continue}d.push(Lo(c))}e[s]=d}else if(r.includes(s)){const d={};for(const[c,f]of Object.entries(u))d[c]=Lo(f);e[s]=d}else{if(s==="additionalProperties")continue;e[s]=u}return e}function Ti(t,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const n=Yy().parse(e);return Lo(n)}else return Lo(e)}function Gp(t,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function zp(t,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Oi(t,e){if(e.functionDeclarations)for(const n of e.functionDeclarations)n.parameters&&(n.parameters=Ti(t,n.parameters)),n.response&&(n.response=Ti(t,n.response));return e}function $i(t,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const n=[];for(const o of e)n.push(o);return n}function Zy(t,e,n,o=1){const r=!e.startsWith(`${n}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function Qt(t,e){if(typeof e!="string")throw new Error("name must be a string");return Zy(t,e,"cachedContents")}function Hp(t,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Xt(t,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function Qy(t){return t!=null&&typeof t=="object"&&"name"in t}function Xy(t){return t!=null&&typeof t=="object"&&"video"in t}function by(t){return t!=null&&typeof t=="object"&&"uri"in t}function qp(t,e){var n;let o;if(Qy(e)&&(o=e.name),!(by(e)&&(o=e.uri,o===void 0))&&!(Xy(e)&&(o=(n=e.video)===null||n===void 0?void 0:n.uri,o===void 0))){if(typeof e=="string"&&(o=e),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const i=o.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${o}`);o=i[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Wp(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Jp(t,e){for(const n of["models","tunedModels","publisherModels"])if(jy(e,n))return e[n];return[]}function jy(t,e){return t!==null&&typeof t=="object"&&e in t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ev(t,e){const n={},o=l(e,["fps"]);o!=null&&a(n,["fps"],o);const r=l(e,["endOffset"]);r!=null&&a(n,["endOffset"],r);const i=l(e,["startOffset"]);return i!=null&&a(n,["startOffset"],i),n}function tv(t,e){const n={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(e,["data"]);o!=null&&a(n,["data"],o);const r=l(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function nv(t,e){const n={},o=l(e,["videoMetadata"]);o!=null&&a(n,["videoMetadata"],ev(t,o));const r=l(e,["thought"]);r!=null&&a(n,["thought"],r);const i=l(e,["inlineData"]);i!=null&&a(n,["inlineData"],tv(t,i));const s=l(e,["codeExecutionResult"]);s!=null&&a(n,["codeExecutionResult"],s);const u=l(e,["executableCode"]);u!=null&&a(n,["executableCode"],u);const d=l(e,["fileData"]);d!=null&&a(n,["fileData"],d);const c=l(e,["functionCall"]);c!=null&&a(n,["functionCall"],c);const f=l(e,["functionResponse"]);f!=null&&a(n,["functionResponse"],f);const p=l(e,["text"]);return p!=null&&a(n,["text"],p),n}function Yc(t,e){const n={},o=l(e,["parts"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>nv(t,s))),a(n,["parts"],i)}const r=l(e,["role"]);return r!=null&&a(n,["role"],r),n}function ov(t,e){const n={},o=l(e,["behavior"]);o!=null&&a(n,["behavior"],o);const r=l(e,["description"]);r!=null&&a(n,["description"],r);const i=l(e,["name"]);i!=null&&a(n,["name"],i);const s=l(e,["parameters"]);s!=null&&a(n,["parameters"],s);const u=l(e,["response"]);return u!=null&&a(n,["response"],u),n}function rv(t,e){const n={},o=l(e,["startTime"]);o!=null&&a(n,["startTime"],o);const r=l(e,["endTime"]);return r!=null&&a(n,["endTime"],r),n}function iv(t,e){const n={},o=l(e,["timeRangeFilter"]);return o!=null&&a(n,["timeRangeFilter"],rv(t,o)),n}function sv(t,e){const n={},o=l(e,["mode"]);o!=null&&a(n,["mode"],o);const r=l(e,["dynamicThreshold"]);return r!=null&&a(n,["dynamicThreshold"],r),n}function lv(t,e){const n={},o=l(e,["dynamicRetrievalConfig"]);return o!=null&&a(n,["dynamicRetrievalConfig"],sv(t,o)),n}function av(){return{}}function uv(t,e){const n={},o=l(e,["functionDeclarations"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(c=>ov(t,c))),a(n,["functionDeclarations"],d)}if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(e,["googleSearch"]);r!=null&&a(n,["googleSearch"],iv(t,r));const i=l(e,["googleSearchRetrieval"]);if(i!=null&&a(n,["googleSearchRetrieval"],lv(t,i)),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(e,["urlContext"])!=null&&a(n,["urlContext"],av());const u=l(e,["codeExecution"]);return u!=null&&a(n,["codeExecution"],u),n}function cv(t,e){const n={},o=l(e,["mode"]);o!=null&&a(n,["mode"],o);const r=l(e,["allowedFunctionNames"]);return r!=null&&a(n,["allowedFunctionNames"],r),n}function dv(t,e){const n={},o=l(e,["latitude"]);o!=null&&a(n,["latitude"],o);const r=l(e,["longitude"]);return r!=null&&a(n,["longitude"],r),n}function fv(t,e){const n={},o=l(e,["latLng"]);return o!=null&&a(n,["latLng"],dv(t,o)),n}function pv(t,e){const n={},o=l(e,["functionCallingConfig"]);o!=null&&a(n,["functionCallingConfig"],cv(t,o));const r=l(e,["retrievalConfig"]);return r!=null&&a(n,["retrievalConfig"],fv(t,r)),n}function mv(t,e,n){const o={},r=l(e,["ttl"]);n!==void 0&&r!=null&&a(n,["ttl"],r);const i=l(e,["expireTime"]);n!==void 0&&i!=null&&a(n,["expireTime"],i);const s=l(e,["displayName"]);n!==void 0&&s!=null&&a(n,["displayName"],s);const u=l(e,["contents"]);if(n!==void 0&&u!=null){let p=ot(t,u);Array.isArray(p)&&(p=p.map(m=>Yc(t,m))),a(n,["contents"],p)}const d=l(e,["systemInstruction"]);n!==void 0&&d!=null&&a(n,["systemInstruction"],Yc(t,Re(t,d)));const c=l(e,["tools"]);if(n!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(m=>uv(t,m))),a(n,["tools"],p)}const f=l(e,["toolConfig"]);if(n!==void 0&&f!=null&&a(n,["toolConfig"],pv(t,f)),l(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function hv(t,e){const n={},o=l(e,["model"]);o!=null&&a(n,["model"],Up(t,o));const r=l(e,["config"]);return r!=null&&a(n,["config"],mv(t,r,n)),n}function gv(t,e){const n={},o=l(e,["name"]);o!=null&&a(n,["_url","name"],Qt(t,o));const r=l(e,["config"]);return r!=null&&a(n,["config"],r),n}function yv(t,e){const n={},o=l(e,["name"]);o!=null&&a(n,["_url","name"],Qt(t,o));const r=l(e,["config"]);return r!=null&&a(n,["config"],r),n}function vv(t,e,n){const o={},r=l(e,["ttl"]);n!==void 0&&r!=null&&a(n,["ttl"],r);const i=l(e,["expireTime"]);return n!==void 0&&i!=null&&a(n,["expireTime"],i),o}function Cv(t,e){const n={},o=l(e,["name"]);o!=null&&a(n,["_url","name"],Qt(t,o));const r=l(e,["config"]);return r!=null&&a(n,["config"],vv(t,r,n)),n}function _v(t,e,n){const o={},r=l(e,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=l(e,["pageToken"]);return n!==void 0&&i!=null&&a(n,["_query","pageToken"],i),o}function Tv(t,e){const n={},o=l(e,["config"]);return o!=null&&a(n,["config"],_v(t,o,n)),n}function xv(t,e){const n={},o=l(e,["fps"]);o!=null&&a(n,["fps"],o);const r=l(e,["endOffset"]);r!=null&&a(n,["endOffset"],r);const i=l(e,["startOffset"]);return i!=null&&a(n,["startOffset"],i),n}function Ev(t,e){const n={},o=l(e,["displayName"]);o!=null&&a(n,["displayName"],o);const r=l(e,["data"]);r!=null&&a(n,["data"],r);const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function Sv(t,e){const n={},o=l(e,["videoMetadata"]);o!=null&&a(n,["videoMetadata"],xv(t,o));const r=l(e,["thought"]);r!=null&&a(n,["thought"],r);const i=l(e,["inlineData"]);i!=null&&a(n,["inlineData"],Ev(t,i));const s=l(e,["codeExecutionResult"]);s!=null&&a(n,["codeExecutionResult"],s);const u=l(e,["executableCode"]);u!=null&&a(n,["executableCode"],u);const d=l(e,["fileData"]);d!=null&&a(n,["fileData"],d);const c=l(e,["functionCall"]);c!=null&&a(n,["functionCall"],c);const f=l(e,["functionResponse"]);f!=null&&a(n,["functionResponse"],f);const p=l(e,["text"]);return p!=null&&a(n,["text"],p),n}function Kc(t,e){const n={},o=l(e,["parts"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>Sv(t,s))),a(n,["parts"],i)}const r=l(e,["role"]);return r!=null&&a(n,["role"],r),n}function wv(t,e){const n={};if(l(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=l(e,["description"]);o!=null&&a(n,["description"],o);const r=l(e,["name"]);r!=null&&a(n,["name"],r);const i=l(e,["parameters"]);i!=null&&a(n,["parameters"],i);const s=l(e,["response"]);return s!=null&&a(n,["response"],s),n}function kv(t,e){const n={},o=l(e,["startTime"]);o!=null&&a(n,["startTime"],o);const r=l(e,["endTime"]);return r!=null&&a(n,["endTime"],r),n}function Iv(t,e){const n={},o=l(e,["timeRangeFilter"]);return o!=null&&a(n,["timeRangeFilter"],kv(t,o)),n}function Nv(t,e){const n={},o=l(e,["mode"]);o!=null&&a(n,["mode"],o);const r=l(e,["dynamicThreshold"]);return r!=null&&a(n,["dynamicThreshold"],r),n}function Av(t,e){const n={},o=l(e,["dynamicRetrievalConfig"]);return o!=null&&a(n,["dynamicRetrievalConfig"],Nv(t,o)),n}function Pv(){return{}}function Mv(t,e){const n={},o=l(e,["apiKeyString"]);return o!=null&&a(n,["apiKeyString"],o),n}function Rv(t,e){const n={},o=l(e,["apiKeyConfig"]);o!=null&&a(n,["apiKeyConfig"],Mv(t,o));const r=l(e,["authType"]);r!=null&&a(n,["authType"],r);const i=l(e,["googleServiceAccountConfig"]);i!=null&&a(n,["googleServiceAccountConfig"],i);const s=l(e,["httpBasicAuthConfig"]);s!=null&&a(n,["httpBasicAuthConfig"],s);const u=l(e,["oauthConfig"]);u!=null&&a(n,["oauthConfig"],u);const d=l(e,["oidcConfig"]);return d!=null&&a(n,["oidcConfig"],d),n}function Dv(t,e){const n={},o=l(e,["authConfig"]);return o!=null&&a(n,["authConfig"],Rv(t,o)),n}function Lv(t,e){const n={},o=l(e,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>wv(t,p))),a(n,["functionDeclarations"],f)}const r=l(e,["retrieval"]);r!=null&&a(n,["retrieval"],r);const i=l(e,["googleSearch"]);i!=null&&a(n,["googleSearch"],Iv(t,i));const s=l(e,["googleSearchRetrieval"]);s!=null&&a(n,["googleSearchRetrieval"],Av(t,s)),l(e,["enterpriseWebSearch"])!=null&&a(n,["enterpriseWebSearch"],Pv());const d=l(e,["googleMaps"]);if(d!=null&&a(n,["googleMaps"],Dv(t,d)),l(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const c=l(e,["codeExecution"]);return c!=null&&a(n,["codeExecution"],c),n}function Fv(t,e){const n={},o=l(e,["mode"]);o!=null&&a(n,["mode"],o);const r=l(e,["allowedFunctionNames"]);return r!=null&&a(n,["allowedFunctionNames"],r),n}function Vv(t,e){const n={},o=l(e,["latitude"]);o!=null&&a(n,["latitude"],o);const r=l(e,["longitude"]);return r!=null&&a(n,["longitude"],r),n}function Uv(t,e){const n={},o=l(e,["latLng"]);return o!=null&&a(n,["latLng"],Vv(t,o)),n}function Ov(t,e){const n={},o=l(e,["functionCallingConfig"]);o!=null&&a(n,["functionCallingConfig"],Fv(t,o));const r=l(e,["retrievalConfig"]);return r!=null&&a(n,["retrievalConfig"],Uv(t,r)),n}function $v(t,e,n){const o={},r=l(e,["ttl"]);n!==void 0&&r!=null&&a(n,["ttl"],r);const i=l(e,["expireTime"]);n!==void 0&&i!=null&&a(n,["expireTime"],i);const s=l(e,["displayName"]);n!==void 0&&s!=null&&a(n,["displayName"],s);const u=l(e,["contents"]);if(n!==void 0&&u!=null){let m=ot(t,u);Array.isArray(m)&&(m=m.map(h=>Kc(t,h))),a(n,["contents"],m)}const d=l(e,["systemInstruction"]);n!==void 0&&d!=null&&a(n,["systemInstruction"],Kc(t,Re(t,d)));const c=l(e,["tools"]);if(n!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(h=>Lv(t,h))),a(n,["tools"],m)}const f=l(e,["toolConfig"]);n!==void 0&&f!=null&&a(n,["toolConfig"],Ov(t,f));const p=l(e,["kmsKeyName"]);return n!==void 0&&p!=null&&a(n,["encryption_spec","kmsKeyName"],p),o}function Bv(t,e){const n={},o=l(e,["model"]);o!=null&&a(n,["model"],Up(t,o));const r=l(e,["config"]);return r!=null&&a(n,["config"],$v(t,r,n)),n}function Gv(t,e){const n={},o=l(e,["name"]);o!=null&&a(n,["_url","name"],Qt(t,o));const r=l(e,["config"]);return r!=null&&a(n,["config"],r),n}function zv(t,e){const n={},o=l(e,["name"]);o!=null&&a(n,["_url","name"],Qt(t,o));const r=l(e,["config"]);return r!=null&&a(n,["config"],r),n}function Hv(t,e,n){const o={},r=l(e,["ttl"]);n!==void 0&&r!=null&&a(n,["ttl"],r);const i=l(e,["expireTime"]);return n!==void 0&&i!=null&&a(n,["expireTime"],i),o}function qv(t,e){const n={},o=l(e,["name"]);o!=null&&a(n,["_url","name"],Qt(t,o));const r=l(e,["config"]);return r!=null&&a(n,["config"],Hv(t,r,n)),n}function Wv(t,e,n){const o={},r=l(e,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=l(e,["pageToken"]);return n!==void 0&&i!=null&&a(n,["_query","pageToken"],i),o}function Jv(t,e){const n={},o=l(e,["config"]);return o!=null&&a(n,["config"],Wv(t,o,n)),n}function Or(t,e){const n={},o=l(e,["name"]);o!=null&&a(n,["name"],o);const r=l(e,["displayName"]);r!=null&&a(n,["displayName"],r);const i=l(e,["model"]);i!=null&&a(n,["model"],i);const s=l(e,["createTime"]);s!=null&&a(n,["createTime"],s);const u=l(e,["updateTime"]);u!=null&&a(n,["updateTime"],u);const d=l(e,["expireTime"]);d!=null&&a(n,["expireTime"],d);const c=l(e,["usageMetadata"]);return c!=null&&a(n,["usageMetadata"],c),n}function Yv(){return{}}function Kv(t,e){const n={},o=l(e,["nextPageToken"]);o!=null&&a(n,["nextPageToken"],o);const r=l(e,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Or(t,s))),a(n,["cachedContents"],i)}return n}function $r(t,e){const n={},o=l(e,["name"]);o!=null&&a(n,["name"],o);const r=l(e,["displayName"]);r!=null&&a(n,["displayName"],r);const i=l(e,["model"]);i!=null&&a(n,["model"],i);const s=l(e,["createTime"]);s!=null&&a(n,["createTime"],s);const u=l(e,["updateTime"]);u!=null&&a(n,["updateTime"],u);const d=l(e,["expireTime"]);d!=null&&a(n,["expireTime"],d);const c=l(e,["usageMetadata"]);return c!=null&&a(n,["usageMetadata"],c),n}function Zv(){return{}}function Qv(t,e){const n={},o=l(e,["nextPageToken"]);o!=null&&a(n,["nextPageToken"],o);const r=l(e,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>$r(t,s))),a(n,["cachedContents"],i)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var to;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(to||(to={}));class Bi{constructor(e,n,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,o,r)}init(e,n,o){var r,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let s={config:{}};o?typeof o=="object"?s=Object.assign({},o):s=o:s={config:{}},s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(i=(r=s.config)===null||r===void 0?void 0:r.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xv extends rr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Bi(to.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(e){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=Bv(this.apiClient,e);return u=U("cachedContents",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>$r(this.apiClient,f))}else{const c=hv(this.apiClient,e);return u=U("cachedContents",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Or(this.apiClient,f))}}async get(e){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=Gv(this.apiClient,e);return u=U("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>$r(this.apiClient,f))}else{const c=gv(this.apiClient,e);return u=U("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Or(this.apiClient,f))}}async delete(e){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=zv(this.apiClient,e);return u=U("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(()=>{const f=Zv(),p=new Gc;return Object.assign(p,f),p})}else{const c=yv(this.apiClient,e);return u=U("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(()=>{const f=Yv(),p=new Gc;return Object.assign(p,f),p})}}async update(e){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=qv(this.apiClient,e);return u=U("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>$r(this.apiClient,f))}else{const c=Cv(this.apiClient,e);return u=U("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Or(this.apiClient,f))}}async listInternal(e){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=Jv(this.apiClient,e);return u=U("cachedContents",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>{const p=Qv(this.apiClient,f),m=new zc;return Object.assign(m,p),m})}else{const c=Tv(this.apiClient,e);return u=U("cachedContents",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{const p=Kv(this.apiClient,f),m=new zc;return Object.assign(m,p),m})}}}function Zc(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ne(t){return this instanceof ne?(this.v=t,this):new ne(t)}function Fo(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(h){return function(v){return Promise.resolve(v).then(h,p)}}function u(h,v){o[h]&&(r[h]=function(_){return new Promise(function(k,y){i.push([h,_,k,y])>1||d(h,_)})},v&&(r[h]=v(r[h])))}function d(h,v){try{c(o[h](v))}catch(_){m(i[0][3],_)}}function c(h){h.value instanceof ne?Promise.resolve(h.value.v).then(f,p):m(i[0][2],h)}function f(h){d("next",h)}function p(h){d("throw",h)}function m(h,v){h(v),i.shift(),i.length&&d(i[0][0],i[0][1])}}function Br(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Zc=="function"?Zc(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(i){n[i]=t[i]&&function(s){return new Promise(function(u,d){s=t[i](s),r(u,d,s.done,s.value)})}}function r(i,s,u,d){Promise.resolve(d).then(function(c){i({value:c,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bv(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Yp(n)}function Yp(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function jv(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Qc(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let o=0;for(;o<n;)if(t[o].role==="user")e.push(t[o]),o++;else{const r=[];let i=!0;for(;o<n&&t[o].role==="model";)r.push(t[o]),i&&!Yp(t[o])&&(i=!1),o++;i?e.push(...r):e.pop()}return e}class e0{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new t0(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class t0{constructor(e,n,o,r={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=o,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),jv(i)}async sendMessage(e){var n;await this.sendPromise;const o=Re(this.apiClient,e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,s,u;const d=await r,c=(s=(i=d.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content,f=d.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let m=[];f!=null&&(m=(u=f.slice(p))!==null&&u!==void 0?u:[]);const h=c?[c]:[];this.recordHistory(o,h,m)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;const o=Re(this.apiClient,e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const i=await r;return this.processStreamResponse(i,o)}getHistory(e=!1){const n=e?Qc(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var o,r;return Fo(this,arguments,function*(){var s,u,d,c;const f=[];try{for(var p=!0,m=Br(e),h;h=yield ne(m.next()),s=h.done,!s;p=!0){c=h.value,p=!1;const v=c;if(bv(v)){const _=(r=(o=v.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content;_!==void 0&&f.push(_)}yield yield ne(v)}}catch(v){u={error:v}}finally{try{!p&&!s&&(d=m.return)&&(yield ne(d.call(m)))}finally{if(u)throw u.error}}this.recordHistory(n,f)})}recordHistory(e,n,o){let r=[];n.length>0&&n.every(i=>i.role!==void 0)?r=n:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Qc(o)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function n0(t,e,n){const o={},r=l(e,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=l(e,["pageToken"]);return n!==void 0&&i!=null&&a(n,["_query","pageToken"],i),o}function o0(t,e){const n={},o=l(e,["config"]);return o!=null&&a(n,["config"],n0(t,o,n)),n}function r0(t,e){const n={},o=l(e,["details"]);o!=null&&a(n,["details"],o);const r=l(e,["message"]);r!=null&&a(n,["message"],r);const i=l(e,["code"]);return i!=null&&a(n,["code"],i),n}function i0(t,e){const n={},o=l(e,["name"]);o!=null&&a(n,["name"],o);const r=l(e,["displayName"]);r!=null&&a(n,["displayName"],r);const i=l(e,["mimeType"]);i!=null&&a(n,["mimeType"],i);const s=l(e,["sizeBytes"]);s!=null&&a(n,["sizeBytes"],s);const u=l(e,["createTime"]);u!=null&&a(n,["createTime"],u);const d=l(e,["expirationTime"]);d!=null&&a(n,["expirationTime"],d);const c=l(e,["updateTime"]);c!=null&&a(n,["updateTime"],c);const f=l(e,["sha256Hash"]);f!=null&&a(n,["sha256Hash"],f);const p=l(e,["uri"]);p!=null&&a(n,["uri"],p);const m=l(e,["downloadUri"]);m!=null&&a(n,["downloadUri"],m);const h=l(e,["state"]);h!=null&&a(n,["state"],h);const v=l(e,["source"]);v!=null&&a(n,["source"],v);const _=l(e,["videoMetadata"]);_!=null&&a(n,["videoMetadata"],_);const k=l(e,["error"]);return k!=null&&a(n,["error"],r0(t,k)),n}function s0(t,e){const n={},o=l(e,["file"]);o!=null&&a(n,["file"],i0(t,o));const r=l(e,["config"]);return r!=null&&a(n,["config"],r),n}function l0(t,e){const n={},o=l(e,["name"]);o!=null&&a(n,["_url","file"],qp(t,o));const r=l(e,["config"]);return r!=null&&a(n,["config"],r),n}function a0(t,e){const n={},o=l(e,["name"]);o!=null&&a(n,["_url","file"],qp(t,o));const r=l(e,["config"]);return r!=null&&a(n,["config"],r),n}function u0(t,e){const n={},o=l(e,["details"]);o!=null&&a(n,["details"],o);const r=l(e,["message"]);r!=null&&a(n,["message"],r);const i=l(e,["code"]);return i!=null&&a(n,["code"],i),n}function Pl(t,e){const n={},o=l(e,["name"]);o!=null&&a(n,["name"],o);const r=l(e,["displayName"]);r!=null&&a(n,["displayName"],r);const i=l(e,["mimeType"]);i!=null&&a(n,["mimeType"],i);const s=l(e,["sizeBytes"]);s!=null&&a(n,["sizeBytes"],s);const u=l(e,["createTime"]);u!=null&&a(n,["createTime"],u);const d=l(e,["expirationTime"]);d!=null&&a(n,["expirationTime"],d);const c=l(e,["updateTime"]);c!=null&&a(n,["updateTime"],c);const f=l(e,["sha256Hash"]);f!=null&&a(n,["sha256Hash"],f);const p=l(e,["uri"]);p!=null&&a(n,["uri"],p);const m=l(e,["downloadUri"]);m!=null&&a(n,["downloadUri"],m);const h=l(e,["state"]);h!=null&&a(n,["state"],h);const v=l(e,["source"]);v!=null&&a(n,["source"],v);const _=l(e,["videoMetadata"]);_!=null&&a(n,["videoMetadata"],_);const k=l(e,["error"]);return k!=null&&a(n,["error"],u0(t,k)),n}function c0(t,e){const n={},o=l(e,["nextPageToken"]);o!=null&&a(n,["nextPageToken"],o);const r=l(e,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Pl(t,s))),a(n,["files"],i)}return n}function d0(){return{}}function f0(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class p0 extends rr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Bi(to.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Pl(this.apiClient,n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=o0(this.apiClient,e);return i=U("files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=c0(this.apiClient,d),f=new $y;return Object.assign(f,c),f})}}async createInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=s0(this.apiClient,e);return i=U("upload/v1beta/files",u._url),s=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(()=>{const d=d0(),c=new By;return Object.assign(c,d),c})}}async get(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=l0(this.apiClient,e);return i=U("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>Pl(this.apiClient,d))}}async delete(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=a0(this.apiClient,e);return i=U("files/{file}",u._url),s=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(()=>{const d=f0(),c=new Gy;return Object.assign(c,d),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function m0(t,e){const n={},o=l(e,["voiceName"]);return o!=null&&a(n,["voiceName"],o),n}function h0(t,e){const n={},o=l(e,["voiceName"]);return o!=null&&a(n,["voiceName"],o),n}function Kp(t,e){const n={},o=l(e,["prebuiltVoiceConfig"]);return o!=null&&a(n,["prebuiltVoiceConfig"],m0(t,o)),n}function g0(t,e){const n={},o=l(e,["prebuiltVoiceConfig"]);return o!=null&&a(n,["prebuiltVoiceConfig"],h0(t,o)),n}function y0(t,e){const n={},o=l(e,["speaker"]);o!=null&&a(n,["speaker"],o);const r=l(e,["voiceConfig"]);return r!=null&&a(n,["voiceConfig"],Kp(t,r)),n}function v0(t,e){const n={},o=l(e,["speakerVoiceConfigs"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>y0(t,i))),a(n,["speakerVoiceConfigs"],r)}return n}function C0(t,e){const n={},o=l(e,["voiceConfig"]);o!=null&&a(n,["voiceConfig"],Kp(t,o));const r=l(e,["multiSpeakerVoiceConfig"]);r!=null&&a(n,["multiSpeakerVoiceConfig"],v0(t,r));const i=l(e,["languageCode"]);return i!=null&&a(n,["languageCode"],i),n}function _0(t,e){const n={},o=l(e,["voiceConfig"]);if(o!=null&&a(n,["voiceConfig"],g0(t,o)),l(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=l(e,["languageCode"]);return r!=null&&a(n,["languageCode"],r),n}function T0(t,e){const n={},o=l(e,["fps"]);o!=null&&a(n,["fps"],o);const r=l(e,["endOffset"]);r!=null&&a(n,["endOffset"],r);const i=l(e,["startOffset"]);return i!=null&&a(n,["startOffset"],i),n}function x0(t,e){const n={},o=l(e,["fps"]);o!=null&&a(n,["fps"],o);const r=l(e,["endOffset"]);r!=null&&a(n,["endOffset"],r);const i=l(e,["startOffset"]);return i!=null&&a(n,["startOffset"],i),n}function E0(t,e){const n={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(e,["data"]);o!=null&&a(n,["data"],o);const r=l(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function S0(t,e){const n={},o=l(e,["displayName"]);o!=null&&a(n,["displayName"],o);const r=l(e,["data"]);r!=null&&a(n,["data"],r);const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function w0(t,e){const n={},o=l(e,["videoMetadata"]);o!=null&&a(n,["videoMetadata"],T0(t,o));const r=l(e,["thought"]);r!=null&&a(n,["thought"],r);const i=l(e,["inlineData"]);i!=null&&a(n,["inlineData"],E0(t,i));const s=l(e,["codeExecutionResult"]);s!=null&&a(n,["codeExecutionResult"],s);const u=l(e,["executableCode"]);u!=null&&a(n,["executableCode"],u);const d=l(e,["fileData"]);d!=null&&a(n,["fileData"],d);const c=l(e,["functionCall"]);c!=null&&a(n,["functionCall"],c);const f=l(e,["functionResponse"]);f!=null&&a(n,["functionResponse"],f);const p=l(e,["text"]);return p!=null&&a(n,["text"],p),n}function k0(t,e){const n={},o=l(e,["videoMetadata"]);o!=null&&a(n,["videoMetadata"],x0(t,o));const r=l(e,["thought"]);r!=null&&a(n,["thought"],r);const i=l(e,["inlineData"]);i!=null&&a(n,["inlineData"],S0(t,i));const s=l(e,["codeExecutionResult"]);s!=null&&a(n,["codeExecutionResult"],s);const u=l(e,["executableCode"]);u!=null&&a(n,["executableCode"],u);const d=l(e,["fileData"]);d!=null&&a(n,["fileData"],d);const c=l(e,["functionCall"]);c!=null&&a(n,["functionCall"],c);const f=l(e,["functionResponse"]);f!=null&&a(n,["functionResponse"],f);const p=l(e,["text"]);return p!=null&&a(n,["text"],p),n}function I0(t,e){const n={},o=l(e,["parts"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>w0(t,s))),a(n,["parts"],i)}const r=l(e,["role"]);return r!=null&&a(n,["role"],r),n}function N0(t,e){const n={},o=l(e,["parts"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>k0(t,s))),a(n,["parts"],i)}const r=l(e,["role"]);return r!=null&&a(n,["role"],r),n}function A0(t,e){const n={},o=l(e,["behavior"]);o!=null&&a(n,["behavior"],o);const r=l(e,["description"]);r!=null&&a(n,["description"],r);const i=l(e,["name"]);i!=null&&a(n,["name"],i);const s=l(e,["parameters"]);s!=null&&a(n,["parameters"],s);const u=l(e,["response"]);return u!=null&&a(n,["response"],u),n}function P0(t,e){const n={};if(l(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=l(e,["description"]);o!=null&&a(n,["description"],o);const r=l(e,["name"]);r!=null&&a(n,["name"],r);const i=l(e,["parameters"]);i!=null&&a(n,["parameters"],i);const s=l(e,["response"]);return s!=null&&a(n,["response"],s),n}function M0(t,e){const n={},o=l(e,["startTime"]);o!=null&&a(n,["startTime"],o);const r=l(e,["endTime"]);return r!=null&&a(n,["endTime"],r),n}function R0(t,e){const n={},o=l(e,["startTime"]);o!=null&&a(n,["startTime"],o);const r=l(e,["endTime"]);return r!=null&&a(n,["endTime"],r),n}function D0(t,e){const n={},o=l(e,["timeRangeFilter"]);return o!=null&&a(n,["timeRangeFilter"],M0(t,o)),n}function L0(t,e){const n={},o=l(e,["timeRangeFilter"]);return o!=null&&a(n,["timeRangeFilter"],R0(t,o)),n}function F0(t,e){const n={},o=l(e,["mode"]);o!=null&&a(n,["mode"],o);const r=l(e,["dynamicThreshold"]);return r!=null&&a(n,["dynamicThreshold"],r),n}function V0(t,e){const n={},o=l(e,["mode"]);o!=null&&a(n,["mode"],o);const r=l(e,["dynamicThreshold"]);return r!=null&&a(n,["dynamicThreshold"],r),n}function U0(t,e){const n={},o=l(e,["dynamicRetrievalConfig"]);return o!=null&&a(n,["dynamicRetrievalConfig"],F0(t,o)),n}function O0(t,e){const n={},o=l(e,["dynamicRetrievalConfig"]);return o!=null&&a(n,["dynamicRetrievalConfig"],V0(t,o)),n}function $0(){return{}}function B0(t,e){const n={},o=l(e,["apiKeyString"]);return o!=null&&a(n,["apiKeyString"],o),n}function G0(t,e){const n={},o=l(e,["apiKeyConfig"]);o!=null&&a(n,["apiKeyConfig"],B0(t,o));const r=l(e,["authType"]);r!=null&&a(n,["authType"],r);const i=l(e,["googleServiceAccountConfig"]);i!=null&&a(n,["googleServiceAccountConfig"],i);const s=l(e,["httpBasicAuthConfig"]);s!=null&&a(n,["httpBasicAuthConfig"],s);const u=l(e,["oauthConfig"]);u!=null&&a(n,["oauthConfig"],u);const d=l(e,["oidcConfig"]);return d!=null&&a(n,["oidcConfig"],d),n}function z0(t,e){const n={},o=l(e,["authConfig"]);return o!=null&&a(n,["authConfig"],G0(t,o)),n}function H0(){return{}}function q0(t,e){const n={},o=l(e,["functionDeclarations"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(c=>A0(t,c))),a(n,["functionDeclarations"],d)}if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(e,["googleSearch"]);r!=null&&a(n,["googleSearch"],D0(t,r));const i=l(e,["googleSearchRetrieval"]);if(i!=null&&a(n,["googleSearchRetrieval"],U0(t,i)),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(e,["urlContext"])!=null&&a(n,["urlContext"],H0());const u=l(e,["codeExecution"]);return u!=null&&a(n,["codeExecution"],u),n}function W0(t,e){const n={},o=l(e,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>P0(t,p))),a(n,["functionDeclarations"],f)}const r=l(e,["retrieval"]);r!=null&&a(n,["retrieval"],r);const i=l(e,["googleSearch"]);i!=null&&a(n,["googleSearch"],L0(t,i));const s=l(e,["googleSearchRetrieval"]);s!=null&&a(n,["googleSearchRetrieval"],O0(t,s)),l(e,["enterpriseWebSearch"])!=null&&a(n,["enterpriseWebSearch"],$0());const d=l(e,["googleMaps"]);if(d!=null&&a(n,["googleMaps"],z0(t,d)),l(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const c=l(e,["codeExecution"]);return c!=null&&a(n,["codeExecution"],c),n}function J0(t,e){const n={},o=l(e,["handle"]);if(o!=null&&a(n,["handle"],o),l(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function Y0(t,e){const n={},o=l(e,["handle"]);o!=null&&a(n,["handle"],o);const r=l(e,["transparent"]);return r!=null&&a(n,["transparent"],r),n}function Xc(){return{}}function bc(){return{}}function K0(t,e){const n={},o=l(e,["disabled"]);o!=null&&a(n,["disabled"],o);const r=l(e,["startOfSpeechSensitivity"]);r!=null&&a(n,["startOfSpeechSensitivity"],r);const i=l(e,["endOfSpeechSensitivity"]);i!=null&&a(n,["endOfSpeechSensitivity"],i);const s=l(e,["prefixPaddingMs"]);s!=null&&a(n,["prefixPaddingMs"],s);const u=l(e,["silenceDurationMs"]);return u!=null&&a(n,["silenceDurationMs"],u),n}function Z0(t,e){const n={},o=l(e,["disabled"]);o!=null&&a(n,["disabled"],o);const r=l(e,["startOfSpeechSensitivity"]);r!=null&&a(n,["startOfSpeechSensitivity"],r);const i=l(e,["endOfSpeechSensitivity"]);i!=null&&a(n,["endOfSpeechSensitivity"],i);const s=l(e,["prefixPaddingMs"]);s!=null&&a(n,["prefixPaddingMs"],s);const u=l(e,["silenceDurationMs"]);return u!=null&&a(n,["silenceDurationMs"],u),n}function Q0(t,e){const n={},o=l(e,["automaticActivityDetection"]);o!=null&&a(n,["automaticActivityDetection"],K0(t,o));const r=l(e,["activityHandling"]);r!=null&&a(n,["activityHandling"],r);const i=l(e,["turnCoverage"]);return i!=null&&a(n,["turnCoverage"],i),n}function X0(t,e){const n={},o=l(e,["automaticActivityDetection"]);o!=null&&a(n,["automaticActivityDetection"],Z0(t,o));const r=l(e,["activityHandling"]);r!=null&&a(n,["activityHandling"],r);const i=l(e,["turnCoverage"]);return i!=null&&a(n,["turnCoverage"],i),n}function b0(t,e){const n={},o=l(e,["targetTokens"]);return o!=null&&a(n,["targetTokens"],o),n}function j0(t,e){const n={},o=l(e,["targetTokens"]);return o!=null&&a(n,["targetTokens"],o),n}function eC(t,e){const n={},o=l(e,["triggerTokens"]);o!=null&&a(n,["triggerTokens"],o);const r=l(e,["slidingWindow"]);return r!=null&&a(n,["slidingWindow"],b0(t,r)),n}function tC(t,e){const n={},o=l(e,["triggerTokens"]);o!=null&&a(n,["triggerTokens"],o);const r=l(e,["slidingWindow"]);return r!=null&&a(n,["slidingWindow"],j0(t,r)),n}function nC(t,e){const n={},o=l(e,["proactiveAudio"]);return o!=null&&a(n,["proactiveAudio"],o),n}function oC(t,e){const n={},o=l(e,["proactiveAudio"]);return o!=null&&a(n,["proactiveAudio"],o),n}function rC(t,e,n){const o={},r=l(e,["generationConfig"]);n!==void 0&&r!=null&&a(n,["setup","generationConfig"],r);const i=l(e,["responseModalities"]);n!==void 0&&i!=null&&a(n,["setup","generationConfig","responseModalities"],i);const s=l(e,["temperature"]);n!==void 0&&s!=null&&a(n,["setup","generationConfig","temperature"],s);const u=l(e,["topP"]);n!==void 0&&u!=null&&a(n,["setup","generationConfig","topP"],u);const d=l(e,["topK"]);n!==void 0&&d!=null&&a(n,["setup","generationConfig","topK"],d);const c=l(e,["maxOutputTokens"]);n!==void 0&&c!=null&&a(n,["setup","generationConfig","maxOutputTokens"],c);const f=l(e,["mediaResolution"]);n!==void 0&&f!=null&&a(n,["setup","generationConfig","mediaResolution"],f);const p=l(e,["seed"]);n!==void 0&&p!=null&&a(n,["setup","generationConfig","seed"],p);const m=l(e,["speechConfig"]);n!==void 0&&m!=null&&a(n,["setup","generationConfig","speechConfig"],C0(t,zp(t,m)));const h=l(e,["enableAffectiveDialog"]);n!==void 0&&h!=null&&a(n,["setup","generationConfig","enableAffectiveDialog"],h);const v=l(e,["systemInstruction"]);n!==void 0&&v!=null&&a(n,["setup","systemInstruction"],I0(t,Re(t,v)));const _=l(e,["tools"]);if(n!==void 0&&_!=null){let N=$i(t,_);Array.isArray(N)&&(N=N.map(E=>q0(t,Oi(t,E)))),a(n,["setup","tools"],N)}const k=l(e,["sessionResumption"]);n!==void 0&&k!=null&&a(n,["setup","sessionResumption"],J0(t,k));const y=l(e,["inputAudioTranscription"]);n!==void 0&&y!=null&&a(n,["setup","inputAudioTranscription"],Xc());const g=l(e,["outputAudioTranscription"]);n!==void 0&&g!=null&&a(n,["setup","outputAudioTranscription"],Xc());const C=l(e,["realtimeInputConfig"]);n!==void 0&&C!=null&&a(n,["setup","realtimeInputConfig"],Q0(t,C));const x=l(e,["contextWindowCompression"]);n!==void 0&&x!=null&&a(n,["setup","contextWindowCompression"],eC(t,x));const S=l(e,["proactivity"]);return n!==void 0&&S!=null&&a(n,["setup","proactivity"],nC(t,S)),o}function iC(t,e,n){const o={},r=l(e,["generationConfig"]);n!==void 0&&r!=null&&a(n,["setup","generationConfig"],r);const i=l(e,["responseModalities"]);n!==void 0&&i!=null&&a(n,["setup","generationConfig","responseModalities"],i);const s=l(e,["temperature"]);n!==void 0&&s!=null&&a(n,["setup","generationConfig","temperature"],s);const u=l(e,["topP"]);n!==void 0&&u!=null&&a(n,["setup","generationConfig","topP"],u);const d=l(e,["topK"]);n!==void 0&&d!=null&&a(n,["setup","generationConfig","topK"],d);const c=l(e,["maxOutputTokens"]);n!==void 0&&c!=null&&a(n,["setup","generationConfig","maxOutputTokens"],c);const f=l(e,["mediaResolution"]);n!==void 0&&f!=null&&a(n,["setup","generationConfig","mediaResolution"],f);const p=l(e,["seed"]);n!==void 0&&p!=null&&a(n,["setup","generationConfig","seed"],p);const m=l(e,["speechConfig"]);n!==void 0&&m!=null&&a(n,["setup","generationConfig","speechConfig"],_0(t,zp(t,m)));const h=l(e,["enableAffectiveDialog"]);n!==void 0&&h!=null&&a(n,["setup","generationConfig","enableAffectiveDialog"],h);const v=l(e,["systemInstruction"]);n!==void 0&&v!=null&&a(n,["setup","systemInstruction"],N0(t,Re(t,v)));const _=l(e,["tools"]);if(n!==void 0&&_!=null){let N=$i(t,_);Array.isArray(N)&&(N=N.map(E=>W0(t,Oi(t,E)))),a(n,["setup","tools"],N)}const k=l(e,["sessionResumption"]);n!==void 0&&k!=null&&a(n,["setup","sessionResumption"],Y0(t,k));const y=l(e,["inputAudioTranscription"]);n!==void 0&&y!=null&&a(n,["setup","inputAudioTranscription"],bc());const g=l(e,["outputAudioTranscription"]);n!==void 0&&g!=null&&a(n,["setup","outputAudioTranscription"],bc());const C=l(e,["realtimeInputConfig"]);n!==void 0&&C!=null&&a(n,["setup","realtimeInputConfig"],X0(t,C));const x=l(e,["contextWindowCompression"]);n!==void 0&&x!=null&&a(n,["setup","contextWindowCompression"],tC(t,x));const S=l(e,["proactivity"]);return n!==void 0&&S!=null&&a(n,["setup","proactivity"],oC(t,S)),o}function sC(t,e){const n={},o=l(e,["model"]);o!=null&&a(n,["setup","model"],j(t,o));const r=l(e,["config"]);return r!=null&&a(n,["config"],rC(t,r,n)),n}function lC(t,e){const n={},o=l(e,["model"]);o!=null&&a(n,["setup","model"],j(t,o));const r=l(e,["config"]);return r!=null&&a(n,["config"],iC(t,r,n)),n}function aC(){return{}}function uC(){return{}}function cC(){return{}}function dC(){return{}}function fC(t,e){const n={},o=l(e,["media"]);o!=null&&a(n,["mediaChunks"],Op(t,o));const r=l(e,["audio"]);r!=null&&a(n,["audio"],Wy(t,r));const i=l(e,["audioStreamEnd"]);i!=null&&a(n,["audioStreamEnd"],i);const s=l(e,["video"]);s!=null&&a(n,["video"],qy(t,s));const u=l(e,["text"]);return u!=null&&a(n,["text"],u),l(e,["activityStart"])!=null&&a(n,["activityStart"],aC()),l(e,["activityEnd"])!=null&&a(n,["activityEnd"],cC()),n}function pC(t,e){const n={},o=l(e,["media"]);if(o!=null&&a(n,["mediaChunks"],Op(t,o)),l(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const r=l(e,["audioStreamEnd"]);if(r!=null&&a(n,["audioStreamEnd"],r),l(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(l(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return l(e,["activityStart"])!=null&&a(n,["activityStart"],uC()),l(e,["activityEnd"])!=null&&a(n,["activityEnd"],dC()),n}function Zp(t,e){const n={},o=l(e,["text"]);o!=null&&a(n,["text"],o);const r=l(e,["weight"]);return r!=null&&a(n,["weight"],r),n}function mC(t,e){const n={},o=l(e,["weightedPrompts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>Zp(t,i))),a(n,["weightedPrompts"],r)}return n}function Qp(t,e){const n={},o=l(e,["temperature"]);o!=null&&a(n,["temperature"],o);const r=l(e,["topK"]);r!=null&&a(n,["topK"],r);const i=l(e,["seed"]);i!=null&&a(n,["seed"],i);const s=l(e,["guidance"]);s!=null&&a(n,["guidance"],s);const u=l(e,["bpm"]);u!=null&&a(n,["bpm"],u);const d=l(e,["density"]);d!=null&&a(n,["density"],d);const c=l(e,["brightness"]);c!=null&&a(n,["brightness"],c);const f=l(e,["scale"]);f!=null&&a(n,["scale"],f);const p=l(e,["muteBass"]);p!=null&&a(n,["muteBass"],p);const m=l(e,["muteDrums"]);m!=null&&a(n,["muteDrums"],m);const h=l(e,["onlyBassAndDrums"]);h!=null&&a(n,["onlyBassAndDrums"],h);const v=l(e,["musicGenerationMode"]);return v!=null&&a(n,["musicGenerationMode"],v),n}function hC(t,e){const n={},o=l(e,["musicGenerationConfig"]);return o!=null&&a(n,["musicGenerationConfig"],Qp(t,o)),n}function Xp(t,e){const n={},o=l(e,["model"]);return o!=null&&a(n,["model"],o),n}function bp(t,e){const n={},o=l(e,["weightedPrompts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>Zp(t,i))),a(n,["weightedPrompts"],r)}return n}function Ml(t,e){const n={},o=l(e,["setup"]);o!=null&&a(n,["setup"],Xp(t,o));const r=l(e,["clientContent"]);r!=null&&a(n,["clientContent"],bp(t,r));const i=l(e,["musicGenerationConfig"]);i!=null&&a(n,["musicGenerationConfig"],Qp(t,i));const s=l(e,["playbackControl"]);return s!=null&&a(n,["playbackControl"],s),n}function gC(){return{}}function yC(){return{}}function vC(t,e){const n={},o=l(e,["fps"]);o!=null&&a(n,["fps"],o);const r=l(e,["endOffset"]);r!=null&&a(n,["endOffset"],r);const i=l(e,["startOffset"]);return i!=null&&a(n,["startOffset"],i),n}function CC(t,e){const n={},o=l(e,["fps"]);o!=null&&a(n,["fps"],o);const r=l(e,["endOffset"]);r!=null&&a(n,["endOffset"],r);const i=l(e,["startOffset"]);return i!=null&&a(n,["startOffset"],i),n}function _C(t,e){const n={},o=l(e,["data"]);o!=null&&a(n,["data"],o);const r=l(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function TC(t,e){const n={},o=l(e,["displayName"]);o!=null&&a(n,["displayName"],o);const r=l(e,["data"]);r!=null&&a(n,["data"],r);const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function xC(t,e){const n={},o=l(e,["videoMetadata"]);o!=null&&a(n,["videoMetadata"],vC(t,o));const r=l(e,["thought"]);r!=null&&a(n,["thought"],r);const i=l(e,["inlineData"]);i!=null&&a(n,["inlineData"],_C(t,i));const s=l(e,["codeExecutionResult"]);s!=null&&a(n,["codeExecutionResult"],s);const u=l(e,["executableCode"]);u!=null&&a(n,["executableCode"],u);const d=l(e,["fileData"]);d!=null&&a(n,["fileData"],d);const c=l(e,["functionCall"]);c!=null&&a(n,["functionCall"],c);const f=l(e,["functionResponse"]);f!=null&&a(n,["functionResponse"],f);const p=l(e,["text"]);return p!=null&&a(n,["text"],p),n}function EC(t,e){const n={},o=l(e,["videoMetadata"]);o!=null&&a(n,["videoMetadata"],CC(t,o));const r=l(e,["thought"]);r!=null&&a(n,["thought"],r);const i=l(e,["inlineData"]);i!=null&&a(n,["inlineData"],TC(t,i));const s=l(e,["codeExecutionResult"]);s!=null&&a(n,["codeExecutionResult"],s);const u=l(e,["executableCode"]);u!=null&&a(n,["executableCode"],u);const d=l(e,["fileData"]);d!=null&&a(n,["fileData"],d);const c=l(e,["functionCall"]);c!=null&&a(n,["functionCall"],c);const f=l(e,["functionResponse"]);f!=null&&a(n,["functionResponse"],f);const p=l(e,["text"]);return p!=null&&a(n,["text"],p),n}function SC(t,e){const n={},o=l(e,["parts"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>xC(t,s))),a(n,["parts"],i)}const r=l(e,["role"]);return r!=null&&a(n,["role"],r),n}function wC(t,e){const n={},o=l(e,["parts"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>EC(t,s))),a(n,["parts"],i)}const r=l(e,["role"]);return r!=null&&a(n,["role"],r),n}function jc(t,e){const n={},o=l(e,["text"]);o!=null&&a(n,["text"],o);const r=l(e,["finished"]);return r!=null&&a(n,["finished"],r),n}function ed(t,e){const n={},o=l(e,["text"]);o!=null&&a(n,["text"],o);const r=l(e,["finished"]);return r!=null&&a(n,["finished"],r),n}function kC(t,e){const n={},o=l(e,["retrievedUrl"]);o!=null&&a(n,["retrievedUrl"],o);const r=l(e,["urlRetrievalStatus"]);return r!=null&&a(n,["urlRetrievalStatus"],r),n}function IC(t,e){const n={},o=l(e,["urlMetadata"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>kC(t,i))),a(n,["urlMetadata"],r)}return n}function NC(t,e){const n={},o=l(e,["modelTurn"]);o!=null&&a(n,["modelTurn"],SC(t,o));const r=l(e,["turnComplete"]);r!=null&&a(n,["turnComplete"],r);const i=l(e,["interrupted"]);i!=null&&a(n,["interrupted"],i);const s=l(e,["groundingMetadata"]);s!=null&&a(n,["groundingMetadata"],s);const u=l(e,["generationComplete"]);u!=null&&a(n,["generationComplete"],u);const d=l(e,["inputTranscription"]);d!=null&&a(n,["inputTranscription"],jc(t,d));const c=l(e,["outputTranscription"]);c!=null&&a(n,["outputTranscription"],jc(t,c));const f=l(e,["urlContextMetadata"]);return f!=null&&a(n,["urlContextMetadata"],IC(t,f)),n}function AC(t,e){const n={},o=l(e,["modelTurn"]);o!=null&&a(n,["modelTurn"],wC(t,o));const r=l(e,["turnComplete"]);r!=null&&a(n,["turnComplete"],r);const i=l(e,["interrupted"]);i!=null&&a(n,["interrupted"],i);const s=l(e,["groundingMetadata"]);s!=null&&a(n,["groundingMetadata"],s);const u=l(e,["generationComplete"]);u!=null&&a(n,["generationComplete"],u);const d=l(e,["inputTranscription"]);d!=null&&a(n,["inputTranscription"],ed(t,d));const c=l(e,["outputTranscription"]);return c!=null&&a(n,["outputTranscription"],ed(t,c)),n}function PC(t,e){const n={},o=l(e,["id"]);o!=null&&a(n,["id"],o);const r=l(e,["args"]);r!=null&&a(n,["args"],r);const i=l(e,["name"]);return i!=null&&a(n,["name"],i),n}function MC(t,e){const n={},o=l(e,["args"]);o!=null&&a(n,["args"],o);const r=l(e,["name"]);return r!=null&&a(n,["name"],r),n}function RC(t,e){const n={},o=l(e,["functionCalls"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>PC(t,i))),a(n,["functionCalls"],r)}return n}function DC(t,e){const n={},o=l(e,["functionCalls"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>MC(t,i))),a(n,["functionCalls"],r)}return n}function LC(t,e){const n={},o=l(e,["ids"]);return o!=null&&a(n,["ids"],o),n}function FC(t,e){const n={},o=l(e,["ids"]);return o!=null&&a(n,["ids"],o),n}function Er(t,e){const n={},o=l(e,["modality"]);o!=null&&a(n,["modality"],o);const r=l(e,["tokenCount"]);return r!=null&&a(n,["tokenCount"],r),n}function Sr(t,e){const n={},o=l(e,["modality"]);o!=null&&a(n,["modality"],o);const r=l(e,["tokenCount"]);return r!=null&&a(n,["tokenCount"],r),n}function VC(t,e){const n={},o=l(e,["promptTokenCount"]);o!=null&&a(n,["promptTokenCount"],o);const r=l(e,["cachedContentTokenCount"]);r!=null&&a(n,["cachedContentTokenCount"],r);const i=l(e,["responseTokenCount"]);i!=null&&a(n,["responseTokenCount"],i);const s=l(e,["toolUsePromptTokenCount"]);s!=null&&a(n,["toolUsePromptTokenCount"],s);const u=l(e,["thoughtsTokenCount"]);u!=null&&a(n,["thoughtsTokenCount"],u);const d=l(e,["totalTokenCount"]);d!=null&&a(n,["totalTokenCount"],d);const c=l(e,["promptTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(v=>Er(t,v))),a(n,["promptTokensDetails"],h)}const f=l(e,["cacheTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(v=>Er(t,v))),a(n,["cacheTokensDetails"],h)}const p=l(e,["responseTokensDetails"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(v=>Er(t,v))),a(n,["responseTokensDetails"],h)}const m=l(e,["toolUsePromptTokensDetails"]);if(m!=null){let h=m;Array.isArray(h)&&(h=h.map(v=>Er(t,v))),a(n,["toolUsePromptTokensDetails"],h)}return n}function UC(t,e){const n={},o=l(e,["promptTokenCount"]);o!=null&&a(n,["promptTokenCount"],o);const r=l(e,["cachedContentTokenCount"]);r!=null&&a(n,["cachedContentTokenCount"],r);const i=l(e,["candidatesTokenCount"]);i!=null&&a(n,["responseTokenCount"],i);const s=l(e,["toolUsePromptTokenCount"]);s!=null&&a(n,["toolUsePromptTokenCount"],s);const u=l(e,["thoughtsTokenCount"]);u!=null&&a(n,["thoughtsTokenCount"],u);const d=l(e,["totalTokenCount"]);d!=null&&a(n,["totalTokenCount"],d);const c=l(e,["promptTokensDetails"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(_=>Sr(t,_))),a(n,["promptTokensDetails"],v)}const f=l(e,["cacheTokensDetails"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(_=>Sr(t,_))),a(n,["cacheTokensDetails"],v)}const p=l(e,["candidatesTokensDetails"]);if(p!=null){let v=p;Array.isArray(v)&&(v=v.map(_=>Sr(t,_))),a(n,["responseTokensDetails"],v)}const m=l(e,["toolUsePromptTokensDetails"]);if(m!=null){let v=m;Array.isArray(v)&&(v=v.map(_=>Sr(t,_))),a(n,["toolUsePromptTokensDetails"],v)}const h=l(e,["trafficType"]);return h!=null&&a(n,["trafficType"],h),n}function OC(t,e){const n={},o=l(e,["timeLeft"]);return o!=null&&a(n,["timeLeft"],o),n}function $C(t,e){const n={},o=l(e,["timeLeft"]);return o!=null&&a(n,["timeLeft"],o),n}function BC(t,e){const n={},o=l(e,["newHandle"]);o!=null&&a(n,["newHandle"],o);const r=l(e,["resumable"]);r!=null&&a(n,["resumable"],r);const i=l(e,["lastConsumedClientMessageIndex"]);return i!=null&&a(n,["lastConsumedClientMessageIndex"],i),n}function GC(t,e){const n={},o=l(e,["newHandle"]);o!=null&&a(n,["newHandle"],o);const r=l(e,["resumable"]);r!=null&&a(n,["resumable"],r);const i=l(e,["lastConsumedClientMessageIndex"]);return i!=null&&a(n,["lastConsumedClientMessageIndex"],i),n}function zC(t,e){const n={};l(e,["setupComplete"])!=null&&a(n,["setupComplete"],gC());const r=l(e,["serverContent"]);r!=null&&a(n,["serverContent"],NC(t,r));const i=l(e,["toolCall"]);i!=null&&a(n,["toolCall"],RC(t,i));const s=l(e,["toolCallCancellation"]);s!=null&&a(n,["toolCallCancellation"],LC(t,s));const u=l(e,["usageMetadata"]);u!=null&&a(n,["usageMetadata"],VC(t,u));const d=l(e,["goAway"]);d!=null&&a(n,["goAway"],OC(t,d));const c=l(e,["sessionResumptionUpdate"]);return c!=null&&a(n,["sessionResumptionUpdate"],BC(t,c)),n}function HC(t,e){const n={};l(e,["setupComplete"])!=null&&a(n,["setupComplete"],yC());const r=l(e,["serverContent"]);r!=null&&a(n,["serverContent"],AC(t,r));const i=l(e,["toolCall"]);i!=null&&a(n,["toolCall"],DC(t,i));const s=l(e,["toolCallCancellation"]);s!=null&&a(n,["toolCallCancellation"],FC(t,s));const u=l(e,["usageMetadata"]);u!=null&&a(n,["usageMetadata"],UC(t,u));const d=l(e,["goAway"]);d!=null&&a(n,["goAway"],$C(t,d));const c=l(e,["sessionResumptionUpdate"]);return c!=null&&a(n,["sessionResumptionUpdate"],GC(t,c)),n}function qC(){return{}}function WC(t,e){const n={},o=l(e,["text"]);o!=null&&a(n,["text"],o);const r=l(e,["weight"]);return r!=null&&a(n,["weight"],r),n}function JC(t,e){const n={},o=l(e,["weightedPrompts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>WC(t,i))),a(n,["weightedPrompts"],r)}return n}function YC(t,e){const n={},o=l(e,["temperature"]);o!=null&&a(n,["temperature"],o);const r=l(e,["topK"]);r!=null&&a(n,["topK"],r);const i=l(e,["seed"]);i!=null&&a(n,["seed"],i);const s=l(e,["guidance"]);s!=null&&a(n,["guidance"],s);const u=l(e,["bpm"]);u!=null&&a(n,["bpm"],u);const d=l(e,["density"]);d!=null&&a(n,["density"],d);const c=l(e,["brightness"]);c!=null&&a(n,["brightness"],c);const f=l(e,["scale"]);f!=null&&a(n,["scale"],f);const p=l(e,["muteBass"]);p!=null&&a(n,["muteBass"],p);const m=l(e,["muteDrums"]);m!=null&&a(n,["muteDrums"],m);const h=l(e,["onlyBassAndDrums"]);h!=null&&a(n,["onlyBassAndDrums"],h);const v=l(e,["musicGenerationMode"]);return v!=null&&a(n,["musicGenerationMode"],v),n}function KC(t,e){const n={},o=l(e,["clientContent"]);o!=null&&a(n,["clientContent"],JC(t,o));const r=l(e,["musicGenerationConfig"]);return r!=null&&a(n,["musicGenerationConfig"],YC(t,r)),n}function ZC(t,e){const n={},o=l(e,["data"]);o!=null&&a(n,["data"],o);const r=l(e,["mimeType"]);r!=null&&a(n,["mimeType"],r);const i=l(e,["sourceMetadata"]);return i!=null&&a(n,["sourceMetadata"],KC(t,i)),n}function QC(t,e){const n={},o=l(e,["audioChunks"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>ZC(t,i))),a(n,["audioChunks"],r)}return n}function XC(t,e){const n={},o=l(e,["text"]);o!=null&&a(n,["text"],o);const r=l(e,["filteredReason"]);return r!=null&&a(n,["filteredReason"],r),n}function bC(t,e){const n={};l(e,["setupComplete"])!=null&&a(n,["setupComplete"],qC());const r=l(e,["serverContent"]);r!=null&&a(n,["serverContent"],QC(t,r));const i=l(e,["filteredPrompt"]);return i!=null&&a(n,["filteredPrompt"],XC(t,i)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jC(t,e){const n={},o=l(e,["fps"]);o!=null&&a(n,["fps"],o);const r=l(e,["endOffset"]);r!=null&&a(n,["endOffset"],r);const i=l(e,["startOffset"]);return i!=null&&a(n,["startOffset"],i),n}function e_(t,e){const n={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(e,["data"]);o!=null&&a(n,["data"],o);const r=l(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function t_(t,e){const n={},o=l(e,["videoMetadata"]);o!=null&&a(n,["videoMetadata"],jC(t,o));const r=l(e,["thought"]);r!=null&&a(n,["thought"],r);const i=l(e,["inlineData"]);i!=null&&a(n,["inlineData"],e_(t,i));const s=l(e,["codeExecutionResult"]);s!=null&&a(n,["codeExecutionResult"],s);const u=l(e,["executableCode"]);u!=null&&a(n,["executableCode"],u);const d=l(e,["fileData"]);d!=null&&a(n,["fileData"],d);const c=l(e,["functionCall"]);c!=null&&a(n,["functionCall"],c);const f=l(e,["functionResponse"]);f!=null&&a(n,["functionResponse"],f);const p=l(e,["text"]);return p!=null&&a(n,["text"],p),n}function Gi(t,e){const n={},o=l(e,["parts"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>t_(t,s))),a(n,["parts"],i)}const r=l(e,["role"]);return r!=null&&a(n,["role"],r),n}function n_(t,e){const n={};if(l(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=l(e,["category"]);o!=null&&a(n,["category"],o);const r=l(e,["threshold"]);return r!=null&&a(n,["threshold"],r),n}function o_(t,e){const n={},o=l(e,["behavior"]);o!=null&&a(n,["behavior"],o);const r=l(e,["description"]);r!=null&&a(n,["description"],r);const i=l(e,["name"]);i!=null&&a(n,["name"],i);const s=l(e,["parameters"]);s!=null&&a(n,["parameters"],s);const u=l(e,["response"]);return u!=null&&a(n,["response"],u),n}function r_(t,e){const n={},o=l(e,["startTime"]);o!=null&&a(n,["startTime"],o);const r=l(e,["endTime"]);return r!=null&&a(n,["endTime"],r),n}function i_(t,e){const n={},o=l(e,["timeRangeFilter"]);return o!=null&&a(n,["timeRangeFilter"],r_(t,o)),n}function s_(t,e){const n={},o=l(e,["mode"]);o!=null&&a(n,["mode"],o);const r=l(e,["dynamicThreshold"]);return r!=null&&a(n,["dynamicThreshold"],r),n}function l_(t,e){const n={},o=l(e,["dynamicRetrievalConfig"]);return o!=null&&a(n,["dynamicRetrievalConfig"],s_(t,o)),n}function a_(){return{}}function u_(t,e){const n={},o=l(e,["functionDeclarations"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(c=>o_(t,c))),a(n,["functionDeclarations"],d)}if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=l(e,["googleSearch"]);r!=null&&a(n,["googleSearch"],i_(t,r));const i=l(e,["googleSearchRetrieval"]);if(i!=null&&a(n,["googleSearchRetrieval"],l_(t,i)),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(e,["urlContext"])!=null&&a(n,["urlContext"],a_());const u=l(e,["codeExecution"]);return u!=null&&a(n,["codeExecution"],u),n}function c_(t,e){const n={},o=l(e,["mode"]);o!=null&&a(n,["mode"],o);const r=l(e,["allowedFunctionNames"]);return r!=null&&a(n,["allowedFunctionNames"],r),n}function d_(t,e){const n={},o=l(e,["latitude"]);o!=null&&a(n,["latitude"],o);const r=l(e,["longitude"]);return r!=null&&a(n,["longitude"],r),n}function f_(t,e){const n={},o=l(e,["latLng"]);return o!=null&&a(n,["latLng"],d_(t,o)),n}function p_(t,e){const n={},o=l(e,["functionCallingConfig"]);o!=null&&a(n,["functionCallingConfig"],c_(t,o));const r=l(e,["retrievalConfig"]);return r!=null&&a(n,["retrievalConfig"],f_(t,r)),n}function m_(t,e){const n={},o=l(e,["voiceName"]);return o!=null&&a(n,["voiceName"],o),n}function jp(t,e){const n={},o=l(e,["prebuiltVoiceConfig"]);return o!=null&&a(n,["prebuiltVoiceConfig"],m_(t,o)),n}function h_(t,e){const n={},o=l(e,["speaker"]);o!=null&&a(n,["speaker"],o);const r=l(e,["voiceConfig"]);return r!=null&&a(n,["voiceConfig"],jp(t,r)),n}function g_(t,e){const n={},o=l(e,["speakerVoiceConfigs"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>h_(t,i))),a(n,["speakerVoiceConfigs"],r)}return n}function y_(t,e){const n={},o=l(e,["voiceConfig"]);o!=null&&a(n,["voiceConfig"],jp(t,o));const r=l(e,["multiSpeakerVoiceConfig"]);r!=null&&a(n,["multiSpeakerVoiceConfig"],g_(t,r));const i=l(e,["languageCode"]);return i!=null&&a(n,["languageCode"],i),n}function v_(t,e){const n={},o=l(e,["includeThoughts"]);o!=null&&a(n,["includeThoughts"],o);const r=l(e,["thinkingBudget"]);return r!=null&&a(n,["thinkingBudget"],r),n}function C_(t,e,n){const o={},r=l(e,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],Gi(t,Re(t,r)));const i=l(e,["temperature"]);i!=null&&a(o,["temperature"],i);const s=l(e,["topP"]);s!=null&&a(o,["topP"],s);const u=l(e,["topK"]);u!=null&&a(o,["topK"],u);const d=l(e,["candidateCount"]);d!=null&&a(o,["candidateCount"],d);const c=l(e,["maxOutputTokens"]);c!=null&&a(o,["maxOutputTokens"],c);const f=l(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const p=l(e,["responseLogprobs"]);p!=null&&a(o,["responseLogprobs"],p);const m=l(e,["logprobs"]);m!=null&&a(o,["logprobs"],m);const h=l(e,["presencePenalty"]);h!=null&&a(o,["presencePenalty"],h);const v=l(e,["frequencyPenalty"]);v!=null&&a(o,["frequencyPenalty"],v);const _=l(e,["seed"]);_!=null&&a(o,["seed"],_);const k=l(e,["responseMimeType"]);k!=null&&a(o,["responseMimeType"],k);const y=l(e,["responseSchema"]);if(y!=null&&a(o,["responseSchema"],Ti(t,y)),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const g=l(e,["safetySettings"]);if(n!==void 0&&g!=null){let P=g;Array.isArray(P)&&(P=P.map(K=>n_(t,K))),a(n,["safetySettings"],P)}const C=l(e,["tools"]);if(n!==void 0&&C!=null){let P=$i(t,C);Array.isArray(P)&&(P=P.map(K=>u_(t,Oi(t,K)))),a(n,["tools"],P)}const x=l(e,["toolConfig"]);if(n!==void 0&&x!=null&&a(n,["toolConfig"],p_(t,x)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=l(e,["cachedContent"]);n!==void 0&&S!=null&&a(n,["cachedContent"],Qt(t,S));const N=l(e,["responseModalities"]);N!=null&&a(o,["responseModalities"],N);const E=l(e,["mediaResolution"]);E!=null&&a(o,["mediaResolution"],E);const A=l(e,["speechConfig"]);if(A!=null&&a(o,["speechConfig"],y_(t,Gp(t,A))),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=l(e,["thinkingConfig"]);return M!=null&&a(o,["thinkingConfig"],v_(t,M)),o}function td(t,e){const n={},o=l(e,["model"]);o!=null&&a(n,["_url","model"],j(t,o));const r=l(e,["contents"]);if(r!=null){let s=ot(t,r);Array.isArray(s)&&(s=s.map(u=>Gi(t,u))),a(n,["contents"],s)}const i=l(e,["config"]);return i!=null&&a(n,["generationConfig"],C_(t,i,n)),n}function __(t,e,n){const o={},r=l(e,["taskType"]);n!==void 0&&r!=null&&a(n,["requests[]","taskType"],r);const i=l(e,["title"]);n!==void 0&&i!=null&&a(n,["requests[]","title"],i);const s=l(e,["outputDimensionality"]);if(n!==void 0&&s!=null&&a(n,["requests[]","outputDimensionality"],s),l(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function T_(t,e){const n={},o=l(e,["model"]);o!=null&&a(n,["_url","model"],j(t,o));const r=l(e,["contents"]);r!=null&&a(n,["requests[]","content"],Bp(t,r));const i=l(e,["config"]);i!=null&&a(n,["config"],__(t,i,n));const s=l(e,["model"]);return s!==void 0&&a(n,["requests[]","model"],j(t,s)),n}function x_(t,e,n){const o={};if(l(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=l(e,["numberOfImages"]);n!==void 0&&r!=null&&a(n,["parameters","sampleCount"],r);const i=l(e,["aspectRatio"]);n!==void 0&&i!=null&&a(n,["parameters","aspectRatio"],i);const s=l(e,["guidanceScale"]);if(n!==void 0&&s!=null&&a(n,["parameters","guidanceScale"],s),l(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=l(e,["safetyFilterLevel"]);n!==void 0&&u!=null&&a(n,["parameters","safetySetting"],u);const d=l(e,["personGeneration"]);n!==void 0&&d!=null&&a(n,["parameters","personGeneration"],d);const c=l(e,["includeSafetyAttributes"]);n!==void 0&&c!=null&&a(n,["parameters","includeSafetyAttributes"],c);const f=l(e,["includeRaiReason"]);n!==void 0&&f!=null&&a(n,["parameters","includeRaiReason"],f);const p=l(e,["language"]);n!==void 0&&p!=null&&a(n,["parameters","language"],p);const m=l(e,["outputMimeType"]);n!==void 0&&m!=null&&a(n,["parameters","outputOptions","mimeType"],m);const h=l(e,["outputCompressionQuality"]);if(n!==void 0&&h!=null&&a(n,["parameters","outputOptions","compressionQuality"],h),l(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(l(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function E_(t,e){const n={},o=l(e,["model"]);o!=null&&a(n,["_url","model"],j(t,o));const r=l(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=l(e,["config"]);return i!=null&&a(n,["config"],x_(t,i,n)),n}function S_(t,e){const n={},o=l(e,["model"]);o!=null&&a(n,["_url","name"],j(t,o));const r=l(e,["config"]);return r!=null&&a(n,["config"],r),n}function w_(t,e,n){const o={},r=l(e,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=l(e,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const s=l(e,["filter"]);n!==void 0&&s!=null&&a(n,["_query","filter"],s);const u=l(e,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],Wp(t,u)),o}function k_(t,e){const n={},o=l(e,["config"]);return o!=null&&a(n,["config"],w_(t,o,n)),n}function I_(t,e,n){const o={},r=l(e,["displayName"]);n!==void 0&&r!=null&&a(n,["displayName"],r);const i=l(e,["description"]);n!==void 0&&i!=null&&a(n,["description"],i);const s=l(e,["defaultCheckpointId"]);return n!==void 0&&s!=null&&a(n,["defaultCheckpointId"],s),o}function N_(t,e){const n={},o=l(e,["model"]);o!=null&&a(n,["_url","name"],j(t,o));const r=l(e,["config"]);return r!=null&&a(n,["config"],I_(t,r,n)),n}function A_(t,e){const n={},o=l(e,["model"]);o!=null&&a(n,["_url","name"],j(t,o));const r=l(e,["config"]);return r!=null&&a(n,["config"],r),n}function P_(t,e){const n={};if(l(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function M_(t,e){const n={},o=l(e,["model"]);o!=null&&a(n,["_url","model"],j(t,o));const r=l(e,["contents"]);if(r!=null){let s=ot(t,r);Array.isArray(s)&&(s=s.map(u=>Gi(t,u))),a(n,["contents"],s)}const i=l(e,["config"]);return i!=null&&a(n,["config"],P_(t,i)),n}function R_(t,e){const n={};if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=l(e,["imageBytes"]);o!=null&&a(n,["bytesBase64Encoded"],Xt(t,o));const r=l(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function D_(t,e,n){const o={},r=l(e,["numberOfVideos"]);if(n!==void 0&&r!=null&&a(n,["parameters","sampleCount"],r),l(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=l(e,["durationSeconds"]);if(n!==void 0&&i!=null&&a(n,["parameters","durationSeconds"],i),l(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=l(e,["aspectRatio"]);if(n!==void 0&&s!=null&&a(n,["parameters","aspectRatio"],s),l(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const u=l(e,["personGeneration"]);if(n!==void 0&&u!=null&&a(n,["parameters","personGeneration"],u),l(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=l(e,["negativePrompt"]);if(n!==void 0&&d!=null&&a(n,["parameters","negativePrompt"],d),l(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function L_(t,e){const n={},o=l(e,["model"]);o!=null&&a(n,["_url","model"],j(t,o));const r=l(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=l(e,["image"]);i!=null&&a(n,["instances[0]","image"],R_(t,i));const s=l(e,["config"]);return s!=null&&a(n,["config"],D_(t,s,n)),n}function F_(t,e){const n={},o=l(e,["fps"]);o!=null&&a(n,["fps"],o);const r=l(e,["endOffset"]);r!=null&&a(n,["endOffset"],r);const i=l(e,["startOffset"]);return i!=null&&a(n,["startOffset"],i),n}function V_(t,e){const n={},o=l(e,["displayName"]);o!=null&&a(n,["displayName"],o);const r=l(e,["data"]);r!=null&&a(n,["data"],r);const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function U_(t,e){const n={},o=l(e,["videoMetadata"]);o!=null&&a(n,["videoMetadata"],F_(t,o));const r=l(e,["thought"]);r!=null&&a(n,["thought"],r);const i=l(e,["inlineData"]);i!=null&&a(n,["inlineData"],V_(t,i));const s=l(e,["codeExecutionResult"]);s!=null&&a(n,["codeExecutionResult"],s);const u=l(e,["executableCode"]);u!=null&&a(n,["executableCode"],u);const d=l(e,["fileData"]);d!=null&&a(n,["fileData"],d);const c=l(e,["functionCall"]);c!=null&&a(n,["functionCall"],c);const f=l(e,["functionResponse"]);f!=null&&a(n,["functionResponse"],f);const p=l(e,["text"]);return p!=null&&a(n,["text"],p),n}function io(t,e){const n={},o=l(e,["parts"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>U_(t,s))),a(n,["parts"],i)}const r=l(e,["role"]);return r!=null&&a(n,["role"],r),n}function O_(t,e){const n={},o=l(e,["featureSelectionPreference"]);return o!=null&&a(n,["featureSelectionPreference"],o),n}function $_(t,e){const n={},o=l(e,["method"]);o!=null&&a(n,["method"],o);const r=l(e,["category"]);r!=null&&a(n,["category"],r);const i=l(e,["threshold"]);return i!=null&&a(n,["threshold"],i),n}function B_(t,e){const n={};if(l(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=l(e,["description"]);o!=null&&a(n,["description"],o);const r=l(e,["name"]);r!=null&&a(n,["name"],r);const i=l(e,["parameters"]);i!=null&&a(n,["parameters"],i);const s=l(e,["response"]);return s!=null&&a(n,["response"],s),n}function G_(t,e){const n={},o=l(e,["startTime"]);o!=null&&a(n,["startTime"],o);const r=l(e,["endTime"]);return r!=null&&a(n,["endTime"],r),n}function z_(t,e){const n={},o=l(e,["timeRangeFilter"]);return o!=null&&a(n,["timeRangeFilter"],G_(t,o)),n}function H_(t,e){const n={},o=l(e,["mode"]);o!=null&&a(n,["mode"],o);const r=l(e,["dynamicThreshold"]);return r!=null&&a(n,["dynamicThreshold"],r),n}function q_(t,e){const n={},o=l(e,["dynamicRetrievalConfig"]);return o!=null&&a(n,["dynamicRetrievalConfig"],H_(t,o)),n}function W_(){return{}}function J_(t,e){const n={},o=l(e,["apiKeyString"]);return o!=null&&a(n,["apiKeyString"],o),n}function Y_(t,e){const n={},o=l(e,["apiKeyConfig"]);o!=null&&a(n,["apiKeyConfig"],J_(t,o));const r=l(e,["authType"]);r!=null&&a(n,["authType"],r);const i=l(e,["googleServiceAccountConfig"]);i!=null&&a(n,["googleServiceAccountConfig"],i);const s=l(e,["httpBasicAuthConfig"]);s!=null&&a(n,["httpBasicAuthConfig"],s);const u=l(e,["oauthConfig"]);u!=null&&a(n,["oauthConfig"],u);const d=l(e,["oidcConfig"]);return d!=null&&a(n,["oidcConfig"],d),n}function K_(t,e){const n={},o=l(e,["authConfig"]);return o!=null&&a(n,["authConfig"],Y_(t,o)),n}function em(t,e){const n={},o=l(e,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>B_(t,p))),a(n,["functionDeclarations"],f)}const r=l(e,["retrieval"]);r!=null&&a(n,["retrieval"],r);const i=l(e,["googleSearch"]);i!=null&&a(n,["googleSearch"],z_(t,i));const s=l(e,["googleSearchRetrieval"]);s!=null&&a(n,["googleSearchRetrieval"],q_(t,s)),l(e,["enterpriseWebSearch"])!=null&&a(n,["enterpriseWebSearch"],W_());const d=l(e,["googleMaps"]);if(d!=null&&a(n,["googleMaps"],K_(t,d)),l(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const c=l(e,["codeExecution"]);return c!=null&&a(n,["codeExecution"],c),n}function Z_(t,e){const n={},o=l(e,["mode"]);o!=null&&a(n,["mode"],o);const r=l(e,["allowedFunctionNames"]);return r!=null&&a(n,["allowedFunctionNames"],r),n}function Q_(t,e){const n={},o=l(e,["latitude"]);o!=null&&a(n,["latitude"],o);const r=l(e,["longitude"]);return r!=null&&a(n,["longitude"],r),n}function X_(t,e){const n={},o=l(e,["latLng"]);return o!=null&&a(n,["latLng"],Q_(t,o)),n}function b_(t,e){const n={},o=l(e,["functionCallingConfig"]);o!=null&&a(n,["functionCallingConfig"],Z_(t,o));const r=l(e,["retrievalConfig"]);return r!=null&&a(n,["retrievalConfig"],X_(t,r)),n}function j_(t,e){const n={},o=l(e,["voiceName"]);return o!=null&&a(n,["voiceName"],o),n}function eT(t,e){const n={},o=l(e,["prebuiltVoiceConfig"]);return o!=null&&a(n,["prebuiltVoiceConfig"],j_(t,o)),n}function tT(t,e){const n={},o=l(e,["voiceConfig"]);if(o!=null&&a(n,["voiceConfig"],eT(t,o)),l(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=l(e,["languageCode"]);return r!=null&&a(n,["languageCode"],r),n}function nT(t,e){const n={},o=l(e,["includeThoughts"]);o!=null&&a(n,["includeThoughts"],o);const r=l(e,["thinkingBudget"]);return r!=null&&a(n,["thinkingBudget"],r),n}function oT(t,e,n){const o={},r=l(e,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],io(t,Re(t,r)));const i=l(e,["temperature"]);i!=null&&a(o,["temperature"],i);const s=l(e,["topP"]);s!=null&&a(o,["topP"],s);const u=l(e,["topK"]);u!=null&&a(o,["topK"],u);const d=l(e,["candidateCount"]);d!=null&&a(o,["candidateCount"],d);const c=l(e,["maxOutputTokens"]);c!=null&&a(o,["maxOutputTokens"],c);const f=l(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const p=l(e,["responseLogprobs"]);p!=null&&a(o,["responseLogprobs"],p);const m=l(e,["logprobs"]);m!=null&&a(o,["logprobs"],m);const h=l(e,["presencePenalty"]);h!=null&&a(o,["presencePenalty"],h);const v=l(e,["frequencyPenalty"]);v!=null&&a(o,["frequencyPenalty"],v);const _=l(e,["seed"]);_!=null&&a(o,["seed"],_);const k=l(e,["responseMimeType"]);k!=null&&a(o,["responseMimeType"],k);const y=l(e,["responseSchema"]);y!=null&&a(o,["responseSchema"],Ti(t,y));const g=l(e,["routingConfig"]);g!=null&&a(o,["routingConfig"],g);const C=l(e,["modelSelectionConfig"]);C!=null&&a(o,["modelConfig"],O_(t,C));const x=l(e,["safetySettings"]);if(n!==void 0&&x!=null){let xe=x;Array.isArray(xe)&&(xe=xe.map(wt=>$_(t,wt))),a(n,["safetySettings"],xe)}const S=l(e,["tools"]);if(n!==void 0&&S!=null){let xe=$i(t,S);Array.isArray(xe)&&(xe=xe.map(wt=>em(t,Oi(t,wt)))),a(n,["tools"],xe)}const N=l(e,["toolConfig"]);n!==void 0&&N!=null&&a(n,["toolConfig"],b_(t,N));const E=l(e,["labels"]);n!==void 0&&E!=null&&a(n,["labels"],E);const A=l(e,["cachedContent"]);n!==void 0&&A!=null&&a(n,["cachedContent"],Qt(t,A));const M=l(e,["responseModalities"]);M!=null&&a(o,["responseModalities"],M);const P=l(e,["mediaResolution"]);P!=null&&a(o,["mediaResolution"],P);const K=l(e,["speechConfig"]);K!=null&&a(o,["speechConfig"],tT(t,Gp(t,K)));const Ve=l(e,["audioTimestamp"]);Ve!=null&&a(o,["audioTimestamp"],Ve);const Qe=l(e,["thinkingConfig"]);return Qe!=null&&a(o,["thinkingConfig"],nT(t,Qe)),o}function nd(t,e){const n={},o=l(e,["model"]);o!=null&&a(n,["_url","model"],j(t,o));const r=l(e,["contents"]);if(r!=null){let s=ot(t,r);Array.isArray(s)&&(s=s.map(u=>io(t,u))),a(n,["contents"],s)}const i=l(e,["config"]);return i!=null&&a(n,["generationConfig"],oT(t,i,n)),n}function rT(t,e,n){const o={},r=l(e,["taskType"]);n!==void 0&&r!=null&&a(n,["instances[]","task_type"],r);const i=l(e,["title"]);n!==void 0&&i!=null&&a(n,["instances[]","title"],i);const s=l(e,["outputDimensionality"]);n!==void 0&&s!=null&&a(n,["parameters","outputDimensionality"],s);const u=l(e,["mimeType"]);n!==void 0&&u!=null&&a(n,["instances[]","mimeType"],u);const d=l(e,["autoTruncate"]);return n!==void 0&&d!=null&&a(n,["parameters","autoTruncate"],d),o}function iT(t,e){const n={},o=l(e,["model"]);o!=null&&a(n,["_url","model"],j(t,o));const r=l(e,["contents"]);r!=null&&a(n,["instances[]","content"],Bp(t,r));const i=l(e,["config"]);return i!=null&&a(n,["config"],rT(t,i,n)),n}function sT(t,e,n){const o={},r=l(e,["outputGcsUri"]);n!==void 0&&r!=null&&a(n,["parameters","storageUri"],r);const i=l(e,["negativePrompt"]);n!==void 0&&i!=null&&a(n,["parameters","negativePrompt"],i);const s=l(e,["numberOfImages"]);n!==void 0&&s!=null&&a(n,["parameters","sampleCount"],s);const u=l(e,["aspectRatio"]);n!==void 0&&u!=null&&a(n,["parameters","aspectRatio"],u);const d=l(e,["guidanceScale"]);n!==void 0&&d!=null&&a(n,["parameters","guidanceScale"],d);const c=l(e,["seed"]);n!==void 0&&c!=null&&a(n,["parameters","seed"],c);const f=l(e,["safetyFilterLevel"]);n!==void 0&&f!=null&&a(n,["parameters","safetySetting"],f);const p=l(e,["personGeneration"]);n!==void 0&&p!=null&&a(n,["parameters","personGeneration"],p);const m=l(e,["includeSafetyAttributes"]);n!==void 0&&m!=null&&a(n,["parameters","includeSafetyAttributes"],m);const h=l(e,["includeRaiReason"]);n!==void 0&&h!=null&&a(n,["parameters","includeRaiReason"],h);const v=l(e,["language"]);n!==void 0&&v!=null&&a(n,["parameters","language"],v);const _=l(e,["outputMimeType"]);n!==void 0&&_!=null&&a(n,["parameters","outputOptions","mimeType"],_);const k=l(e,["outputCompressionQuality"]);n!==void 0&&k!=null&&a(n,["parameters","outputOptions","compressionQuality"],k);const y=l(e,["addWatermark"]);n!==void 0&&y!=null&&a(n,["parameters","addWatermark"],y);const g=l(e,["enhancePrompt"]);return n!==void 0&&g!=null&&a(n,["parameters","enhancePrompt"],g),o}function lT(t,e){const n={},o=l(e,["model"]);o!=null&&a(n,["_url","model"],j(t,o));const r=l(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=l(e,["config"]);return i!=null&&a(n,["config"],sT(t,i,n)),n}function Ra(t,e){const n={},o=l(e,["gcsUri"]);o!=null&&a(n,["gcsUri"],o);const r=l(e,["imageBytes"]);r!=null&&a(n,["bytesBase64Encoded"],Xt(t,r));const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function aT(t,e){const n={},o=l(e,["maskMode"]);o!=null&&a(n,["maskMode"],o);const r=l(e,["segmentationClasses"]);r!=null&&a(n,["maskClasses"],r);const i=l(e,["maskDilation"]);return i!=null&&a(n,["dilation"],i),n}function uT(t,e){const n={},o=l(e,["controlType"]);o!=null&&a(n,["controlType"],o);const r=l(e,["enableControlImageComputation"]);return r!=null&&a(n,["computeControl"],r),n}function cT(t,e){const n={},o=l(e,["styleDescription"]);return o!=null&&a(n,["styleDescription"],o),n}function dT(t,e){const n={},o=l(e,["subjectType"]);o!=null&&a(n,["subjectType"],o);const r=l(e,["subjectDescription"]);return r!=null&&a(n,["subjectDescription"],r),n}function fT(t,e){const n={},o=l(e,["referenceImage"]);o!=null&&a(n,["referenceImage"],Ra(t,o));const r=l(e,["referenceId"]);r!=null&&a(n,["referenceId"],r);const i=l(e,["referenceType"]);i!=null&&a(n,["referenceType"],i);const s=l(e,["maskImageConfig"]);s!=null&&a(n,["maskImageConfig"],aT(t,s));const u=l(e,["controlImageConfig"]);u!=null&&a(n,["controlImageConfig"],uT(t,u));const d=l(e,["styleImageConfig"]);d!=null&&a(n,["styleImageConfig"],cT(t,d));const c=l(e,["subjectImageConfig"]);return c!=null&&a(n,["subjectImageConfig"],dT(t,c)),n}function pT(t,e,n){const o={},r=l(e,["outputGcsUri"]);n!==void 0&&r!=null&&a(n,["parameters","storageUri"],r);const i=l(e,["negativePrompt"]);n!==void 0&&i!=null&&a(n,["parameters","negativePrompt"],i);const s=l(e,["numberOfImages"]);n!==void 0&&s!=null&&a(n,["parameters","sampleCount"],s);const u=l(e,["aspectRatio"]);n!==void 0&&u!=null&&a(n,["parameters","aspectRatio"],u);const d=l(e,["guidanceScale"]);n!==void 0&&d!=null&&a(n,["parameters","guidanceScale"],d);const c=l(e,["seed"]);n!==void 0&&c!=null&&a(n,["parameters","seed"],c);const f=l(e,["safetyFilterLevel"]);n!==void 0&&f!=null&&a(n,["parameters","safetySetting"],f);const p=l(e,["personGeneration"]);n!==void 0&&p!=null&&a(n,["parameters","personGeneration"],p);const m=l(e,["includeSafetyAttributes"]);n!==void 0&&m!=null&&a(n,["parameters","includeSafetyAttributes"],m);const h=l(e,["includeRaiReason"]);n!==void 0&&h!=null&&a(n,["parameters","includeRaiReason"],h);const v=l(e,["language"]);n!==void 0&&v!=null&&a(n,["parameters","language"],v);const _=l(e,["outputMimeType"]);n!==void 0&&_!=null&&a(n,["parameters","outputOptions","mimeType"],_);const k=l(e,["outputCompressionQuality"]);n!==void 0&&k!=null&&a(n,["parameters","outputOptions","compressionQuality"],k);const y=l(e,["editMode"]);n!==void 0&&y!=null&&a(n,["parameters","editMode"],y);const g=l(e,["baseSteps"]);return n!==void 0&&g!=null&&a(n,["parameters","editConfig","baseSteps"],g),o}function mT(t,e){const n={},o=l(e,["model"]);o!=null&&a(n,["_url","model"],j(t,o));const r=l(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=l(e,["referenceImages"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>fT(t,d))),a(n,["instances[0]","referenceImages"],u)}const s=l(e,["config"]);return s!=null&&a(n,["config"],pT(t,s,n)),n}function hT(t,e,n){const o={},r=l(e,["includeRaiReason"]);n!==void 0&&r!=null&&a(n,["parameters","includeRaiReason"],r);const i=l(e,["outputMimeType"]);n!==void 0&&i!=null&&a(n,["parameters","outputOptions","mimeType"],i);const s=l(e,["outputCompressionQuality"]);n!==void 0&&s!=null&&a(n,["parameters","outputOptions","compressionQuality"],s);const u=l(e,["numberOfImages"]);n!==void 0&&u!=null&&a(n,["parameters","sampleCount"],u);const d=l(e,["mode"]);return n!==void 0&&d!=null&&a(n,["parameters","mode"],d),o}function gT(t,e){const n={},o=l(e,["model"]);o!=null&&a(n,["_url","model"],j(t,o));const r=l(e,["image"]);r!=null&&a(n,["instances[0]","image"],Ra(t,r));const i=l(e,["upscaleFactor"]);i!=null&&a(n,["parameters","upscaleConfig","upscaleFactor"],i);const s=l(e,["config"]);return s!=null&&a(n,["config"],hT(t,s,n)),n}function yT(t,e){const n={},o=l(e,["model"]);o!=null&&a(n,["_url","name"],j(t,o));const r=l(e,["config"]);return r!=null&&a(n,["config"],r),n}function vT(t,e,n){const o={},r=l(e,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=l(e,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const s=l(e,["filter"]);n!==void 0&&s!=null&&a(n,["_query","filter"],s);const u=l(e,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],Wp(t,u)),o}function CT(t,e){const n={},o=l(e,["config"]);return o!=null&&a(n,["config"],vT(t,o,n)),n}function _T(t,e,n){const o={},r=l(e,["displayName"]);n!==void 0&&r!=null&&a(n,["displayName"],r);const i=l(e,["description"]);n!==void 0&&i!=null&&a(n,["description"],i);const s=l(e,["defaultCheckpointId"]);return n!==void 0&&s!=null&&a(n,["defaultCheckpointId"],s),o}function TT(t,e){const n={},o=l(e,["model"]);o!=null&&a(n,["_url","model"],j(t,o));const r=l(e,["config"]);return r!=null&&a(n,["config"],_T(t,r,n)),n}function xT(t,e){const n={},o=l(e,["model"]);o!=null&&a(n,["_url","name"],j(t,o));const r=l(e,["config"]);return r!=null&&a(n,["config"],r),n}function ET(t,e,n){const o={},r=l(e,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],io(t,Re(t,r)));const i=l(e,["tools"]);if(n!==void 0&&i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>em(t,d))),a(n,["tools"],u)}const s=l(e,["generationConfig"]);return n!==void 0&&s!=null&&a(n,["generationConfig"],s),o}function ST(t,e){const n={},o=l(e,["model"]);o!=null&&a(n,["_url","model"],j(t,o));const r=l(e,["contents"]);if(r!=null){let s=ot(t,r);Array.isArray(s)&&(s=s.map(u=>io(t,u))),a(n,["contents"],s)}const i=l(e,["config"]);return i!=null&&a(n,["config"],ET(t,i,n)),n}function wT(t,e){const n={},o=l(e,["model"]);o!=null&&a(n,["_url","model"],j(t,o));const r=l(e,["contents"]);if(r!=null){let s=ot(t,r);Array.isArray(s)&&(s=s.map(u=>io(t,u))),a(n,["contents"],s)}const i=l(e,["config"]);return i!=null&&a(n,["config"],i),n}function kT(t,e,n){const o={},r=l(e,["numberOfVideos"]);n!==void 0&&r!=null&&a(n,["parameters","sampleCount"],r);const i=l(e,["outputGcsUri"]);n!==void 0&&i!=null&&a(n,["parameters","storageUri"],i);const s=l(e,["fps"]);n!==void 0&&s!=null&&a(n,["parameters","fps"],s);const u=l(e,["durationSeconds"]);n!==void 0&&u!=null&&a(n,["parameters","durationSeconds"],u);const d=l(e,["seed"]);n!==void 0&&d!=null&&a(n,["parameters","seed"],d);const c=l(e,["aspectRatio"]);n!==void 0&&c!=null&&a(n,["parameters","aspectRatio"],c);const f=l(e,["resolution"]);n!==void 0&&f!=null&&a(n,["parameters","resolution"],f);const p=l(e,["personGeneration"]);n!==void 0&&p!=null&&a(n,["parameters","personGeneration"],p);const m=l(e,["pubsubTopic"]);n!==void 0&&m!=null&&a(n,["parameters","pubsubTopic"],m);const h=l(e,["negativePrompt"]);n!==void 0&&h!=null&&a(n,["parameters","negativePrompt"],h);const v=l(e,["enhancePrompt"]);return n!==void 0&&v!=null&&a(n,["parameters","enhancePrompt"],v),o}function IT(t,e){const n={},o=l(e,["model"]);o!=null&&a(n,["_url","model"],j(t,o));const r=l(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=l(e,["image"]);i!=null&&a(n,["instances[0]","image"],Ra(t,i));const s=l(e,["config"]);return s!=null&&a(n,["config"],kT(t,s,n)),n}function NT(t,e){const n={},o=l(e,["fps"]);o!=null&&a(n,["fps"],o);const r=l(e,["endOffset"]);r!=null&&a(n,["endOffset"],r);const i=l(e,["startOffset"]);return i!=null&&a(n,["startOffset"],i),n}function AT(t,e){const n={},o=l(e,["data"]);o!=null&&a(n,["data"],o);const r=l(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function PT(t,e){const n={},o=l(e,["videoMetadata"]);o!=null&&a(n,["videoMetadata"],NT(t,o));const r=l(e,["thought"]);r!=null&&a(n,["thought"],r);const i=l(e,["inlineData"]);i!=null&&a(n,["inlineData"],AT(t,i));const s=l(e,["codeExecutionResult"]);s!=null&&a(n,["codeExecutionResult"],s);const u=l(e,["executableCode"]);u!=null&&a(n,["executableCode"],u);const d=l(e,["fileData"]);d!=null&&a(n,["fileData"],d);const c=l(e,["functionCall"]);c!=null&&a(n,["functionCall"],c);const f=l(e,["functionResponse"]);f!=null&&a(n,["functionResponse"],f);const p=l(e,["text"]);return p!=null&&a(n,["text"],p),n}function MT(t,e){const n={},o=l(e,["parts"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>PT(t,s))),a(n,["parts"],i)}const r=l(e,["role"]);return r!=null&&a(n,["role"],r),n}function RT(t,e){const n={},o=l(e,["citationSources"]);return o!=null&&a(n,["citations"],o),n}function DT(t,e){const n={},o=l(e,["retrievedUrl"]);o!=null&&a(n,["retrievedUrl"],o);const r=l(e,["urlRetrievalStatus"]);return r!=null&&a(n,["urlRetrievalStatus"],r),n}function LT(t,e){const n={},o=l(e,["urlMetadata"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>DT(t,i))),a(n,["urlMetadata"],r)}return n}function FT(t,e){const n={},o=l(e,["content"]);o!=null&&a(n,["content"],MT(t,o));const r=l(e,["citationMetadata"]);r!=null&&a(n,["citationMetadata"],RT(t,r));const i=l(e,["tokenCount"]);i!=null&&a(n,["tokenCount"],i);const s=l(e,["finishReason"]);s!=null&&a(n,["finishReason"],s);const u=l(e,["urlContextMetadata"]);u!=null&&a(n,["urlContextMetadata"],LT(t,u));const d=l(e,["avgLogprobs"]);d!=null&&a(n,["avgLogprobs"],d);const c=l(e,["groundingMetadata"]);c!=null&&a(n,["groundingMetadata"],c);const f=l(e,["index"]);f!=null&&a(n,["index"],f);const p=l(e,["logprobsResult"]);p!=null&&a(n,["logprobsResult"],p);const m=l(e,["safetyRatings"]);return m!=null&&a(n,["safetyRatings"],m),n}function od(t,e){const n={},o=l(e,["candidates"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>FT(t,d))),a(n,["candidates"],u)}const r=l(e,["modelVersion"]);r!=null&&a(n,["modelVersion"],r);const i=l(e,["promptFeedback"]);i!=null&&a(n,["promptFeedback"],i);const s=l(e,["usageMetadata"]);return s!=null&&a(n,["usageMetadata"],s),n}function VT(t,e){const n={},o=l(e,["values"]);return o!=null&&a(n,["values"],o),n}function UT(){return{}}function OT(t,e){const n={},o=l(e,["embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>VT(t,s))),a(n,["embeddings"],i)}return l(e,["metadata"])!=null&&a(n,["metadata"],UT()),n}function $T(t,e){const n={},o=l(e,["bytesBase64Encoded"]);o!=null&&a(n,["imageBytes"],Xt(t,o));const r=l(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function tm(t,e){const n={},o=l(e,["safetyAttributes","categories"]);o!=null&&a(n,["categories"],o);const r=l(e,["safetyAttributes","scores"]);r!=null&&a(n,["scores"],r);const i=l(e,["contentType"]);return i!=null&&a(n,["contentType"],i),n}function BT(t,e){const n={},o=l(e,["_self"]);o!=null&&a(n,["image"],$T(t,o));const r=l(e,["raiFilteredReason"]);r!=null&&a(n,["raiFilteredReason"],r);const i=l(e,["_self"]);return i!=null&&a(n,["safetyAttributes"],tm(t,i)),n}function GT(t,e){const n={},o=l(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>BT(t,s))),a(n,["generatedImages"],i)}const r=l(e,["positivePromptSafetyAttributes"]);return r!=null&&a(n,["positivePromptSafetyAttributes"],tm(t,r)),n}function zT(t,e){const n={},o=l(e,["baseModel"]);o!=null&&a(n,["baseModel"],o);const r=l(e,["createTime"]);r!=null&&a(n,["createTime"],r);const i=l(e,["updateTime"]);return i!=null&&a(n,["updateTime"],i),n}function Rl(t,e){const n={},o=l(e,["name"]);o!=null&&a(n,["name"],o);const r=l(e,["displayName"]);r!=null&&a(n,["displayName"],r);const i=l(e,["description"]);i!=null&&a(n,["description"],i);const s=l(e,["version"]);s!=null&&a(n,["version"],s);const u=l(e,["_self"]);u!=null&&a(n,["tunedModelInfo"],zT(t,u));const d=l(e,["inputTokenLimit"]);d!=null&&a(n,["inputTokenLimit"],d);const c=l(e,["outputTokenLimit"]);c!=null&&a(n,["outputTokenLimit"],c);const f=l(e,["supportedGenerationMethods"]);return f!=null&&a(n,["supportedActions"],f),n}function HT(t,e){const n={},o=l(e,["nextPageToken"]);o!=null&&a(n,["nextPageToken"],o);const r=l(e,["_self"]);if(r!=null){let i=Jp(t,r);Array.isArray(i)&&(i=i.map(s=>Rl(t,s))),a(n,["models"],i)}return n}function qT(){return{}}function WT(t,e){const n={},o=l(e,["totalTokens"]);o!=null&&a(n,["totalTokens"],o);const r=l(e,["cachedContentTokenCount"]);return r!=null&&a(n,["cachedContentTokenCount"],r),n}function JT(t,e){const n={},o=l(e,["video","uri"]);o!=null&&a(n,["uri"],o);const r=l(e,["video","encodedVideo"]);r!=null&&a(n,["videoBytes"],Xt(t,r));const i=l(e,["encoding"]);return i!=null&&a(n,["mimeType"],i),n}function YT(t,e){const n={},o=l(e,["_self"]);return o!=null&&a(n,["video"],JT(t,o)),n}function KT(t,e){const n={},o=l(e,["generatedSamples"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>YT(t,u))),a(n,["generatedVideos"],s)}const r=l(e,["raiMediaFilteredCount"]);r!=null&&a(n,["raiMediaFilteredCount"],r);const i=l(e,["raiMediaFilteredReasons"]);return i!=null&&a(n,["raiMediaFilteredReasons"],i),n}function ZT(t,e){const n={},o=l(e,["name"]);o!=null&&a(n,["name"],o);const r=l(e,["metadata"]);r!=null&&a(n,["metadata"],r);const i=l(e,["done"]);i!=null&&a(n,["done"],i);const s=l(e,["error"]);s!=null&&a(n,["error"],s);const u=l(e,["response","generateVideoResponse"]);return u!=null&&a(n,["response"],KT(t,u)),n}function QT(t,e){const n={},o=l(e,["fps"]);o!=null&&a(n,["fps"],o);const r=l(e,["endOffset"]);r!=null&&a(n,["endOffset"],r);const i=l(e,["startOffset"]);return i!=null&&a(n,["startOffset"],i),n}function XT(t,e){const n={},o=l(e,["displayName"]);o!=null&&a(n,["displayName"],o);const r=l(e,["data"]);r!=null&&a(n,["data"],r);const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function bT(t,e){const n={},o=l(e,["videoMetadata"]);o!=null&&a(n,["videoMetadata"],QT(t,o));const r=l(e,["thought"]);r!=null&&a(n,["thought"],r);const i=l(e,["inlineData"]);i!=null&&a(n,["inlineData"],XT(t,i));const s=l(e,["codeExecutionResult"]);s!=null&&a(n,["codeExecutionResult"],s);const u=l(e,["executableCode"]);u!=null&&a(n,["executableCode"],u);const d=l(e,["fileData"]);d!=null&&a(n,["fileData"],d);const c=l(e,["functionCall"]);c!=null&&a(n,["functionCall"],c);const f=l(e,["functionResponse"]);f!=null&&a(n,["functionResponse"],f);const p=l(e,["text"]);return p!=null&&a(n,["text"],p),n}function jT(t,e){const n={},o=l(e,["parts"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>bT(t,s))),a(n,["parts"],i)}const r=l(e,["role"]);return r!=null&&a(n,["role"],r),n}function ex(t,e){const n={},o=l(e,["citations"]);return o!=null&&a(n,["citations"],o),n}function tx(t,e){const n={},o=l(e,["content"]);o!=null&&a(n,["content"],jT(t,o));const r=l(e,["citationMetadata"]);r!=null&&a(n,["citationMetadata"],ex(t,r));const i=l(e,["finishMessage"]);i!=null&&a(n,["finishMessage"],i);const s=l(e,["finishReason"]);s!=null&&a(n,["finishReason"],s);const u=l(e,["avgLogprobs"]);u!=null&&a(n,["avgLogprobs"],u);const d=l(e,["groundingMetadata"]);d!=null&&a(n,["groundingMetadata"],d);const c=l(e,["index"]);c!=null&&a(n,["index"],c);const f=l(e,["logprobsResult"]);f!=null&&a(n,["logprobsResult"],f);const p=l(e,["safetyRatings"]);return p!=null&&a(n,["safetyRatings"],p),n}function rd(t,e){const n={},o=l(e,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>tx(t,f))),a(n,["candidates"],c)}const r=l(e,["createTime"]);r!=null&&a(n,["createTime"],r);const i=l(e,["responseId"]);i!=null&&a(n,["responseId"],i);const s=l(e,["modelVersion"]);s!=null&&a(n,["modelVersion"],s);const u=l(e,["promptFeedback"]);u!=null&&a(n,["promptFeedback"],u);const d=l(e,["usageMetadata"]);return d!=null&&a(n,["usageMetadata"],d),n}function nx(t,e){const n={},o=l(e,["truncated"]);o!=null&&a(n,["truncated"],o);const r=l(e,["token_count"]);return r!=null&&a(n,["tokenCount"],r),n}function ox(t,e){const n={},o=l(e,["values"]);o!=null&&a(n,["values"],o);const r=l(e,["statistics"]);return r!=null&&a(n,["statistics"],nx(t,r)),n}function rx(t,e){const n={},o=l(e,["billableCharacterCount"]);return o!=null&&a(n,["billableCharacterCount"],o),n}function ix(t,e){const n={},o=l(e,["predictions[]","embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>ox(t,s))),a(n,["embeddings"],i)}const r=l(e,["metadata"]);return r!=null&&a(n,["metadata"],rx(t,r)),n}function sx(t,e){const n={},o=l(e,["gcsUri"]);o!=null&&a(n,["gcsUri"],o);const r=l(e,["bytesBase64Encoded"]);r!=null&&a(n,["imageBytes"],Xt(t,r));const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function nm(t,e){const n={},o=l(e,["safetyAttributes","categories"]);o!=null&&a(n,["categories"],o);const r=l(e,["safetyAttributes","scores"]);r!=null&&a(n,["scores"],r);const i=l(e,["contentType"]);return i!=null&&a(n,["contentType"],i),n}function Da(t,e){const n={},o=l(e,["_self"]);o!=null&&a(n,["image"],sx(t,o));const r=l(e,["raiFilteredReason"]);r!=null&&a(n,["raiFilteredReason"],r);const i=l(e,["_self"]);i!=null&&a(n,["safetyAttributes"],nm(t,i));const s=l(e,["prompt"]);return s!=null&&a(n,["enhancedPrompt"],s),n}function lx(t,e){const n={},o=l(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>Da(t,s))),a(n,["generatedImages"],i)}const r=l(e,["positivePromptSafetyAttributes"]);return r!=null&&a(n,["positivePromptSafetyAttributes"],nm(t,r)),n}function ax(t,e){const n={},o=l(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>Da(t,i))),a(n,["generatedImages"],r)}return n}function ux(t,e){const n={},o=l(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>Da(t,i))),a(n,["generatedImages"],r)}return n}function cx(t,e){const n={},o=l(e,["endpoint"]);o!=null&&a(n,["name"],o);const r=l(e,["deployedModelId"]);return r!=null&&a(n,["deployedModelId"],r),n}function dx(t,e){const n={},o=l(e,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&a(n,["baseModel"],o);const r=l(e,["createTime"]);r!=null&&a(n,["createTime"],r);const i=l(e,["updateTime"]);return i!=null&&a(n,["updateTime"],i),n}function fx(t,e){const n={},o=l(e,["checkpointId"]);o!=null&&a(n,["checkpointId"],o);const r=l(e,["epoch"]);r!=null&&a(n,["epoch"],r);const i=l(e,["step"]);return i!=null&&a(n,["step"],i),n}function Dl(t,e){const n={},o=l(e,["name"]);o!=null&&a(n,["name"],o);const r=l(e,["displayName"]);r!=null&&a(n,["displayName"],r);const i=l(e,["description"]);i!=null&&a(n,["description"],i);const s=l(e,["versionId"]);s!=null&&a(n,["version"],s);const u=l(e,["deployedModels"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(h=>cx(t,h))),a(n,["endpoints"],m)}const d=l(e,["labels"]);d!=null&&a(n,["labels"],d);const c=l(e,["_self"]);c!=null&&a(n,["tunedModelInfo"],dx(t,c));const f=l(e,["defaultCheckpointId"]);f!=null&&a(n,["defaultCheckpointId"],f);const p=l(e,["checkpoints"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(h=>fx(t,h))),a(n,["checkpoints"],m)}return n}function px(t,e){const n={},o=l(e,["nextPageToken"]);o!=null&&a(n,["nextPageToken"],o);const r=l(e,["_self"]);if(r!=null){let i=Jp(t,r);Array.isArray(i)&&(i=i.map(s=>Dl(t,s))),a(n,["models"],i)}return n}function mx(){return{}}function hx(t,e){const n={},o=l(e,["totalTokens"]);return o!=null&&a(n,["totalTokens"],o),n}function gx(t,e){const n={},o=l(e,["tokensInfo"]);return o!=null&&a(n,["tokensInfo"],o),n}function yx(t,e){const n={},o=l(e,["gcsUri"]);o!=null&&a(n,["uri"],o);const r=l(e,["bytesBase64Encoded"]);r!=null&&a(n,["videoBytes"],Xt(t,r));const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function vx(t,e){const n={},o=l(e,["_self"]);return o!=null&&a(n,["video"],yx(t,o)),n}function Cx(t,e){const n={},o=l(e,["videos"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>vx(t,u))),a(n,["generatedVideos"],s)}const r=l(e,["raiMediaFilteredCount"]);r!=null&&a(n,["raiMediaFilteredCount"],r);const i=l(e,["raiMediaFilteredReasons"]);return i!=null&&a(n,["raiMediaFilteredReasons"],i),n}function _x(t,e){const n={},o=l(e,["name"]);o!=null&&a(n,["name"],o);const r=l(e,["metadata"]);r!=null&&a(n,["metadata"],r);const i=l(e,["done"]);i!=null&&a(n,["done"],i);const s=l(e,["error"]);s!=null&&a(n,["error"],s);const u=l(e,["response"]);return u!=null&&a(n,["response"],Cx(t,u)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tx="Content-Type",xx="X-Server-Timeout",Ex="User-Agent",Ll="x-goog-api-client",Sx="1.0.1",wx=`google-genai-sdk/${Sx}`,kx="v1beta1",Ix="v1beta",id=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class om extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class Fl extends Error{constructor(e,n){n?super(e,{cause:n}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class Nx{constructor(e){var n,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:kx,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:Ix,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,o){const r=[this.getRequestUrlInternal(n)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,o);if(e.queryParams)for(const[s,u]of Object.entries(e.queryParams))r.searchParams.append(s,String(u));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,e.abortSignal),this.unaryApiCall(r,i,e.httpMethod)}patchHttpOptions(e,n){const o=JSON.parse(JSON.stringify(e));for(const[r,i]of Object.entries(n))typeof i=="object"?o[r]=Object.assign(Object.assign({},o[r]),i):i!==void 0&&(o[r]=i);return o}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,e.abortSignal),this.streamApiCall(r,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,o){if(n&&n.timeout||o){const r=new AbortController,i=r.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>r.abort(),n.timeout),o&&o.addEventListener("abort",()=>{r.abort()}),e.signal=i}return e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await sd(r),new Nl(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await sd(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var n;return Fo(this,arguments,function*(){const r=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),i=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let s="";for(;;){const{done:u,value:d}=yield ne(r.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=i.decode(d);try{const p=JSON.parse(c);if("error"in p){const m=JSON.parse(JSON.stringify(p.error)),h=m.status,v=m.code,_=`got status: ${h}. ${JSON.stringify(p)}`;if(v>=400&&v<500)throw new om(_);if(v>=500&&v<600)throw new Fl(_)}}catch(p){const m=p;if(m.name==="ClientError"||m.name==="ServerError")throw p}s+=c;let f=s.match(id);for(;f;){const p=f[1];try{const m=new Response(p,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ne(new Nl(m)),s=s.slice(f[0].length),f=s.match(id)}catch(m){throw new Error(`exception parsing stream chunk ${p}. ${m}`)}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},n=wx+" "+this.clientOptions.userAgentExtra;return e[Ex]=n,e[Ll]=n,e[Tx]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[o,r]of Object.entries(e.headers))n.append(o,r);e.timeout&&e.timeout>0&&n.append(xx,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var o;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const i=this.clientOptions.uploader,s=await i.stat(e);r.sizeBytes=String(s.size);const u=(o=n==null?void 0:n.mimeType)!==null&&o!==void 0?o:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=u;const d=await this.fetchUploadUrl(r,n);return i.upload(e,d,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var o;let r={};n!=null&&n.httpOptions?r=n.httpOptions:r={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const i={file:e},s=await this.request({path:U("upload/v1beta/files",i._url),body:JSON.stringify(i),httpMethod:"POST",httpOptions:r});if(!s||!(s!=null&&s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(o=s==null?void 0:s.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function sd(t){var e;if(t===void 0)throw new Fl("response is undefined");if(!t.ok){const n=t.status,o=t.statusText;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=`got status: ${n} ${o}. ${JSON.stringify(r)}`;throw n>=400&&n<500?new om(i):n>=500&&n<600?new Fl(i):new Error(i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ld="mcp_used/unknown";function rm(t){for(const e of t)if(La(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function im(t){var e;const n=(e=t[Ll])!==null&&e!==void 0?e:"";n.includes(ld)||(t[Ll]=(n+` ${ld}`).trimStart())}function Ax(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>La(r)))!==null&&o!==void 0?o:!1}function Px(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>!La(r)))!==null&&o!==void 0?o:!1}function La(t){return t!==null&&typeof t=="object"&&"tool"in t&&"callTool"in t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Mx(t,e,n){const o=new Hy;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data);const i=bC(t,r);Object.assign(o,i),e(o)}class Rx{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o}async connect(e){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),s=Fx(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),d=`${r}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${u}`;let c=()=>{};const f=new Promise(C=>{c=C}),p=e.callbacks,m=function(){c({})},h=this.apiClient,v={onopen:m,onmessage:C=>{Mx(h,p.onmessage,C)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(C){},onclose:(o=p==null?void 0:p.onclose)!==null&&o!==void 0?o:function(C){}},_=this.webSocketFactory.create(d,Lx(s),v);_.connect(),await f;const k=j(this.apiClient,e.model),y=Xp(this.apiClient,{model:k}),g=Ml(this.apiClient,{setup:y});return _.send(JSON.stringify(g)),new Dx(_,this.apiClient)}}class Dx{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=mC(this.apiClient,e),o=bp(this.apiClient,n);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=hC(this.apiClient,e),o=Ml(this.apiClient,n);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const n=Ml(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Vn.PLAY)}pause(){this.sendPlaybackControl(Vn.PAUSE)}stop(){this.sendPlaybackControl(Vn.STOP)}resetContext(){this.sendPlaybackControl(Vn.RESET_CONTEXT)}close(){this.conn.close()}}function Lx(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function Fx(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vx="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Ux(t,e,n){const o=new zy;let r;if(n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),t.isVertexAI()){const i=HC(t,r);Object.assign(o,i)}else{const i=zC(t,r);Object.assign(o,i)}e(o)}class Ox{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o,this.music=new Rx(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,o,r,i,s,u;const d=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let f;const p=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&rm(e.config.tools)&&im(p);const m=zx(p);if(this.apiClient.isVertexAI())f=`${d}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(m);else{const M=this.apiClient.getApiKey();f=`${d}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateContent?key=${M}`}let h=()=>{};const v=new Promise(M=>{h=M}),_=e.callbacks,k=function(){var M;(M=_==null?void 0:_.onopen)===null||M===void 0||M.call(_),h({})},y=this.apiClient,g={onopen:k,onmessage:M=>{Ux(y,_.onmessage,M)},onerror:(n=_==null?void 0:_.onerror)!==null&&n!==void 0?n:function(M){},onclose:(o=_==null?void 0:_.onclose)!==null&&o!==void 0?o:function(M){}},C=this.webSocketFactory.create(f,Gx(m),g);C.connect(),await v;let x=j(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&x.startsWith("publishers/")){const M=this.apiClient.getProject(),P=this.apiClient.getLocation();x=`projects/${M}/locations/${P}/`+x}let S={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ci.AUDIO]}:e.config.responseModalities=[Ci.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const N=(u=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],E=[];for(const M of N)if(this.isCallableTool(M)){const P=M;E.push(await P.tool())}else E.push(M);E.length>0&&(e.config.tools=E);const A={model:x,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=lC(this.apiClient,A):S=sC(this.apiClient,A),delete S.config,C.send(JSON.stringify(S)),new Bx(C,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const $x={turnComplete:!0};class Bx{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=ot(e,n.turns),e.isVertexAI()?o=o.map(r=>io(e,r)):o=o.map(r=>Gi(e,r))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const i of o){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(Vx)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},$x),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:pC(this.apiClient,e)}:n={realtimeInput:fC(this.apiClient,e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Gx(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function zx(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ad=10;function ud(t){var e,n,o;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Gr(s)){r=!0;break}if(!r)return!0;const i=(o=t==null?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function Gr(t){return"callTool"in t&&typeof t.callTool=="function"}function cd(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hx extends rr{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var o,r,i,s,u;const d=await this.processParamsForMcpUsage(n);if(!Ax(n)||ud(n.config))return await this.generateContentInternal(d);if(Px(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let c,f;const p=ot(this.apiClient,d.contents),m=(i=(r=(o=d.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:ad;let h=0;for(;h<m&&(c=await this.generateContentInternal(d),!(!c.functionCalls||c.functionCalls.length===0));){const v=c.candidates[0].content,_=[];for(const k of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(Gr(k)){const g=await k.callTool(c.functionCalls);_.push(...g)}h++,f={role:"user",parts:_},d.contents=ot(this.apiClient,d.contents),d.contents.push(v),d.contents.push(f),cd(d.config)&&(p.push(v),p.push(f))}return cd(d.config)&&(c.automaticFunctionCallingHistory=p),c},this.generateContentStream=async n=>{if(ud(n.config)){const o=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(o)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var r;let i;const s=[];if(o!=null&&o.generatedImages)for(const d of o.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((r=d==null?void 0:d.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?i=d==null?void 0:d.safetyAttributes:s.push(d);let u;return i?u={generatedImages:s,positivePromptSafetyAttributes:i}:u={generatedImages:s},u}),this.list=async n=>{var o;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((o=s.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Bi(to.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(r)}}async processParamsForMcpUsage(e){var n,o,r;const i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;const s=await Promise.all(i.map(async d=>Gr(d)?await d.tool():d)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(u.config.tools=s,e.config&&e.config.tools&&rm(e.config.tools)){const d=(r=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let c=Object.assign({},d);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),im(c),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return u}async initAfcToolsMap(e){var n,o,r;const i=new Map;for(const s of(o=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(Gr(s)){const u=s,d=await u.tool();for(const c of(r=d.functionDeclarations)!==null&&r!==void 0?r:[]){if(!c.name)throw new Error("Function declaration name is required.");if(i.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);i.set(c.name,u)}}return i}async processAfcStream(e){var n,o,r;const i=(r=(o=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:ad;let s=!1,u=0;const d=await this.initAfcToolsMap(e);return function(c,f,p){var m,h;return Fo(this,arguments,function*(){for(var v,_,k,y;u<i;){s&&(u++,s=!1);const S=yield ne(c.processParamsForMcpUsage(p)),N=yield ne(c.generateContentStreamInternal(S)),E=[],A=[];try{for(var g=!0,C=(_=void 0,Br(N)),x;x=yield ne(C.next()),v=x.done,!v;g=!0){y=x.value,g=!1;const M=y;if(yield yield ne(M),M.candidates&&(!((m=M.candidates[0])===null||m===void 0)&&m.content)){A.push(M.candidates[0].content);for(const P of(h=M.candidates[0].content.parts)!==null&&h!==void 0?h:[])if(u<i&&P.functionCall){if(!P.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(P.functionCall.name)){const K=yield ne(f.get(P.functionCall.name).callTool([P.functionCall]));E.push(...K)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${P.functionCall.name}`)}}}}catch(M){_={error:M}}finally{try{!g&&!v&&(k=C.return)&&(yield ne(k.call(C)))}finally{if(_)throw _.error}}if(E.length>0){s=!0;const M=new go;M.candidates=[{content:{role:"user",parts:E}}],yield yield ne(M);const P=[];P.push(...A),P.push({role:"user",parts:E});const K=ot(c.apiClient,p.contents).concat(P);p.contents=K}else break}})}(this,d,e)}async generateContentInternal(e){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=nd(this.apiClient,e);return u=U("{model}:generateContent",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>{const p=rd(this.apiClient,f),m=new go;return Object.assign(m,p),m})}else{const c=td(this.apiClient,e);return u=U("{model}:generateContent",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{const p=od(this.apiClient,f),m=new go;return Object.assign(m,p),m})}}async generateContentStreamInternal(e){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=nd(this.apiClient,e);u=U("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c.config,delete c._url,delete c._query;const f=this.apiClient;return s=f.requestStream({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(p){return Fo(this,arguments,function*(){var m,h,v,_;try{for(var k=!0,y=Br(p),g;g=yield ne(y.next()),m=g.done,!m;k=!0){_=g.value,k=!1;const x=rd(f,yield ne(_.json())),S=new go;Object.assign(S,x),yield yield ne(S)}}catch(C){h={error:C}}finally{try{!k&&!m&&(v=y.return)&&(yield ne(v.call(y)))}finally{if(h)throw h.error}}})})}else{const c=td(this.apiClient,e);u=U("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c.config,delete c._url,delete c._query;const f=this.apiClient;return s=f.requestStream({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(p){return Fo(this,arguments,function*(){var m,h,v,_;try{for(var k=!0,y=Br(p),g;g=yield ne(y.next()),m=g.done,!m;k=!0){_=g.value,k=!1;const x=od(f,yield ne(_.json())),S=new go;Object.assign(S,x),yield yield ne(S)}}catch(C){h={error:C}}finally{try{!k&&!m&&(v=y.return)&&(yield ne(v.call(y)))}finally{if(h)throw h.error}}})})}}async embedContent(e){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=iT(this.apiClient,e);return u=U("{model}:predict",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>{const p=ix(this.apiClient,f),m=new Fc;return Object.assign(m,p),m})}else{const c=T_(this.apiClient,e);return u=U("{model}:batchEmbedContents",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{const p=OT(this.apiClient,f),m=new Fc;return Object.assign(m,p),m})}}async generateImagesInternal(e){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=lT(this.apiClient,e);return u=U("{model}:predict",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>{const p=lx(this.apiClient,f),m=new Vc;return Object.assign(m,p),m})}else{const c=E_(this.apiClient,e);return u=U("{model}:predict",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{const p=GT(this.apiClient,f),m=new Vc;return Object.assign(m,p),m})}}async editImageInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const u=mT(this.apiClient,e);return i=U("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=ax(this.apiClient,d),f=new Vy;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const u=gT(this.apiClient,e);return i=U("{model}:predict",u._url),s=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=ux(this.apiClient,d),f=new Uy;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=yT(this.apiClient,e);return u=U("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>Dl(this.apiClient,f))}else{const c=S_(this.apiClient,e);return u=U("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Rl(this.apiClient,f))}}async listInternal(e){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=CT(this.apiClient,e);return u=U("{models_url}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>{const p=px(this.apiClient,f),m=new Uc;return Object.assign(m,p),m})}else{const c=k_(this.apiClient,e);return u=U("{models_url}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{const p=HT(this.apiClient,f),m=new Uc;return Object.assign(m,p),m})}}async update(e){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=TT(this.apiClient,e);return u=U("{model}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>Dl(this.apiClient,f))}else{const c=N_(this.apiClient,e);return u=U("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Rl(this.apiClient,f))}}async delete(e){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=xT(this.apiClient,e);return u=U("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(()=>{const f=mx(),p=new Oc;return Object.assign(p,f),p})}else{const c=A_(this.apiClient,e);return u=U("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(()=>{const f=qT(),p=new Oc;return Object.assign(p,f),p})}}async countTokens(e){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=ST(this.apiClient,e);return u=U("{model}:countTokens",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>{const p=hx(this.apiClient,f),m=new $c;return Object.assign(m,p),m})}else{const c=M_(this.apiClient,e);return u=U("{model}:countTokens",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{const p=WT(this.apiClient,f),m=new $c;return Object.assign(m,p),m})}}async computeTokens(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const u=wT(this.apiClient,e);return i=U("{model}:computeTokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=gx(this.apiClient,d),f=new Oy;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=IT(this.apiClient,e);return u=U("{model}:predictLongRunning",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>_x(this.apiClient,f))}else{const c=L_(this.apiClient,e);return u=U("{model}:predictLongRunning",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>ZT(this.apiClient,f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qx(t,e){const n={},o=l(e,["operationName"]);o!=null&&a(n,["_url","operationName"],o);const r=l(e,["config"]);return r!=null&&a(n,["config"],r),n}function Wx(t,e){const n={},o=l(e,["operationName"]);o!=null&&a(n,["_url","operationName"],o);const r=l(e,["config"]);return r!=null&&a(n,["config"],r),n}function Jx(t,e){const n={},o=l(e,["operationName"]);o!=null&&a(n,["operationName"],o);const r=l(e,["resourceName"]);r!=null&&a(n,["_url","resourceName"],r);const i=l(e,["config"]);return i!=null&&a(n,["config"],i),n}function Yx(t,e){const n={},o=l(e,["video","uri"]);o!=null&&a(n,["uri"],o);const r=l(e,["video","encodedVideo"]);r!=null&&a(n,["videoBytes"],Xt(t,r));const i=l(e,["encoding"]);return i!=null&&a(n,["mimeType"],i),n}function Kx(t,e){const n={},o=l(e,["_self"]);return o!=null&&a(n,["video"],Yx(t,o)),n}function Zx(t,e){const n={},o=l(e,["generatedSamples"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>Kx(t,u))),a(n,["generatedVideos"],s)}const r=l(e,["raiMediaFilteredCount"]);r!=null&&a(n,["raiMediaFilteredCount"],r);const i=l(e,["raiMediaFilteredReasons"]);return i!=null&&a(n,["raiMediaFilteredReasons"],i),n}function Qx(t,e){const n={},o=l(e,["name"]);o!=null&&a(n,["name"],o);const r=l(e,["metadata"]);r!=null&&a(n,["metadata"],r);const i=l(e,["done"]);i!=null&&a(n,["done"],i);const s=l(e,["error"]);s!=null&&a(n,["error"],s);const u=l(e,["response","generateVideoResponse"]);return u!=null&&a(n,["response"],Zx(t,u)),n}function Xx(t,e){const n={},o=l(e,["gcsUri"]);o!=null&&a(n,["uri"],o);const r=l(e,["bytesBase64Encoded"]);r!=null&&a(n,["videoBytes"],Xt(t,r));const i=l(e,["mimeType"]);return i!=null&&a(n,["mimeType"],i),n}function bx(t,e){const n={},o=l(e,["_self"]);return o!=null&&a(n,["video"],Xx(t,o)),n}function jx(t,e){const n={},o=l(e,["videos"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>bx(t,u))),a(n,["generatedVideos"],s)}const r=l(e,["raiMediaFilteredCount"]);r!=null&&a(n,["raiMediaFilteredCount"],r);const i=l(e,["raiMediaFilteredReasons"]);return i!=null&&a(n,["raiMediaFilteredReasons"],i),n}function dd(t,e){const n={},o=l(e,["name"]);o!=null&&a(n,["name"],o);const r=l(e,["metadata"]);r!=null&&a(n,["metadata"],r);const i=l(e,["done"]);i!=null&&a(n,["done"],i);const s=l(e,["error"]);s!=null&&a(n,["error"],s);const u=l(e,["response"]);return u!=null&&a(n,["response"],jx(t,u)),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eE extends rr{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let i;return o&&"httpOptions"in o&&(i=o.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}})}else return this.getVideosOperationInternal({operationName:n.name,config:o})}async getVideosOperationInternal(e){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=Wx(this.apiClient,e);return u=U("{operationName}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>dd(this.apiClient,f))}else{const c=qx(this.apiClient,e);return u=U("{operationName}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Qx(this.apiClient,f))}}async fetchPredictVideosOperationInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const u=Jx(this.apiClient,e);return i=U("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>dd(this.apiClient,d))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tE(t,e){const n={},o=l(e,["name"]);o!=null&&a(n,["_url","name"],o);const r=l(e,["config"]);return r!=null&&a(n,["config"],r),n}function nE(t,e,n){const o={},r=l(e,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=l(e,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const s=l(e,["filter"]);return n!==void 0&&s!=null&&a(n,["_query","filter"],s),o}function oE(t,e){const n={},o=l(e,["config"]);return o!=null&&a(n,["config"],nE(t,o,n)),n}function rE(t,e){const n={},o=l(e,["textInput"]);o!=null&&a(n,["textInput"],o);const r=l(e,["output"]);return r!=null&&a(n,["output"],r),n}function iE(t,e){const n={};if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=l(e,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>rE(t,i))),a(n,["examples","examples"],r)}return n}function sE(t,e,n){const o={};if(l(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=l(e,["tunedModelDisplayName"]);if(n!==void 0&&r!=null&&a(n,["displayName"],r),l(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=l(e,["epochCount"]);n!==void 0&&i!=null&&a(n,["tuningTask","hyperparameters","epochCount"],i);const s=l(e,["learningRateMultiplier"]);if(s!=null&&a(o,["tuningTask","hyperparameters","learningRateMultiplier"],s),l(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=l(e,["batchSize"]);n!==void 0&&u!=null&&a(n,["tuningTask","hyperparameters","batchSize"],u);const d=l(e,["learningRate"]);return n!==void 0&&d!=null&&a(n,["tuningTask","hyperparameters","learningRate"],d),o}function lE(t,e){const n={},o=l(e,["baseModel"]);o!=null&&a(n,["baseModel"],o);const r=l(e,["trainingDataset"]);r!=null&&a(n,["tuningTask","trainingData"],iE(t,r));const i=l(e,["config"]);return i!=null&&a(n,["config"],sE(t,i,n)),n}function aE(t,e){const n={},o=l(e,["name"]);o!=null&&a(n,["_url","name"],o);const r=l(e,["config"]);return r!=null&&a(n,["config"],r),n}function uE(t,e,n){const o={},r=l(e,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=l(e,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const s=l(e,["filter"]);return n!==void 0&&s!=null&&a(n,["_query","filter"],s),o}function cE(t,e){const n={},o=l(e,["config"]);return o!=null&&a(n,["config"],uE(t,o,n)),n}function dE(t,e,n){const o={},r=l(e,["gcsUri"]);if(n!==void 0&&r!=null&&a(n,["supervisedTuningSpec","trainingDatasetUri"],r),l(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function fE(t,e){const n={},o=l(e,["gcsUri"]);return o!=null&&a(n,["validationDatasetUri"],o),n}function pE(t,e,n){const o={},r=l(e,["validationDataset"]);n!==void 0&&r!=null&&a(n,["supervisedTuningSpec"],fE(t,r));const i=l(e,["tunedModelDisplayName"]);n!==void 0&&i!=null&&a(n,["tunedModelDisplayName"],i);const s=l(e,["description"]);n!==void 0&&s!=null&&a(n,["description"],s);const u=l(e,["epochCount"]);n!==void 0&&u!=null&&a(n,["supervisedTuningSpec","hyperParameters","epochCount"],u);const d=l(e,["learningRateMultiplier"]);n!==void 0&&d!=null&&a(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],d);const c=l(e,["exportLastCheckpointOnly"]);n!==void 0&&c!=null&&a(n,["supervisedTuningSpec","exportLastCheckpointOnly"],c);const f=l(e,["adapterSize"]);if(n!==void 0&&f!=null&&a(n,["supervisedTuningSpec","hyperParameters","adapterSize"],f),l(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(l(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return o}function mE(t,e){const n={},o=l(e,["baseModel"]);o!=null&&a(n,["baseModel"],o);const r=l(e,["trainingDataset"]);r!=null&&a(n,["supervisedTuningSpec","trainingDatasetUri"],dE(t,r,n));const i=l(e,["config"]);return i!=null&&a(n,["config"],pE(t,i,n)),n}function hE(t,e){const n={},o=l(e,["name"]);o!=null&&a(n,["model"],o);const r=l(e,["name"]);return r!=null&&a(n,["endpoint"],r),n}function sm(t,e){const n={},o=l(e,["name"]);o!=null&&a(n,["name"],o);const r=l(e,["state"]);r!=null&&a(n,["state"],Hp(t,r));const i=l(e,["createTime"]);i!=null&&a(n,["createTime"],i);const s=l(e,["tuningTask","startTime"]);s!=null&&a(n,["startTime"],s);const u=l(e,["tuningTask","completeTime"]);u!=null&&a(n,["endTime"],u);const d=l(e,["updateTime"]);d!=null&&a(n,["updateTime"],d);const c=l(e,["description"]);c!=null&&a(n,["description"],c);const f=l(e,["baseModel"]);f!=null&&a(n,["baseModel"],f);const p=l(e,["_self"]);p!=null&&a(n,["tunedModel"],hE(t,p));const m=l(e,["distillationSpec"]);m!=null&&a(n,["distillationSpec"],m);const h=l(e,["experiment"]);h!=null&&a(n,["experiment"],h);const v=l(e,["labels"]);v!=null&&a(n,["labels"],v);const _=l(e,["pipelineJob"]);_!=null&&a(n,["pipelineJob"],_);const k=l(e,["tunedModelDisplayName"]);return k!=null&&a(n,["tunedModelDisplayName"],k),n}function gE(t,e){const n={},o=l(e,["nextPageToken"]);o!=null&&a(n,["nextPageToken"],o);const r=l(e,["tunedModels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>sm(t,s))),a(n,["tuningJobs"],i)}return n}function yE(t,e){const n={},o=l(e,["name"]);o!=null&&a(n,["name"],o);const r=l(e,["metadata"]);r!=null&&a(n,["metadata"],r);const i=l(e,["done"]);i!=null&&a(n,["done"],i);const s=l(e,["error"]);return s!=null&&a(n,["error"],s),n}function vE(t,e){const n={},o=l(e,["checkpointId"]);o!=null&&a(n,["checkpointId"],o);const r=l(e,["epoch"]);r!=null&&a(n,["epoch"],r);const i=l(e,["step"]);i!=null&&a(n,["step"],i);const s=l(e,["endpoint"]);return s!=null&&a(n,["endpoint"],s),n}function CE(t,e){const n={},o=l(e,["model"]);o!=null&&a(n,["model"],o);const r=l(e,["endpoint"]);r!=null&&a(n,["endpoint"],r);const i=l(e,["checkpoints"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>vE(t,u))),a(n,["checkpoints"],s)}return n}function Vl(t,e){const n={},o=l(e,["name"]);o!=null&&a(n,["name"],o);const r=l(e,["state"]);r!=null&&a(n,["state"],Hp(t,r));const i=l(e,["createTime"]);i!=null&&a(n,["createTime"],i);const s=l(e,["startTime"]);s!=null&&a(n,["startTime"],s);const u=l(e,["endTime"]);u!=null&&a(n,["endTime"],u);const d=l(e,["updateTime"]);d!=null&&a(n,["updateTime"],d);const c=l(e,["error"]);c!=null&&a(n,["error"],c);const f=l(e,["description"]);f!=null&&a(n,["description"],f);const p=l(e,["baseModel"]);p!=null&&a(n,["baseModel"],p);const m=l(e,["tunedModel"]);m!=null&&a(n,["tunedModel"],CE(t,m));const h=l(e,["supervisedTuningSpec"]);h!=null&&a(n,["supervisedTuningSpec"],h);const v=l(e,["tuningDataStats"]);v!=null&&a(n,["tuningDataStats"],v);const _=l(e,["encryptionSpec"]);_!=null&&a(n,["encryptionSpec"],_);const k=l(e,["partnerModelTuningSpec"]);k!=null&&a(n,["partnerModelTuningSpec"],k);const y=l(e,["distillationSpec"]);y!=null&&a(n,["distillationSpec"],y);const g=l(e,["experiment"]);g!=null&&a(n,["experiment"],g);const C=l(e,["labels"]);C!=null&&a(n,["labels"],C);const x=l(e,["pipelineJob"]);x!=null&&a(n,["pipelineJob"],x);const S=l(e,["tunedModelDisplayName"]);return S!=null&&a(n,["tunedModelDisplayName"],S),n}function _E(t,e){const n={},o=l(e,["nextPageToken"]);o!=null&&a(n,["nextPageToken"],o);const r=l(e,["tuningJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Vl(t,s))),a(n,["tuningJobs"],i)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TE extends rr{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Bi(to.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const o=await this.tuneMldevInternal(n);let r="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?r=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(r=o.name.split("/operations/")[0]),{name:r,state:Il.JOB_STATE_QUEUED}}}}async getInternal(e){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=aE(this.apiClient,e);return u=U("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>Vl(this.apiClient,f))}else{const c=tE(this.apiClient,e);return u=U("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>sm(this.apiClient,f))}}async listInternal(e){var n,o,r,i;let s,u="",d={};if(this.apiClient.isVertexAI()){const c=cE(this.apiClient,e);return u=U("tuningJobs",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>{const p=_E(this.apiClient,f),m=new Bc;return Object.assign(m,p),m})}else{const c=oE(this.apiClient,e);return u=U("tunedModels",c._url),d=c._query,delete c.config,delete c._url,delete c._query,s=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{const p=gE(this.apiClient,f),m=new Bc;return Object.assign(m,p),m})}}async tuneInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI()){const u=mE(this.apiClient,e);return i=U("tuningJobs",u._url),s=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>Vl(this.apiClient,d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,o;let r,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=lE(this.apiClient,e);return i=U("tunedModels",u._url),s=u._query,delete u.config,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>yE(this.apiClient,d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xE{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const EE=1024*1024*8,SE=3,wE=1e3,kE=2,hs="x-goog-upload-status";async function IE(t,e,n){var o,r,i;let s=0,u=0,d=new Nl(new Response),c="upload";for(s=t.size;u<s;){const p=Math.min(EE,s-u),m=t.slice(u,u+p);u+p>=s&&(c+=", finalize");let h=0,v=wE;for(;h<SE&&(d=await n.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(u),"Content-Length":String(p)}}}),!(!((o=d==null?void 0:d.headers)===null||o===void 0)&&o[hs]));)h++,await AE(v),v=v*kE;if(u+=p,((r=d==null?void 0:d.headers)===null||r===void 0?void 0:r[hs])!=="active")break;if(s<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const f=await(d==null?void 0:d.json());if(((i=d==null?void 0:d.headers)===null||i===void 0?void 0:i[hs])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function NE(t){return{size:t.size,type:t.type}}function AE(t){return new Promise(e=>setTimeout(e,t))}class PE{async upload(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await IE(e,n,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await NE(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ME{create(e,n,o){return new RE(e,n,o)}}class RE{constructor(e,n,o){this.url=e,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fd="x-goog-api-key";class DE{constructor(e){this.apiKey=e}async addAuthHeaders(e){e.get(fd)===null&&e.append(fd,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LE="gl-node/";class FE{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const o=Fy(e,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const r=new DE(this.apiKey);this.apiClient=new Nx({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:LE+"web",uploader:new PE,downloader:new xE}),this.models=new Hx(this.apiClient),this.live=new Ox(this.apiClient,r,new ME),this.chats=new e0(this.models,this.apiClient),this.caches=new Xv(this.apiClient),this.files=new p0(this.apiClient),this.operations=new eE(this.apiClient),this.tunings=new TE(this.apiClient)}}const lm={}.API_KEY;lm||console.error("API_KEY environment variable not set. Gemini API calls will fail.");const Fa=new FE({apiKey:lm||"MISSING_API_KEY"});function Va(t){let e=t.trim();const n=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,o=e.match(n);o&&o[2]&&(e=o[2].trim());try{return JSON.parse(e)}catch(r){throw console.error("Failed to parse JSON response:",r,"Original text:",t),new Error("La respuesta del servicio no pudo ser procesada como JSON.")}}const VE=t=>{if(!t||typeof t!="string"||t.toLowerCase()==="n/a")return;const e=t.replace(/[€$£RpRs¥元\s]/g,"").replace(",","."),n=parseFloat(e);return isNaN(n)?void 0:n},UE=async t=>{try{const r={model:Hg,contents:{parts:[{inlineData:{mimeType:"image/jpeg",data:t}},{text:'Identifica el producto en esta imagen. Proporciona su nombre común. Ejemplo de respuesta: {"name": "iPhone 13 Pro", "stockImageUrl": "https://example.com/iphone13pro.jpg"}. Si no puedes determinar una URL de imagen de stock, omite la propiedad stockImageUrl. Responde solo con el JSON.'}]},config:{responseMimeType:"application/json"}},i=await Fa.models.generateContent(r),s=Va(i.text);if(s&&typeof s.name=="string")return{name:s.name,stockImageUrl:typeof s.stockImageUrl=="string"?s.stockImageUrl:void 0};throw new Error("Producto no reconocido o formato de respuesta inesperado.")}catch(e){throw console.error("Error identifying product:",e),new Error("Error al identificar el producto. Inténtalo de nuevo.")}},OE=async(t,e)=>{var o,r,i,s;const n=`
Busca precios actuales para un "${t}" en estado "${e}".
Necesito la siguiente información en formato JSON. Para cada plataforma, proporciona:
- "price": El precio como string (ej: "€XXX", "N/A" si no se encuentra). Para Wallapop y Milanuncios, dame el precio individual más bajo estimado para el estado "${e}", no un rango.
- "numericPrice": El precio como número (ej: XXX, 0 o nulo si no es aplicable/encontrado).
- "sourceUrl": (Opcional) Si encuentras un enlace directo a la página del producto o una página de búsqueda relevante en la plataforma específica donde encontraste ese precio, inclúyelo. Si no, omite esta clave o déjala nula.
- "specificNote": (Opcional) Una nota breve sobre el precio (ej: "Para estado '${e}'", "Basado en X anuncios", "Fuente: eBay").

Plataformas principales a consultar (intenta obtener precios de estas primero):
1.  Precio nuevo promedio en tiendas online (clave: "newPrice").
2.  Cash Converters (clave: "cashConverters").
3.  CEX (clave: "cex").
4.  Backmarket (clave: "backmarket").
5.  Wallapop (clave: "wallapop").
6.  Milanuncios (clave: "milanuncios").

Si no encuentras precios suficientes o relevantes en las plataformas principales (especialmente si faltan datos de Wallapop, Milanuncios o plataformas de segunda mano), puedes consultar adicionalmente HASTA DOS de las siguientes fuentes alternativas para completar la información. Indica claramente en "specificNote" de qué fuente alternativa proviene el precio si la clave JSON no es específica (ej., para "otherSource1").
Fuentes alternativas:
- eBay (clave preferida: "ebay")
- GAME (tienda de videojuegos, España) (clave preferida: "gameStore")
- PriceCharting (especialmente para videojuegos y coleccionables) (clave preferida: "priceCharting")
- Tiendas de segunda mano genéricas online (usa claves "otherSource1", "otherSource2" e indica la tienda en "specificNote").

Por favor, considera las siguientes guías de estado al buscar precios:
- CEX (guía: https://es.support.webuy.com/support/solutions/articles/43000073240--c%C3%B3mo-clasifica-cex-los-art%C3%ADculos-).
- Backmarket (guía: https://help.backmarket.com/hc/es/articles/360026656634--Cu%C3%A1l-ser%C3%A1-el-estado-del-dispositivo-que-reciba): Es crucial que el precio para Backmarket sea específico para el estado "${e}".
- Cash Converters (guía: https://www.cashconverters.es/es/es/oportunidades/nosotros/guia-estados-de-producto/).

Si alguna información no está disponible, usa "N/A" para "price", y nulo o 0 para "numericPrice".
Asegúrate de que la respuesta sea únicamente el objeto JSON.

Ejemplo de respuesta (incluyendo posibles fuentes alternativas):
{
  "newPrice": { "price": "€799", "numericPrice": 799, "specificNote": "Promedio tiendas online" },
  "cashConverters": { "price": "€450", "numericPrice": 450, "sourceUrl": "https://cashconverters.es/...", "specificNote": "Precio orientativo para '${e}'" },
  "cex": { "price": "€500", "numericPrice": 500, "sourceUrl": "https://webuy.com/...", "specificNote": "Para estado '${e}'" },
  "backmarket": { "price": "N/A", "numericPrice": null },
  "wallapop": { "price": "€480", "numericPrice": 480 },
  "milanuncios": { "price": "N/A", "numericPrice": null },
  "ebay": { "price": "€470", "numericPrice": 470, "sourceUrl": "https://ebay.es/...", "specificNote": "Precio más bajo encontrado en eBay para '${e}'" },
  "gameStore": { "price": "€55", "numericPrice": 55, "sourceUrl": "https://game.es/...", "specificNote": "Juego '${t}' para '${e}' en GAME" }
}
`;try{const u={model:Ap,contents:n,config:{tools:[{googleSearch:{}}]}},d=await Fa.models.generateContent(u),c=Va(d.text),f={};for(const m in c)if(Object.prototype.hasOwnProperty.call(c,m)){const h=m,v=c[h];v&&(f[h]={...v,numericPrice:v.numericPrice!==void 0?v.numericPrice:VE(v.price)})}const p=((s=(i=(r=(o=d.candidates)==null?void 0:o[0])==null?void 0:r.groundingMetadata)==null?void 0:i.groundingChunks)==null?void 0:s.filter(m=>{var h;return(h=m.web)==null?void 0:h.uri}).map(m=>({web:m.web})))||[];return f.sources=p,f}catch(u){throw console.error("Error searching prices:",u),new Error("Error al buscar precios. Inténtalo de nuevo.")}},$E=async t=>{const e=`
Genera un checklist de funcionamiento conciso para un "${t}".
Enfócate en comprobaciones comunes para este tipo de producto.
Si es un dispositivo electrónico, incluye verificaciones de encendido, pantalla (si aplica), botones, puertos y batería (si aplica).
Para aspectos físicos, incluye el estado de la pantalla (si existe), carcasa y signos de daño.
Estructura la salida como un objeto JSON con categorías como claves y un array de ítems de verificación (strings) como valores.
Ejemplo de respuesta:
{
  "Aspecto Físico": ["Pantalla sin arañazos profundos", "Carcasa sin golpes ni fisuras", "Lentes de cámara limpias (si aplica)"],
  "Funcionalidad Básica": ["Enciende y apaga correctamente", "Todos los botones físicos responden", "Pantalla táctil funciona en todas las áreas (si aplica)"],
  "Conectividad (si aplica)": ["WiFi se conecta", "Bluetooth empareja", "Puertos de carga/datos funcionan"],
  "Batería (si aplica)": ["Carga correctamente", "Duración de batería acorde al uso (subjetivo)"]
}
Responde únicamente con el objeto JSON.
`;try{const n={model:Ap,contents:e,config:{responseMimeType:"application/json"}},o=await Fa.models.generateContent(n);return Va(o.text)}catch(n){throw console.error("Error generating checklist:",n),new Error("Error al generar el checklist. Inténtalo de nuevo.")}},BE=()=>{const[t,e]=Z.useState(Ae.CAPTURE),[n,o]=Z.useState({}),[r,i]=Z.useState(null),[s,u]=Z.useState(null),[d,c]=Z.useState(!1),[f,p]=Z.useState("Cargando..."),[m,h]=Z.useState(""),v=(E,A)=>{c(E),A&&p(A)},_=E=>{h(E)},k=()=>h(""),y=Z.useCallback(()=>{o({}),i(null),u(null),e(Ae.CAPTURE),c(!1),h("")},[]),g=(E,A)=>{o({userImage:E,identifiedProduct:A,manualName:void 0,condition:void 0,stockQuantity:0}),e(Ae.CONFIRM_CONDITION)},C=()=>{o({userImage:void 0,identifiedProduct:void 0,manualName:"",condition:void 0,stockQuantity:0}),e(Ae.CONFIRM_CONDITION)},x=async(E,A,M)=>{o(P=>({...P,manualName:E,condition:A,stockQuantity:M===void 0?0:M})),c(!0),p("Buscando precios..."),h("");try{const P=await OE(E,A);i(P),e(Ae.RESULTS)}catch(P){console.error(P),h(P instanceof Error?P.message:"Error desconocido al buscar precios.")}finally{c(!1)}},S=async()=>{var A;const E=n.manualName||((A=n.identifiedProduct)==null?void 0:A.name);if(!E){h("Nombre de producto no disponible para generar checklist.");return}c(!0),p("Generando checklist..."),h("");try{const M=await $E(E);u(M),e(Ae.CHECKLIST)}catch(M){console.error(M),h(M instanceof Error?M.message:"Error desconocido al generar checklist.")}finally{c(!1)}},N=()=>{switch(t){case Ae.CAPTURE:return T.jsx(Wg,{onProductIdentified:g,onManualSearch:C,setLoading:v,setError:_,clearError:k,identifyProductApi:UE});case Ae.CONFIRM_CONDITION:return T.jsx(Jg,{productInfo:n,onConfirmAndPriceSearch:x,onBackToCapture:y});case Ae.RESULTS:return r?T.jsx(Qg,{productInfo:n,priceInfo:r,onGenerateChecklist:S,onNewSearch:y}):(h("Datos de precios no disponibles. Por favor, intenta de nuevo."),e(Ae.CONFIRM_CONDITION),null);case Ae.CHECKLIST:return s?T.jsx(Xg,{productInfo:n,checklist:s,onNewSearch:y}):(h("Checklist no disponible. Por favor, intenta de nuevo."),e(Ae.RESULTS),null);default:return T.jsx("p",{children:"Estado desconocido"})}};return T.jsxs("div",{className:"min-h-screen flex flex-col bg-slate-900 text-slate-100 selection:bg-indigo-500 selection:text-white",children:[d&&T.jsx(jg,{message:f,fullScreen:!0}),m&&T.jsxs("div",{className:"fixed top-4 right-4 z-[100] bg-red-600 text-white p-4 rounded-lg shadow-lg max-w-md flex items-start",children:[T.jsx(Np,{className:"w-5 h-5 mr-3 mt-1 shrink-0"}),T.jsxs("div",{children:[T.jsx("p",{className:"font-semibold",children:"Error"}),T.jsx("p",{className:"text-sm",children:m})]}),T.jsx("button",{onClick:k,className:"ml-4 text-xl font-bold",children:"×"})]}),T.jsx("main",{className:"flex-grow container mx-auto px-0 sm:px-4 py-4",children:N()}),t===Ae.CAPTURE&&T.jsx(bg,{})]})},am=document.getElementById("root");if(!am)throw new Error("Could not find root element to mount to");const GE=gs.createRoot(am);GE.render(T.jsx(wm.StrictMode,{children:T.jsx(BE,{})}));
